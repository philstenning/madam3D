var _e=Object.defineProperty,ye=Object.defineProperties;var be=Object.getOwnPropertyDescriptors;var V=Object.getOwnPropertySymbols;var Fe=Object.prototype.hasOwnProperty,we=Object.prototype.propertyIsEnumerable;var L=(e,r,a)=>r in e?_e(e,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[r]=a,p=(e,r)=>{for(var a in r||(r={}))Fe.call(r,a)&&L(e,a,r[a]);if(V)for(var a of V(r))we.call(r,a)&&L(e,a,r[a]);return e},y=(e,r)=>ye(e,be(r));var P=(e,r,a)=>(L(e,typeof r!="symbol"?r+"":r,a),a);import{j as l,a as t,D as Ne,v as M,g as Se,C as R,r as u,O as A,u as j,b as E,c as T,H as I,S as Ce,L as xe,T as U,G as Pe,d as ke,e as De,f as k,A as z,m as O,h as G,i as Y,k as Le,F as S,N as b,R as W,l as Me,n as Re,o as Q,p as Ae,q as je,s as q,t as Ee,w as Te,x as F,B as Ie,y as ze,z as Oe,P as $e}from"./vendor.eea10932.js";const He=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function a(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerpolicy&&(i.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?i.credentials="include":n.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(n){if(n.ep)return;n.ep=!0;const i=a(n);fetch(n.href,i)}};He();const Be=()=>l("div",{children:[t("h2",{children:"Help"}),l("ul",{children:[l("li",{children:[t("a",{href:"https://github.com/react-spring/gltfjsx",children:t("code",{children:"@react-three/gltfjsx"})})," ","\u2013 turns GLTFs into JSX components"]}),l("li",{children:[t("a",{href:"https://github.com/react-spring/drei",children:t("code",{children:"@react-three/drei"})})," ","\u2013 useful helpers for react-three-fiber"]}),l("li",{children:[t("a",{href:"https://github.com/react-spring/react-postprocessing",children:t("code",{children:"@react-three/postprocessing"})})," ","\u2013 post-processing effects"]}),l("li",{children:[t("a",{href:"https://github.com/react-spring/react-three-flex",children:t("code",{children:"@react-three/flex"})})," ","\u2013 flexbox for react-three-fiber"]}),l("li",{children:[t("a",{href:"https://github.com/react-spring/react-xr",children:t("code",{children:"@react-three/xr"})})," ","\u2013 VR/AR controllers and events"]}),l("li",{children:[t("a",{href:"https://github.com/react-spring/use-cannon",children:t("code",{children:"@react-three/cannon"})})," ","\u2013 physics based hooks"]}),l("li",{children:[t("a",{href:"https://github.com/react-spring/zustand",children:t("code",{children:"zustand"})})," ","\u2013 state management"]}),l("li",{children:[t("a",{href:"https://github.com/react-spring/react-spring",children:t("code",{children:"react-spring"})})," ","\u2013 a spring-physics-based animation library"]}),l("li",{children:[t("a",{href:"https://github.com/react-spring/react-use-gesture",children:t("code",{children:"react-use-gesture"})})," ","\u2013 mouse/touch gestures"]}),l("li",{children:[t("a",{href:"https://github.com/pmndrs/leva",children:t("code",{children:"leva"})})," ","\u2013 create GUI controls in seconds"]})]}),l("ul",{children:[t("li",{children:t("a",{href:"https://github.com/mrdoob/three.js/blob/master/examples/webgl_loader_3mf.html",children:"3mf loader"})}),t("li",{children:t("a",{href:"https://github.com/mrdoob/three.js/blob/master/examples/webgl_loader_gcode.html",children:"gcode loader"})})]})]});var g;(function(e){e[e.STL=0]="STL",e[e.OBJ=1]="OBJ",e[e.GCODE=2]="GCODE",e[e.THREE_MF=3]="THREE_MF",e[e.NOT_SUPPORTED=4]="NOT_SUPPORTED"})(g||(g={}));class Ve extends Ne{constructor(r="AppDb"){super(r);P(this,"folders");P(this,"projects");P(this,"files");this.version(1).stores({folders:"id, name, filePath,created",projects:"id, name, created, updated",files:"id,name, folderId, type, size, created"}),this.folders=this.table("folders"),this.projects=this.table("projects"),this.files=this.table("files")}}let f;function Ue(){f=new Ve}const Ge=async(e="",r=[])=>{const a=new Date,s={id:M(),created:a,updated:a,name:e,itemIds:r};try{return s.name===""&&(s.name=Se({words:3}).dashed),await f.projects.add(s),s}catch(n){console.error("error adding project to database: ",n)}return s};async function J(e){const r=Ye(e);if(!e)return r.message="No folder selected",r;const a=await f.folders.where({name:e.name}).toArray();for(const s of a)if(s&&!await s.handle.isSameEntry(e.handle))return r.message="Folder already exists in database",r.result=!1,r;try{const s=await f.folders.add(e);return console.log(`folder added to db: ${s}`),r.result=!0,r.message=s.toString(),r}catch(s){return console.error("Error saving data to Folders table: ",s),r.message="Error saving data to Folders table",r}}function Ye(e,r=!1,a=""){return{result:r,message:a,object:e||null}}function K(e){return{id:e.id,name:e.name,created:e.created.toLocaleString(),updated:e.updated.toLocaleString()}}const We=({fileUrl:e="http://localhost:3000/src/images/arm_joiner_double.stl"})=>{const r=j(Ce,e),a=u.exports.useRef(null);r.computeBoundingSphere();const s=r.boundingSphere?r.boundingSphere.radius:0,n=40/s;return t(E,{alignTop:!0,children:t("mesh",{geometry:r,ref:a,scale:n,children:t("meshNormalMaterial",{flatShading:!0})})})};function Qe(){const{progress:e}=T();return l(I,{center:!0,children:[e," % loaded"]})}const X=({fileUrl:e="http://localhost:3000/src/images/arm_joiner_double.stl"})=>l(R,{style:{},camera:{position:[1,70,100],fov:50,near:10,far:400},children:[t("pointLight",{position:[100,100,100]}),t("pointLight",{position:[-100,-100,-100]}),t("gridHelper",{args:[80,12,"magenta","cyan"]}),l(u.exports.Suspense,{fallback:t(Qe,{}),children:[t(We,{fileUrl:e}),t(A,{})]})]}),qe=({fileUrl:e="http://localhost:3000/src/images/servo_motor.3mf"})=>{const r=new xe;new U(r);const a=j(U,e);return t(E,{alignTop:!0,children:t("primitive",{object:a})})};function Je(){const{progress:e}=T();return l(I,{center:!0,children:[e," % loaded"]})}const Z=({fileUrl:e="http://localhost:3000/src/images/servo_motor.3mf"})=>l(R,{style:{},camera:{position:[1,70,100],fov:50,near:10,far:200},children:[t("pointLight",{position:[100,100,100]}),t("pointLight",{position:[-100,-100,-100]}),t("gridHelper",{args:[80,12,"magenta","cyan"]}),l(u.exports.Suspense,{fallback:t(Je,{}),children:[t(qe,{fileUrl:e}),t(A,{})]})]}),Ke=({fileUrl:e="http://localhost:3000/src/images/demo.gcode"})=>{const r=j(Pe,e);return t(E,{alignTop:!0,children:t("primitive",{object:r})})};function Xe(){const{progress:e}=T();return l(I,{center:!0,children:[e," % loaded"]})}const ee=({fileUrl:e="http://localhost:3000/src/images/demo.gcode"})=>l(R,{style:{},camera:{position:[1,70,100],fov:110,near:10,far:400},children:[t("pointLight",{position:[100,100,100]}),t("pointLight",{position:[-100,-100,-100]}),t("gridHelper",{args:[200,12,"magenta","cyan"]}),l(u.exports.Suspense,{fallback:t(Xe,{}),children:[t(Ke,{fileUrl:e}),t(A,{})]})]});const v=()=>De(),m=ke,Ze={selectedParts:[]},te=k({name:"selectedFolderItems",initialState:Ze,reducers:{removePart(e,r){e.selectedParts=e.selectedParts.filter(a=>a.id!=r.payload)},clearParts(e){e.selectedParts=[]},addPart(e,r){e.selectedParts.push(r.payload)},removeAllPartsForFolder(e,r){e.selectedParts=e.selectedParts.filter(a=>a.folderId!==r.payload)}}}),{removePart:et,clearParts:nr,addPart:tt,removeAllPartsForFolder:rt}=te.actions;var at=te.reducer;const st=({file:e})=>l("div",{className:"card",children:[e.type===g.STL&&t(X,{fileUrl:e.imageUrl}),e.type===g.THREE_MF&&t(Z,{fileUrl:e.imageUrl}),e.type===g.GCODE&&t(ee,{fileUrl:e.imageUrl}),t(lt,{file:e})]}),lt=({file:e})=>{const r=m(o=>o.selectedFolderItemsReducer.selectedParts.filter(d=>d.id===e.id).length===1),{folderId:a,id:s,rootId:n,name:i}=e,c=v(),h=o=>{o.stopPropagation(),c(r?et(s):tt({id:s,folderId:a,rootId:n}))};return t(z,{children:t(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"card-overlay",onClick:o=>h(o),children:l("div",{className:"overlay-content",children:[t("p",{className:"card-filename",children:i}),t("div",{className:"overlay-checkbox",children:t("input",{type:"checkbox",checked:r,readOnly:!0})})]})})})};const nt={currentFolder:null,showDialog:!1,cursor:0,currentRootFolder:null},it=G("getKnownFoldersAsync",async()=>{try{return await f.folders.toArray()}catch(e){throw new Error(`Error fetching data from local database. ${e}`)}}),re=G("deleteFolderAsync",async(e,r)=>{r.dispatch(rt(e));try{return await f.folders.delete(e),e}catch(a){throw new Error(`Error deleting folder from local database. ${a}`)}}),ae=k({name:"folder",initialState:nt,reducers:{hideDeleteFolderDialog(e){e.showDialog=!1},showDeleteFolderDialog(e){e.showDialog=!0},setCurrentFolder(e,r){e.currentFolder=r.payload},setCurrentRootFolder(e,r){e.currentRootFolder=r.payload},deleteFolder(e){},setCursor(e,r){e.cursor=r.payload}},extraReducers:e=>{e.addCase(re.fulfilled,(r,a)=>{r.currentFolder=null,r.showDialog=!1}).addCase(it.fulfilled,(r,a)=>{})}}),{hideDeleteFolderDialog:ct,showDeleteFolderDialog:ot,setCurrentFolder:D,setCurrentRootFolder:se,setCursor:le}=ae.actions;var dt=ae.reducer;async function ne(e){let r=await e.queryPermission();return r==="prompt"&&(r=await e.requestPermission()),r==="granted"}async function ht(){try{const e=await window.showDirectoryPicker({});if(e.kind==="directory")return $(e)}catch(e){console.error(`Error: ${e}`)}return null}function $(e,r="/",a=!1,s="",n=0){const i=new Date;return{id:Y(e.name+i.toISOString()),handle:e,created:i,updated:i,name:e.name,isRoot:a,filePath:r,rootId:s,parts:n}}async function ut(e){let r=[];if(!e)return r;for await(const a of e.handle.values())if(a.kind==="file"&&(a.name.toLowerCase().endsWith(".stl")||a.name.toLowerCase().endsWith(".3mf")||a.name.toLowerCase().endsWith(".gcode"))){const s=await mt(e,a);s&&r.push(s)}return r}async function ie(e,r,a=!1,s=""){console.log(`folder: ${r}`);let n=[];const i=[];try{for await(const o of e.values())o.kind==="directory"?i.push(o):o.kind==="file"&&(o.name.toLowerCase().endsWith(".stl")||o.name.toLowerCase().endsWith(".3mf")||o.name.toLowerCase().endsWith(".gcode"))&&n.push(o)}catch(o){console.error(`Error getting folder entries:\r
              ${o}`)}let c=null;const h=n.length;if(h>0||a)if(console.log(`	files: ${n.length}`),a){const o=$(e,r,a,"",h);o.rootId=o.id,c=await J(o),s=o.id}else{const o=$(e,r,a,s,h);c=await J(o)}else console.log(`folder not added ${r}`);for await(const o of i)await ie(o,`${r}/${o.name}`,!1,s);return c}async function mt(e,r){const a=await e.handle.getFileHandle(r.name),s=await a.getFile(),n=URL.createObjectURL(s),i=pt(s);return i!==g.NOT_SUPPORTED?gt(s,a,n,e.id,e.rootId,i):null}function pt(e){switch(e.name.toLowerCase().split(".").pop()){case"stl":return g.STL;case"3mf":return g.THREE_MF;case"gcode":return g.GCODE;default:return g.NOT_SUPPORTED}}function gt(e,r,a,s,n,i){return{id:Y(`${e.name}${s}`),created:new Date(e.lastModified),folderId:s,rootId:n,handle:r,name:e.name,printed:!1,size:e.size,type:i,updated:new Date(e.lastModified),description:"",imageUrl:a,projectId:[s]}}function ce(e,r=1,a=0,s=4){let n=a+r>0?a+r:0;const i=Math.ceil(e/s);return n>=i&&(n=i-1),{newCursor:n}}function oe(e,r,a){return Math.ceil(e.length/a)===r&&--r,e.slice(r*a,(r+1)*a)}const ft=({countOfFiles:e,limit:r})=>{const a=m(c=>c.folderReducer.cursor),s=v(),n=Math.ceil(e/r),i=(c,h)=>{c.preventDefault();const{newCursor:o}=ce(e,h,a,r);console.log("cursor",a,"newCursor",o),s(le(o))};return l("div",{className:"pagination",children:[t("button",{type:"button",className:"btn pagination__btn",onClick:c=>i(c,-1),disabled:a===0,children:"Previous"}),l("p",{className:"pagination__txt",children:[a+1|0," of ",n]}),t("button",{type:"button",className:"btn pagination__btn",onClick:c=>i(c,1),disabled:a===n-1,children:"Next"})]})};function de(){const{innerHeight:e,innerWidth:r}=window,a=parseFloat(getComputedStyle(document.documentElement).fontSize),s=Math.floor(r-19.6*a),i=Math.floor(e-8*a)>490?2:1;let c={"--model-list-columns":4,"--model-list-rows":i},h=2;return s>950?(h=3*i,c["--model-list-columns"]=3):s>500?(h=2*i,c["--model-list-columns"]=2):s<500&&(h=1*i,c["--model-list-columns"]=1),{style:c,listQuantity:h}}const vt=()=>{const{cursor:e,currentFolder:r}=m(_=>_.folderReducer),a=r==null?void 0:r.id,s=v(),[n,i]=u.exports.useState([]),[c,h]=u.exports.useState([]),[o,d]=u.exports.useState(4),[w,C]=u.exports.useState(),[me,{width:pe,height:ge}]=Le();return u.exports.useEffect(()=>{const{listQuantity:_,style:x}=de();C(x),d(_);const N=oe(n,e,_);h(N)},[e,pe,ge]),u.exports.useEffect(()=>{const{listQuantity:_}=de();(async()=>{if(a){const x=await f.folders.where({id:a}).first();if(!x)return;const N=await ut(x);if(N){i(N);const{newCursor:fe}=ce(N.length,0,0,_),ve=oe(N,fe,_);h(ve),s(le(0))}else i([])}})()},[a]),l(S,{children:[a&&t(ft,{countOfFiles:n.length,limit:o}),a&&t("div",{ref:me,style:w,className:"model-list",children:c==null?void 0:c.map(_=>t(st,{file:_},M()))})]})},_t={partsFilter:"allFiles",show:{gcode:!1,obj:!1,stl:!0,threeMF:!0},folder:{settingDetailsIsOpen:!1,searchFiltersParts:!0}},he=k({name:"settings",initialState:_t,reducers:{toggleGcode(e){e.show.gcode=!e.show.gcode},toggleStl(e){e.show.stl=!e.show.stl},toggle3mf(e){e.show.threeMF=!e.show.threeMF},toggleObj(e){e.show.obj=!e.show.obj},setPartFilter(e,r){e.partsFilter=r.payload},toggleSettingsDetails(e){e.folder.settingDetailsIsOpen=!e.folder.settingDetailsIsOpen},toggleSearchFiltersParts(e){e.folder.searchFiltersParts=!e.folder.searchFiltersParts}}}),{toggleGcode:yt,toggle3mf:bt,setPartFilter:Ft,toggleObj:ir,toggleStl:wt,toggleSettingsDetails:Nt,toggleSearchFiltersParts:St}=he.actions;var Ct=he.reducer;const H=({children:e,type:r="secondary"})=>t("span",{className:`badge ${r}`,children:e}),xt=()=>{const e=m(i=>i.folderReducer.currentFolder),r=m(i=>i.selectedFolderItemsReducer.selectedParts),a=v();if(typeof e=="undefined")return null;const s=()=>{(e==null?void 0:e.id)&&a(ot())};function n(){return r.filter(i=>i.folderId===(e==null?void 0:e.id)).length}return t(S,{children:l("div",{className:"fd",children:[t("div",{children:t("button",{onClick:s,children:"Delete"})}),l("ul",{className:"fd__list",children:[l("li",{children:["path: ",(e==null?void 0:e.filePath)||(e==null?void 0:e.name)]}),l("li",{children:["added: ",e==null?void 0:e.created]}),l("li",{className:"flex-start",children:["selected:"," ",t(H,{type:n()?"primary":"secondary",children:n()})]})]}),t("button",{role:"button",className:"btn badge",onClick:()=>a(Nt()),children:"filters"}),t(Pt,{})]})})},Pt=()=>{const e=m(s=>s.settingsReducer),r=v();function a(s,n){s.stopPropagation(),r(Ft(n))}return t(z,{children:e.folder.settingDetailsIsOpen&&l(O.ul,{style:{overflow:"hidden"},initial:{opacity:0,height:0},animate:{opacity:1,height:"fit-content"},exit:{opacity:0,height:0},transition:{type:"tween"},className:"fd__more",children:[l("li",{className:"flex flex-column",children:[l("div",{children:[t("label",{className:"pr-0",htmlFor:"all",children:"all files"}),t("input",{onChange:s=>a(s,"allFiles"),type:"radio",id:"all",name:"selected",value:"all",checked:e.partsFilter==="allFiles"})]}),l("div",{children:[t("label",{className:"pr-0",htmlFor:"selected",children:"selected files only"}),t("input",{type:"radio",id:"selected",name:"selected",value:"selected",checked:e.partsFilter==="selectedFiles",onChange:s=>a(s,"selectedFiles")})]}),l("div",{children:[t("label",{className:"pr-0",htmlFor:"unselected",children:"unselected files only"}),t("input",{onChange:s=>a(s,"unSelectedFiles"),type:"radio",id:"unselected",name:"selected",value:"unselected",checked:e.partsFilter==="unSelectedFiles"})]})]}),l("li",{children:[" ",l("label",{className:"pr-0",htmlFor:"stl",children:[".stl"," "]}),t("input",{id:"stl",type:"checkbox",checked:e.show.stl,onChange:()=>r(wt())})]}),l("li",{children:[" ",l("label",{className:"pr-0",htmlFor:"3MF",children:[".3MF"," "]}),t("input",{id:"3MF",type:"checkbox",checked:e.show.threeMF,onChange:()=>r(bt())})," "]}),l("li",{children:[" ",l("label",{className:"pr-0",htmlFor:"gcode",children:[".gcode"," "]}),t("input",{id:"gcode",type:"checkbox",checked:e.show.gcode,onChange:()=>r(yt())})," "]}),l("li",{children:[" ",t("label",{className:"pr-0",htmlFor:"search-filters-parts",children:"search filters parts"}),t("input",{id:"search-filters-parts",type:"checkbox",checked:e.folder.searchFiltersParts,onChange:()=>r(St())})," "]})]})})},kt=({folder:e})=>{const r=v(),a=m(c=>c.selectedFolderItemsReducer.selectedParts),s=async c=>{if(c.stopPropagation(),await ne(e.handle)){const o={created:e.created.toDateString(),id:e.id,name:e.name,updated:e.updated.toDateString(),filePath:e.filePath};r(D(o))}},n=c=>a.filter(h=>h.folderId===c).length,i=c=>`${c.parts} parts`;return t("li",{className:"accordion__child-item",onClick:c=>s(c),children:l(b,{className:`accordion__link  
       
        accordion__child-link`,to:`/folders/${e.id}`,children:[e.name,t("span",{className:"flex-end",children:t(H,{type:n(e.id)>0?"primary":"secondary",children:i(e)})})]})})},Dt=({folders:e})=>{const[r,a]=u.exports.useState(e),s=m(d=>d.folderReducer.currentRootFolder),n=m(d=>d.selectedFolderItemsReducer.selectedParts),i=m(d=>d.searchReducer.searchText),c=v();u.exports.useEffect(()=>{e&&a(Lt(e,i))},[i,e]);const h=async d=>{if(d.id===(s==null?void 0:s.id)){c(se(null)),c(D(null));return}if(await ne(d.handle)){const C=K(d);c(se(C)),c(D(C))}},o=d=>(s==null?void 0:s.id)===d.rootId;return t("ul",{className:" accordion__group__list",children:r==null?void 0:r.filter(d=>d.isRoot).map(d=>l("li",{className:"accordion__item",onClick:()=>h(d),children:[l(b,{className:"accordion__link ",to:`/folders/${d.id}`,children:[d.name," ",t("span",{className:"flex-end",children:l(H,{type:n.filter(w=>w.rootId===d.rootId).length>0?"primary":"secondary",children:[r.filter(w=>w.rootId===d.rootId).length+(d.parts>0?0:-1)," ","models"]})})]}),t(Mt,{folders:r,isActive:o(d),rootFolder:d})]},d.id))})};function Lt(e,r){const a=e.filter(n=>n.name.includes(r)&&!n.isRoot),s=e.filter(n=>n.isRoot).map(n=>n.name.includes(r)?p({},n):y(p({},n),{parts:0})).filter(n=>n.parts>0||a.filter(i=>i.rootId===n.id).length>0);return[...a,...s]}const Mt=({rootFolder:e,folders:r,isActive:a})=>t(z,{children:a&&t(O.ul,{style:{overflow:"hidden",display:"flex",gap:"0.5rem",flexDirection:"column"},initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{type:"tween"},className:"accordion__child-list",children:r.filter(s=>s.rootId===e.rootId).map(s=>{if(s.parts)return t(kt,{folder:s},M())})})});const Rt=({children:e,title:r,show:a})=>t(S,{children:a&&t("div",{className:"dialog",children:l("div",{className:"dialog__container",children:[t("h4",{className:"dialog__title",children:r}),e]})})});function At(){var s;const e=m(n=>n.folderReducer),r=v(),a=()=>{var n,i;((n=e.currentFolder)==null?void 0:n.id)&&r(re((i=e.currentFolder)==null?void 0:i.id))};return l(Rt,{title:"Delete Folder",show:e.showDialog,children:[t("p",{children:"Are you sure you want to delete the folder:"}),t("p",{children:(s=e.currentFolder)==null?void 0:s.name}),l("div",{className:"dialog__buttons",children:[t("button",{className:"btn dialog__btn",onClick:()=>r(ct()),children:"no"}),t("button",{className:"btn dialog__btn",onClick:a,children:"Yes"})]})]})}const jt=({allFolders:e})=>{const r=v();async function a(s){s.preventDefault();const n=await ht();if(n){const i=await ie(n.handle,n.name,!0);i&&r(D(K(i.object)))}}return l("div",{className:"page",children:[t(At,{}),t("header",{className:"aside__header",children:l("button",{className:"btn",onClick:s=>a(s),children:[t(W,{className:"font-size--l"}),t("span",{className:"font-size--m",children:" Add Folder"})]})}),l("div",{className:"aside",children:[t(Dt,{folders:e}),t(xt,{})]}),t(vt,{})]})};const Et=({project:e})=>{const r=async a=>{a.preventDefault(),e.id&&await f.projects.delete(e.id)};return l(b,{to:`/projects/${e.id}`,className:"project-card",children:[l("div",{className:"project-card__overlay",children:[t("button",{className:"project-card__action",onClick:a=>r(a),children:t(Me,{})}),t("button",{className:"project-card__action",children:t(Re,{})})]}),l("header",{className:"project-card__header",children:[" ",e.name]}),t("img",{src:"https://source.unsplash.com/featured?technology",style:{width:"100%"},alt:""}),l("ul",{className:"project-card__list",children:[l("li",{className:"project-card__list-item",children:["Files: ",e.itemIds.length]}),l("li",{className:"project-card__list-item",children:["Created: ",e.created.toLocaleDateString()]})]})]})},Tt=()=>{const e=Q.exports.useLiveQuery(()=>f.projects.orderBy("created").reverse().toArray());return l("div",{className:"page",children:[l("header",{className:"aside__header",children:[l("button",{className:"btn",onClick:()=>Ge(),children:[t(W,{className:"font-size--l"}),t("span",{className:"font-size--m",children:" New"})]}),e&&t("p",{className:"font-size--s",children:`PROJECTS: ${e.length}`})]}),t("div",{className:"aside",children:t("div",{className:"aside__list project__list",children:e&&e.map(r=>t(Et,{project:r},r.id))})}),t("div",{children:t(Ae,{})})]})},It=()=>{let e=je();return t("div",{children:l("h2",{children:["Project number:",e.projectId]})})};const B=({label:e="label",disabled:r=!1,isChecked:a=!1})=>{const s=r?"toggle__slider--disabled":"",[n,i]=q.useState(a);return l("label",{className:"toggle",children:[t("span",{className:`toggle__text ${r?"toggle__text--disabled":""}`,children:e}),t("input",{className:"toggle__input",type:"checkbox",defaultChecked:n,onChange:()=>i(!n),disabled:r}),t("span",{className:`toggle__slider ${s}`})]})};const zt=({children:e,heading:r})=>l("div",{className:"stack",children:[r&&t("h3",{className:"stack__heading",children:r}),t("div",{className:"stack__content",children:e})]});const Ot=()=>l("div",{className:"settings",children:[t("h2",{className:"settings__header",children:"Settings"}),l(zt,{heading:"Scan local filesystem for:",children:[t(B,{label:".stl",isChecked:!0,disabled:!1}),t(B,{label:".m3f",isChecked:!1}),t(B,{label:".gcode",isChecked:!1,disabled:!0})]})]});const $t=()=>t("div",{children:l("p",{children:[{}.VITE_APP_NAME," is an app for managing you 3D model files, under the hood it uses the native file system access api, that as of December 2021 is available in"," ",t("a",{href:"https://caniuse.com/?search=file%20system%20access",children:"Chrome and Edge > 86 and the technical preview in Safari."})]})});function Ht(e){return t("svg",y(p({width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 16 16"},e),{children:t("g",{fill:"none",children:t("path",{d:"M2 5v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H7.175l-1.113-.89A.5.5 0 0 0 5.75 3H4a2 2 0 0 0-2 2zm1 0a1 1 0 0 1 1-1h1.575l.868.694l-.886.806H3V5zm4.593 0H12a1 1 0 0 1 1 1v5a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V6.5h2.75a.5.5 0 0 0 .336-.13L7.593 5z",fill:"currentColor"})})}))}function Bt(e){return t("svg",y(p({width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},e),{children:t("g",{fill:"none",children:t("path",{d:"M8.75 3h6.5a.75.75 0 0 1 .743.648L16 3.75V7h1.75A3.25 3.25 0 0 1 21 10.25v6.5A3.25 3.25 0 0 1 17.75 20H6.25A3.25 3.25 0 0 1 3 16.75v-6.5A3.25 3.25 0 0 1 6.25 7H8V3.75a.75.75 0 0 1 .648-.743L8.75 3h6.5h-6.5zm9 5.5H6.25a1.75 1.75 0 0 0-1.75 1.75v6.5c0 .966.784 1.75 1.75 1.75h11.5a1.75 1.75 0 0 0 1.75-1.75v-6.5a1.75 1.75 0 0 0-1.75-1.75zm-3.25-4h-5V7h5V4.5z",fill:"currentColor"})})}))}function Vt(e){return t("svg",y(p({width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 16 16"},e),{children:t("g",{fill:"none",children:t("path",{d:"M7.313 1.262a1 1 0 0 1 1.374 0l4.844 4.579c.3.283.469.678.469 1.09v5.57a1.5 1.5 0 0 1-1.5 1.5h-2A1.5 1.5 0 0 1 9 12.5V10a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v2.5A1.5 1.5 0 0 1 5.5 14h-2A1.5 1.5 0 0 1 2 12.5V6.93c0-.412.17-.807.47-1.09l4.843-4.58zM8 1.988l-4.844 4.58A.5.5 0 0 0 3 6.93v5.57a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5V10a1.5 1.5 0 0 1 1.5-1.5h1A1.5 1.5 0 0 1 10 10v2.5a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5V6.93a.5.5 0 0 0-.156-.363L8 1.988z",fill:"currentColor"})})}))}function Ut(e){return t("svg",y(p({width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},e),{children:t("g",{fill:"none",children:t("path",{d:"M12.012 2.25c.734.008 1.465.093 2.182.253a.75.75 0 0 1 .582.649l.17 1.527a1.384 1.384 0 0 0 1.927 1.116l1.401-.615a.75.75 0 0 1 .85.174a9.792 9.792 0 0 1 2.204 3.792a.75.75 0 0 1-.271.825l-1.242.916a1.381 1.381 0 0 0 0 2.226l1.243.915a.75.75 0 0 1 .272.826a9.797 9.797 0 0 1-2.204 3.792a.75.75 0 0 1-.848.175l-1.407-.617a1.38 1.38 0 0 0-1.926 1.114l-.169 1.526a.75.75 0 0 1-.572.647a9.518 9.518 0 0 1-4.406 0a.75.75 0 0 1-.572-.647l-.168-1.524a1.382 1.382 0 0 0-1.926-1.11l-1.406.616a.75.75 0 0 1-.849-.175a9.798 9.798 0 0 1-2.204-3.796a.75.75 0 0 1 .272-.826l1.243-.916a1.38 1.38 0 0 0 0-2.226l-1.243-.914a.75.75 0 0 1-.271-.826a9.793 9.793 0 0 1 2.204-3.792a.75.75 0 0 1 .85-.174l1.4.615a1.387 1.387 0 0 0 1.93-1.118l.17-1.526a.75.75 0 0 1 .583-.65c.717-.159 1.45-.243 2.201-.252zm0 1.5a9.135 9.135 0 0 0-1.354.117l-.109.977A2.886 2.886 0 0 1 6.525 7.17l-.898-.394a8.293 8.293 0 0 0-1.348 2.317l.798.587a2.881 2.881 0 0 1 0 4.643l-.799.588c.32.842.776 1.626 1.348 2.322l.905-.397a2.882 2.882 0 0 1 4.017 2.318l.11.984c.889.15 1.798.15 2.687 0l.11-.984a2.881 2.881 0 0 1 4.018-2.322l.905.396a8.296 8.296 0 0 0 1.347-2.318l-.798-.588a2.881 2.881 0 0 1 0-4.643l.796-.587a8.293 8.293 0 0 0-1.348-2.317l-.896.393a2.884 2.884 0 0 1-4.023-2.324l-.11-.976a8.988 8.988 0 0 0-1.333-.117zM12 8.25a3.75 3.75 0 1 1 0 7.5a3.75 3.75 0 0 1 0-7.5zm0 1.5a2.25 2.25 0 1 0 0 4.5a2.25 2.25 0 0 0 0-4.5z",fill:"currentColor"})})}))}function Gt(e){return t("svg",y(p({width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},e),{children:t("g",{fill:"none",children:t("path",{d:"M12 2c5.523 0 10 4.478 10 10s-4.477 10-10 10S2 17.522 2 12S6.477 2 12 2zm0 1.667c-4.595 0-8.333 3.738-8.333 8.333c0 4.595 3.738 8.333 8.333 8.333c4.595 0 8.333-3.738 8.333-8.333c0-4.595-3.738-8.333-8.333-8.333zM12 15.5a1 1 0 1 1 0 2a1 1 0 0 1 0-2zm0-8.75a2.75 2.75 0 0 1 2.75 2.75c0 1.01-.297 1.574-1.051 2.359l-.169.171c-.622.622-.78.886-.78 1.47a.75.75 0 0 1-1.5 0c0-1.01.297-1.574 1.051-2.359l.169-.171c.622-.622.78-.886.78-1.47a1.25 1.25 0 0 0-2.493-.128l-.007.128a.75.75 0 0 1-1.5 0A2.75 2.75 0 0 1 12 6.75z",fill:"currentColor"})})}))}const Yt=()=>(Ee(0),u.exports.useState([]),l("div",{children:[t(X,{}),t(Z,{}),t(ee,{})]})),Wt=()=>{const e=Q.exports.useLiveQuery(()=>f.folders.orderBy("created").reverse().toArray()),r=m(a=>{var s;return(s=a.folderReducer.currentFolder)==null?void 0:s.id});return l(S,{children:[l("nav",{className:"menu",children:[l("ul",{className:"menu__list",children:[t("li",{className:"menu__item",children:l(b,{className:"menu__link",to:"/",children:[t(Vt,{className:"menu__svg"}),"Home"]})}),t("li",{className:"menu__item",children:l(b,{className:"menu__link",to:r?`/folders/${r}`:"/folders",children:[t(Ht,{className:"menu__svg"}),"Folders"]})}),t("li",{className:"menu__item",children:l(b,{className:"menu__link",to:"/projects",children:[t(Bt,{className:"menu__svg"}),"Projects"]})})]}),l("ul",{className:"menu__list",children:[t("li",{children:l(b,{className:"menu__link",to:"/settings",children:[t(Ut,{className:"menu__svg"}),"Settings"]})}),t("li",{className:"menu__item",children:l(b,{className:"menu__link",to:"/help",children:[t(Gt,{className:"menu__svg"}),"Help"]})})]})]}),t("main",{children:l(Te,{children:[t(F,{path:"/help",element:t(Be,{})}),t(F,{path:"/folders",element:t(jt,{allFolders:e}),children:t(F,{path:":folderId",element:t("div",{children:"ok"})})}),t(F,{path:"/projects",element:t(Tt,{}),children:t(F,{path:":projectId",element:t(It,{})})}),t(F,{path:"/settings",element:t(Ot,{})}),t(F,{path:"temp",element:t(Yt,{})}),t(F,{path:"/",element:t($t,{})})]})})]})};function Qt(e){return t("svg",y(p({width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 20 20"},e),{children:l("g",{fill:"none",children:[t("path",{d:"M8 7a2 2 0 1 1 4 0a2 2 0 0 1-4 0z",fill:"currentColor"}),t("path",{d:"M7.5 10h5a1.5 1.5 0 0 1 1.5 1.5c0 1.116-.459 2.01-1.212 2.615c-.741.595-1.735.885-2.788.885c-1.053 0-2.047-.29-2.788-.885C6.46 13.51 6 12.616 6 11.5A1.5 1.5 0 0 1 7.5 10z",fill:"currentColor"}),t("path",{d:"M10 2a8 8 0 1 0 0 16a8 8 0 0 0 0-16zm-7 8a7 7 0 1 1 14 0a7 7 0 0 1-14 0z",fill:"currentColor"})]})}))}function qt(e){return t("svg",y(p({width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 28 28"},e),{children:t("g",{fill:"none",children:t("path",{d:"M11.5 2a9.5 9.5 0 0 1 9.5 9.5c0 2.082-.67 4.007-1.805 5.573l6.366 6.366a1.5 1.5 0 0 1-2.008 2.225l-.114-.103l-6.366-6.366A9.458 9.458 0 0 1 11.5 21a9.5 9.5 0 0 1 0-19zm0 3a6.5 6.5 0 1 0 0 13a6.5 6.5 0 0 0 0-13z",fill:"currentColor"})})}))}const Jt={searchText:""},ue=k({name:"search",initialState:Jt,reducers:{setSearchText(e,r){e.searchText=r.payload.trim().toLowerCase()},clearSearchText(e){e.searchText=""}}}),{setSearchText:Kt,clearSearchText:Xt}=ue.actions;var Zt=ue.reducer;const er=()=>{const e=m(s=>s.searchReducer.searchText),r=v();function a(s){s.preventDefault(),r(Xt())}return t("form",{className:"search",children:l("div",{className:"search__container",children:[t("input",{className:"search__input",type:"text",name:"search",id:"search",placeholder:"Filter Models",autoComplete:"true",value:e,onChange:s=>r(Kt(s.target.value))}),t("button",{onClick:s=>a(s),className:"search__button",children:e.length?"X":t(qt,{style:{}})})]})})},tr=()=>l("header",{className:"header",children:[t("div",{className:"header__logo",children:"madam3D"}),t("div",{className:"header__search",children:t(er,{})}),t("div",{className:"header__profile",children:t(Qt,{})})]});function rr(){var e;return t(S,{children:l("div",{className:"app",children:[t(tr,{}),t(Ie,{basename:(e={}.VITE_DEPLOY_HOST)==null?void 0:e.toString(),children:t("div",{className:"app-content",children:t(Wt,{})})})]})})}const ar=ze({reducer:{searchReducer:Zt,settingsReducer:Ct,folderReducer:dt,selectedFolderItemsReducer:at}});Ue();Oe.render(t(q.StrictMode,{children:t($e,{store:ar,children:t(rr,{})})}),document.getElementById("root"));
