var V=Object.defineProperty,B=Object.defineProperties;var H=Object.getOwnPropertyDescriptors;var D=Object.getOwnPropertySymbols;var $=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable;var _=(e,t,a)=>t in e?V(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,h=(e,t)=>{for(var a in t||(t={}))$.call(t,a)&&_(e,a,t[a]);if(D)for(var a of D(t))G.call(t,a)&&_(e,a,t[a]);return e},u=(e,t)=>B(e,H(t));var f=(e,t,a)=>(_(e,typeof t!="symbol"?t+"":t,a),a);import{j as r,v as Y,g as q,D as K,u as J,a as Q,b as o,C as S,r as c,O as w,c as y,d as F,e as P,H as x,S as U,L as W,T as b,G as X,f as Z,R as L,h as ee,F as R,N as p,i as re,k as d,l as v,m as te,B as ae,n as A,o as se,p as oe,P as le}from"./vendor.34d8105b.js";const ne=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const n of l)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function a(l){const n={};return l.integrity&&(n.integrity=l.integrity),l.referrerpolicy&&(n.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?n.credentials="include":l.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(l){if(l.ep)return;l.ep=!0;const n=a(l);fetch(l.href,n)}};ne();const ce="modulepreload",M={},ie="/madam3D/",m=function(t,a){return!a||a.length===0?t():Promise.all(a.map(s=>{if(s=`${ie}${s}`,s in M)return;M[s]=!0;const l=s.endsWith(".css"),n=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${n}`))return;const i=document.createElement("link");if(i.rel=l?"stylesheet":ce,l||(i.as="script",i.crossOrigin=""),i.href=s,document.head.appendChild(i),l)return new Promise((k,I)=>{i.addEventListener("load",k),i.addEventListener("error",I)})})).then(()=>t())},de=e=>r("svg",u(h({width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},e),{children:r("g",{fill:"none",children:r("path",{d:"M8.75 3h6.5a.75.75 0 0 1 .743.648L16 3.75V7h1.75A3.25 3.25 0 0 1 21 10.25v6.5A3.25 3.25 0 0 1 17.75 20H6.25A3.25 3.25 0 0 1 3 16.75v-6.5A3.25 3.25 0 0 1 6.25 7H8V3.75a.75.75 0 0 1 .648-.743L8.75 3h6.5h-6.5zm9 5.5H6.25a1.75 1.75 0 0 0-1.75 1.75v6.5c0 .966.784 1.75 1.75 1.75h11.5a1.75 1.75 0 0 0 1.75-1.75v-6.5a1.75 1.75 0 0 0-1.75-1.75zm-3.25-4h-5V7h5V4.5z",fill:"currentColor"})})})),he=e=>r("svg",u(h({width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 16 16"},e),{children:r("g",{fill:"none",children:r("path",{d:"M7.313 1.262a1 1 0 0 1 1.374 0l4.844 4.579c.3.283.469.678.469 1.09v5.57a1.5 1.5 0 0 1-1.5 1.5h-2A1.5 1.5 0 0 1 9 12.5V10a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v2.5A1.5 1.5 0 0 1 5.5 14h-2A1.5 1.5 0 0 1 2 12.5V6.93c0-.412.17-.807.47-1.09l4.843-4.58zM8 1.988l-4.844 4.58A.5.5 0 0 0 3 6.93v5.57a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5V10a1.5 1.5 0 0 1 1.5-1.5h1A1.5 1.5 0 0 1 10 10v2.5a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5V6.93a.5.5 0 0 0-.156-.363L8 1.988z",fill:"currentColor"})})})),ue=e=>r("svg",u(h({width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},e),{children:r("g",{fill:"none",children:r("path",{d:"M12.013 2.25c.734.008 1.465.093 2.181.253a.75.75 0 0 1 .582.649l.17 1.527a1.384 1.384 0 0 0 1.928 1.116l1.4-.615a.75.75 0 0 1 .85.174a9.793 9.793 0 0 1 2.204 3.792a.75.75 0 0 1-.271.825l-1.242.916a1.38 1.38 0 0 0 .001 2.226l1.243.915a.75.75 0 0 1 .271.826a9.798 9.798 0 0 1-2.203 3.792a.75.75 0 0 1-.849.175l-1.406-.617a1.38 1.38 0 0 0-1.927 1.114l-.169 1.526a.75.75 0 0 1-.572.647a9.518 9.518 0 0 1-4.405 0a.75.75 0 0 1-.572-.647l-.17-1.524a1.382 1.382 0 0 0-1.924-1.11l-1.407.616a.75.75 0 0 1-.849-.175a9.798 9.798 0 0 1-2.203-3.796a.75.75 0 0 1 .271-.826l1.244-.916a1.38 1.38 0 0 0 0-2.226l-1.243-.914a.75.75 0 0 1-.272-.826a9.793 9.793 0 0 1 2.205-3.792a.75.75 0 0 1 .849-.174l1.4.615a1.387 1.387 0 0 0 1.93-1.118l.17-1.526a.75.75 0 0 1 .583-.65c.718-.159 1.45-.243 2.202-.252zm0 1.5a9.135 9.135 0 0 0-1.355.117l-.109.977A2.886 2.886 0 0 1 6.525 7.17l-.898-.394a8.293 8.293 0 0 0-1.348 2.317l.798.587a2.881 2.881 0 0 1 0 4.643l-.798.588c.32.842.775 1.626 1.347 2.322l.906-.397a2.882 2.882 0 0 1 4.017 2.318l.108.984c.89.15 1.799.15 2.689 0l.108-.984a2.88 2.88 0 0 1 4.02-2.322l.904.396a8.299 8.299 0 0 0 1.347-2.318l-.798-.588a2.88 2.88 0 0 1 0-4.643l.796-.587a8.293 8.293 0 0 0-1.348-2.317l-.896.393a2.884 2.884 0 0 1-4.023-2.324l-.11-.976a8.99 8.99 0 0 0-1.333-.117zM12 8.25a3.75 3.75 0 1 1 0 7.5a3.75 3.75 0 0 1 0-7.5zm0 1.5a2.25 2.25 0 1 0 0 4.5a2.25 2.25 0 0 0 0-4.5z",fill:"currentColor"})})})),me=e=>r("svg",u(h({width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},e),{children:r("g",{fill:"none",children:r("path",{d:"M12 2c5.523 0 10 4.478 10 10s-4.477 10-10 10S2 17.522 2 12S6.477 2 12 2zm0 1.667c-4.595 0-8.333 3.738-8.333 8.333c0 4.595 3.738 8.333 8.333 8.333c4.595 0 8.333-3.738 8.333-8.333c0-4.595-3.738-8.333-8.333-8.333zM12 15.5a1 1 0 1 1 0 2a1 1 0 0 1 0-2zm0-8.75a2.75 2.75 0 0 1 2.75 2.75c0 1.01-.297 1.574-1.051 2.359l-.169.171c-.622.622-.78.886-.78 1.47a.75.75 0 0 1-1.5 0c0-1.01.297-1.574 1.051-2.359l.169-.171c.622-.622.78-.886.78-1.47a1.25 1.25 0 0 0-2.493-.128l-.007.128a.75.75 0 0 1-1.5 0A2.75 2.75 0 0 1 12 6.75z",fill:"currentColor"})})}));var N;(function(e){e[e.STL=0]="STL",e[e.OBJ=1]="OBJ",e[e.GCODE=2]="GCODE",e[e.THREE_MF=3]="THREE_MF",e[e.NOT_SUPPORTED=4]="NOT_SUPPORTED"})(N||(N={}));class pe extends K{constructor(t="AppDb"){super(t);f(this,"folders");f(this,"projects");f(this,"files");this.version(1).stores({folders:"id, name, filePath,created",projects:"id, name, created, updated",files:"id,name, folderId, type, size, created"}),this.folders=this.table("folders"),this.projects=this.table("projects"),this.files=this.table("files")}}let g;function ge(){g=new pe}const tr=async(e="",t=[])=>{const a=new Date,s={id:Y(),created:a,updated:a,name:e,itemIds:t};try{return s.name===""&&(s.name=q({words:3}).dashed),await g.projects.add(s),s}catch(l){console.error("error adding project to database: ",l)}return s},fe=()=>J(),j=Q;const ve=({fileUrl:e="http://localhost:3000/src/images/arm_joiner_double.stl"})=>{const t=y(U,e),a=c.exports.useRef(null);t.computeBoundingSphere();const s=t.boundingSphere?t.boundingSphere.radius:0,l=40/s;return r(F,{alignTop:!0,children:r("mesh",{geometry:t,ref:a,scale:l,children:r("meshNormalMaterial",{flatShading:!0})})})};function _e(){const{progress:e}=P();return o(x,{center:!0,children:[e," % loaded"]})}const Se=({fileUrl:e="http://localhost:3000/src/images/arm_joiner_double.stl"})=>o(S,{style:{},camera:{position:[1,70,100],fov:50,near:10,far:400},children:[r("pointLight",{position:[100,100,100]}),r("pointLight",{position:[-100,-100,-100]}),r("gridHelper",{args:[80,12,"magenta","cyan"]}),o(c.exports.Suspense,{fallback:r(_e,{}),children:[r(ve,{fileUrl:e}),r(w,{})]})]}),we=({fileUrl:e="http://localhost:3000/src/images/servo_motor.3mf"})=>{const t=new W;new b(t);const a=y(b,e);return r(F,{alignTop:!0,children:r("primitive",{object:a})})};function ye(){const{progress:e}=P();return o(x,{center:!0,children:[e," % loaded"]})}const Fe=({fileUrl:e="http://localhost:3000/src/images/servo_motor.3mf"})=>o(S,{style:{},camera:{position:[1,70,100],fov:50,near:10,far:200},children:[r("pointLight",{position:[100,100,100]}),r("pointLight",{position:[-100,-100,-100]}),r("gridHelper",{args:[80,12,"magenta","cyan"]}),o(c.exports.Suspense,{fallback:r(ye,{}),children:[r(we,{fileUrl:e}),r(w,{})]})]}),Pe=({fileUrl:e="http://localhost:3000/src/images/demo.gcode"})=>{const t=y(X,e);return r(F,{alignTop:!0,children:r("primitive",{object:t})})};function xe(){const{progress:e}=P();return o(x,{center:!0,children:[e," % loaded"]})}const De=({fileUrl:e="http://localhost:3000/src/images/demo.gcode"})=>o(S,{style:{},camera:{position:[1,70,100],fov:110,near:10,far:400},children:[r("pointLight",{position:[100,100,100]}),r("pointLight",{position:[-100,-100,-100]}),r("gridHelper",{args:[200,12,"magenta","cyan"]}),o(c.exports.Suspense,{fallback:r(xe,{}),children:[r(Pe,{fileUrl:e}),r(w,{})]})]}),be=()=>(Z(0),c.exports.useState([]),o("div",{children:[r(Se,{}),r(Fe,{}),r(De,{}),r("div",{children:r("button",{className:"btn",children:"Click me"})})]})),Le=c.exports.lazy(()=>m(()=>import("./help.5164a01e.js"),["assets/help.5164a01e.js","assets/vendor.34d8105b.js"])),Re=c.exports.lazy(()=>m(()=>import("./Project.dc1c1a74.js"),["assets/Project.dc1c1a74.js","assets/vendor.34d8105b.js"])),Ae=c.exports.lazy(()=>m(()=>import("./projects.39eb148c.js"),["assets/projects.39eb148c.js","assets/projects.e26629e7.css","assets/vendor.34d8105b.js","assets/index.esm.d054ca86.js"])),Me=c.exports.lazy(()=>m(()=>import("./settings.a05f4761.js"),["assets/settings.a05f4761.js","assets/settings.2cf0c7d3.css","assets/vendor.34d8105b.js"])),Ne=c.exports.lazy(()=>m(()=>import("./home.56dddf97.js"),["assets/home.56dddf97.js","assets/home.942c489a.css","assets/vendor.34d8105b.js"])),je=L.lazy(()=>m(()=>import("./models.83b1a177.js"),["assets/models.83b1a177.js","assets/models.eeaee54f.css","assets/index.esm.d054ca86.js","assets/vendor.34d8105b.js"])),Ce=c.exports.lazy(()=>m(()=>import("./folder-16-regular.c6df6872.js"),["assets/folder-16-regular.c6df6872.js","assets/vendor.34d8105b.js"])),Ee=()=>{const e=ee.exports.useLiveQuery(()=>g.folders.orderBy("created").reverse().toArray()),t=j(a=>{var s;return(s=a.folderReducer.currentFolder)==null?void 0:s.id});return o(R,{children:[o("nav",{className:"menu",children:[o("ul",{className:"menu__list",children:[r("li",{className:"menu__item",children:o(p,{className:"menu__link","data-cy":"main-nav-home",to:"/",children:[r(he,{className:"menu__svg"}),"Home"]})}),r("li",{className:"menu__item",children:r(c.exports.Suspense,{fallback:r("div",{children:"Loading..."}),children:o(p,{className:"menu__link",to:t?`/folders/${t}`:"/folders","data-cy":"main-nav-folders",children:[r(Ce,{className:"menu__svg"}),"Models"]})})}),r("li",{className:"menu__item",children:o(p,{className:"menu__link",to:"/projects","data-cy":"main-nav-projects",children:[r(de,{className:"menu__svg"}),"Collections"]})})]}),o("ul",{className:"menu__list",children:[r("li",{children:o(p,{className:"menu__link",to:"/settings","data-cy":"main-nav-settings",children:[r(ue,{className:"menu__svg"}),"Settings"]})}),r("li",{className:"menu__item",children:o(p,{className:"menu__link",to:"/help","data-cy":"main-nav-help",children:[r(me,{className:"menu__svg"}),"Help"]})})]})]}),r("main",{children:o(c.exports.Suspense,{fallback:r("div",{children:"Loading..."}),children:[o(re,{children:[r(d,{path:"/help",element:r(Le,{})}),r(d,{path:"/folders",element:r(je,{allFolders:e}),children:r(d,{path:":folderId",element:r("div",{children:"ok"})})}),r(d,{path:"/projects",element:r(Ae,{}),children:r(d,{path:":projectId",element:r(Re,{})})}),r(d,{path:"/settings",element:r(Me,{})}),r(d,{path:"temp",element:r(be,{})}),r(d,{path:"/",element:r(Ne,{})})]})," "]})})]})},Te=e=>r("svg",u(h({width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 21 20"},e),{children:r("g",{fill:"none",children:r("path",{d:"M8.416 7a2 2 0 1 1 4 0a2 2 0 0 1-4 0zm-.5 3h5a1.5 1.5 0 0 1 1.5 1.5c0 1.116-.459 2.01-1.212 2.615c-.741.595-1.735.885-2.788.885c-1.053 0-2.047-.29-2.788-.885c-.753-.605-1.212-1.499-1.212-2.615a1.5 1.5 0 0 1 1.5-1.5zm2.5-8a8 8 0 1 0 0 16a8 8 0 0 0 0-16zm-7 8a7 7 0 1 1 14 0a7 7 0 0 1-14 0z",fill:"currentColor"})})}));const ze=e=>r("svg",u(h({width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 28 28"},e),{children:r("g",{fill:"none",children:r("path",{d:"M11.5 2a9.5 9.5 0 0 1 9.5 9.5c0 2.082-.67 4.007-1.805 5.573l6.366 6.366a1.5 1.5 0 0 1-2.008 2.225l-.114-.103l-6.366-6.366A9.458 9.458 0 0 1 11.5 21a9.5 9.5 0 0 1 0-19zm0 3a6.5 6.5 0 1 0 0 13a6.5 6.5 0 0 0 0-13z",fill:"currentColor"})})})),Oe={searchText:""},C=v({name:"search",initialState:Oe,reducers:{setSearchText(e,t){e.searchText=t.payload.trim().toLowerCase()},clearSearchText(e){e.searchText=""}}}),{setSearchText:ke,clearSearchText:Ie}=C.actions;var Ve=C.reducer;const Be=()=>{const e=j(s=>s.searchReducer.searchText),t=fe();function a(s){s.preventDefault(),t(Ie())}return r("form",{className:"search",children:o("div",{className:"search__container",children:[r("input",{className:"search__input",type:"text",name:"search",id:"search",placeholder:"Filter Models",autoComplete:"true",value:e,onChange:s=>t(ke(s.target.value))}),r("button",{onClick:s=>a(s),className:"search__button",children:e.length?"X":r(ze,{style:{}})})]})})};var He="/madam3D/cube-purple.svg";const $e=()=>{const e=te();return console.log(e),o("header",{className:"header",children:[o("div",{className:"header__logo",children:["MaDam3D",r("img",{className:"header__logo-image",src:He,alt:""})]}),r("div",{className:"header__search",children:r(Be,{})}),r("div",{className:"header__profile",children:r(Te,{})})]})};function Ge(){return r(R,{children:r(ae,{basename:"madam3D".toString(),children:o("div",{className:"app",children:[r($e,{}),r("div",{className:"app-content",children:r(Ee,{})})]})})})}const Ye={selectedParts:[]},E=v({name:"selectedFolderItems",initialState:Ye,reducers:{removePart(e,t){e.selectedParts=e.selectedParts.filter(a=>a.id!=t.payload)},clearParts(e){e.selectedParts=[]},addPart(e,t){e.selectedParts.push(t.payload)},removeAllPartsForFolder(e,t){e.selectedParts=e.selectedParts.filter(a=>a.folderId!==t.payload)}}}),{removePart:ar,clearParts:sr,addPart:or,removeAllPartsForFolder:qe}=E.actions;var Ke=E.reducer;const Je={currentFolder:null,showDialog:!1,cursor:0,currentRootFolder:null},Qe=A("getKnownFoldersAsync",async()=>{try{return await g.folders.toArray()}catch(e){throw new Error(`Error fetching data from local database. ${e}`)}}),Ue=A("deleteFolderAsync",async(e,t)=>{t.dispatch(qe(e));try{return await g.folders.delete(e),e}catch(a){throw new Error(`Error deleting folder from local database. ${a}`)}}),T=v({name:"folder",initialState:Je,reducers:{hideDeleteFolderDialog(e){e.showDialog=!1},showDeleteFolderDialog(e){e.showDialog=!0},setCurrentFolder(e,t){e.currentFolder=t.payload},setCurrentRootFolder(e,t){e.currentRootFolder=t.payload},deleteFolder(e){},setCursor(e,t){e.cursor=t.payload}},extraReducers:e=>{e.addCase(Ue.fulfilled,(t,a)=>{t.currentFolder=null,t.showDialog=!1}).addCase(Qe.fulfilled,(t,a)=>{})}}),{hideDeleteFolderDialog:lr,showDeleteFolderDialog:nr,setCurrentFolder:cr,setCurrentRootFolder:ir,setCursor:dr}=T.actions;var We=T.reducer;const Xe={partsFilter:"allFiles",show:{gcode:!1,obj:!1,stl:!0,threeMF:!0},folder:{settingDetailsIsOpen:!1,searchFiltersParts:!0}},z=v({name:"settings",initialState:Xe,reducers:{toggleGcode(e){e.show.gcode=!e.show.gcode},toggleStl(e){e.show.stl=!e.show.stl},toggle3mf(e){e.show.threeMF=!e.show.threeMF},toggleObj(e){e.show.obj=!e.show.obj},setPartFilter(e,t){e.partsFilter=t.payload},toggleSettingsDetails(e){e.folder.settingDetailsIsOpen=!e.folder.settingDetailsIsOpen},toggleSearchFiltersParts(e){e.folder.searchFiltersParts=!e.folder.searchFiltersParts}}}),{toggleGcode:hr,toggle3mf:ur,setPartFilter:mr,toggleObj:pr,toggleStl:gr,toggleSettingsDetails:fr,toggleSearchFiltersParts:vr}=z.actions;var Ze=z.reducer;const O=se({reducer:{searchReducer:Ve,settingsReducer:Ze,folderReducer:We,selectedFolderItemsReducer:Ke}});ge();oe.render(r(L.StrictMode,{children:r(le,{store:O,children:r(Ge,{})})}),document.getElementById("root"));window.Cypress&&(window.store=O);export{Se as B,N as F,Fe as a,De as b,tr as c,g as d,fe as e,or as f,gr as g,ur as h,hr as i,vr as j,nr as k,He as l,mr as m,cr as n,ir as o,lr as p,Ue as q,ar as r,dr as s,fr as t,j as u};
