var V5=Object.defineProperty,H5=Object.defineProperties;var G5=Object.getOwnPropertyDescriptors;var f0=Object.getOwnPropertySymbols;var jP=Object.prototype.hasOwnProperty,qP=Object.prototype.propertyIsEnumerable;var XP=(n,e,t)=>e in n?V5(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,cn=(n,e)=>{for(var t in e||(e={}))jP.call(e,t)&&XP(n,t,e[t]);if(f0)for(var t of f0(e))qP.call(e,t)&&XP(n,t,e[t]);return n},Li=(n,e)=>H5(n,G5(e));var Co=(n,e)=>{var t={};for(var r in n)jP.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&f0)for(var r of f0(n))e.indexOf(r)<0&&qP.call(n,r)&&(t[r]=n[r]);return t};var Fd=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function W5(n){if(n.__esModule)return n;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(n).forEach(function(t){var r=Object.getOwnPropertyDescriptor(n,t);Object.defineProperty(e,t,r.get?r:{enumerable:!0,get:function(){return n[t]}})}),e}var se={exports:{}},an={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var KP=Object.getOwnPropertySymbols,j5=Object.prototype.hasOwnProperty,q5=Object.prototype.propertyIsEnumerable;function X5(n){if(n==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(n)}function K5(){try{if(!Object.assign)return!1;var n=new String("abc");if(n[5]="de",Object.getOwnPropertyNames(n)[0]==="5")return!1;for(var e={},t=0;t<10;t++)e["_"+String.fromCharCode(t)]=t;var r=Object.getOwnPropertyNames(e).map(function(o){return e[o]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(o){i[o]=o}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var j1=K5()?Object.assign:function(n,e){for(var t,r=X5(n),i,o=1;o<arguments.length;o++){t=Object(arguments[o]);for(var s in t)j5.call(t,s)&&(r[s]=t[s]);if(KP){i=KP(t);for(var a=0;a<i.length;a++)q5.call(t,i[a])&&(r[i[a]]=t[i[a]])}}return r};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q1=j1,kd=60103,YP=60106;an.Fragment=60107;an.StrictMode=60108;an.Profiler=60114;var $P=60109,ZP=60110,JP=60112;an.Suspense=60113;var QP=60115,eR=60116;if(typeof Symbol=="function"&&Symbol.for){var Qo=Symbol.for;kd=Qo("react.element"),YP=Qo("react.portal"),an.Fragment=Qo("react.fragment"),an.StrictMode=Qo("react.strict_mode"),an.Profiler=Qo("react.profiler"),$P=Qo("react.provider"),ZP=Qo("react.context"),JP=Qo("react.forward_ref"),an.Suspense=Qo("react.suspense"),QP=Qo("react.memo"),eR=Qo("react.lazy")}var tR=typeof Symbol=="function"&&Symbol.iterator;function Y5(n){return n===null||typeof n!="object"?null:(n=tR&&n[tR]||n["@@iterator"],typeof n=="function"?n:null)}function Sm(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var nR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rR={};function Nd(n,e,t){this.props=n,this.context=e,this.refs=rR,this.updater=t||nR}Nd.prototype.isReactComponent={};Nd.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error(Sm(85));this.updater.enqueueSetState(this,n,e,"setState")};Nd.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function iR(){}iR.prototype=Nd.prototype;function X1(n,e,t){this.props=n,this.context=e,this.refs=rR,this.updater=t||nR}var K1=X1.prototype=new iR;K1.constructor=X1;q1(K1,Nd.prototype);K1.isPureReactComponent=!0;var Y1={current:null},oR=Object.prototype.hasOwnProperty,sR={key:!0,ref:!0,__self:!0,__source:!0};function aR(n,e,t){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)oR.call(e,r)&&!sR.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:kd,type:n,key:o,ref:s,props:i,_owner:Y1.current}}function $5(n,e){return{$$typeof:kd,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function $1(n){return typeof n=="object"&&n!==null&&n.$$typeof===kd}function Z5(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var lR=/\/+/g;function Z1(n,e){return typeof n=="object"&&n!==null&&n.key!=null?Z5(""+n.key):e.toString(36)}function d0(n,e,t,r,i){var o=typeof n;(o==="undefined"||o==="boolean")&&(n=null);var s=!1;if(n===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(n.$$typeof){case kd:case YP:s=!0}}if(s)return s=n,i=i(s),n=r===""?"."+Z1(s,0):r,Array.isArray(i)?(t="",n!=null&&(t=n.replace(lR,"$&/")+"/"),d0(i,e,t,"",function(c){return c})):i!=null&&($1(i)&&(i=$5(i,t+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(lR,"$&/")+"/")+n)),e.push(i)),1;if(s=0,r=r===""?".":r+":",Array.isArray(n))for(var a=0;a<n.length;a++){o=n[a];var l=r+Z1(o,a);s+=d0(o,e,t,l,i)}else if(l=Y5(n),typeof l=="function")for(n=l.call(n),a=0;!(o=n.next()).done;)o=o.value,l=r+Z1(o,a++),s+=d0(o,e,t,l,i);else if(o==="object")throw e=""+n,Error(Sm(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e));return s}function h0(n,e,t){if(n==null)return n;var r=[],i=0;return d0(n,r,"","",function(o){return e.call(t,o,i++)}),r}function J5(n){if(n._status===-1){var e=n._result;e=e(),n._status=0,n._result=e,e.then(function(t){n._status===0&&(t=t.default,n._status=1,n._result=t)},function(t){n._status===0&&(n._status=2,n._result=t)})}if(n._status===1)return n._result;throw n._result}var uR={current:null};function Ma(){var n=uR.current;if(n===null)throw Error(Sm(321));return n}var Q5={ReactCurrentDispatcher:uR,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:Y1,IsSomeRendererActing:{current:!1},assign:q1};an.Children={map:h0,forEach:function(n,e,t){h0(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return h0(n,function(){e++}),e},toArray:function(n){return h0(n,function(e){return e})||[]},only:function(n){if(!$1(n))throw Error(Sm(143));return n}};an.Component=Nd;an.PureComponent=X1;an.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q5;an.cloneElement=function(n,e,t){if(n==null)throw Error(Sm(267,n));var r=q1({},n.props),i=n.key,o=n.ref,s=n._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Y1.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)oR.call(e,l)&&!sR.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:kd,type:n.type,key:i,ref:o,props:r,_owner:s}};an.createContext=function(n,e){return e===void 0&&(e=null),n={$$typeof:ZP,_calculateChangedBits:e,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null},n.Provider={$$typeof:$P,_context:n},n.Consumer=n};an.createElement=aR;an.createFactory=function(n){var e=aR.bind(null,n);return e.type=n,e};an.createRef=function(){return{current:null}};an.forwardRef=function(n){return{$$typeof:JP,render:n}};an.isValidElement=$1;an.lazy=function(n){return{$$typeof:eR,_payload:{_status:-1,_result:n},_init:J5}};an.memo=function(n,e){return{$$typeof:QP,type:n,compare:e===void 0?null:e}};an.useCallback=function(n,e){return Ma().useCallback(n,e)};an.useContext=function(n,e){return Ma().useContext(n,e)};an.useDebugValue=function(){};an.useEffect=function(n,e){return Ma().useEffect(n,e)};an.useImperativeHandle=function(n,e,t){return Ma().useImperativeHandle(n,e,t)};an.useLayoutEffect=function(n,e){return Ma().useLayoutEffect(n,e)};an.useMemo=function(n,e){return Ma().useMemo(n,e)};an.useReducer=function(n,e,t){return Ma().useReducer(n,e,t)};an.useRef=function(n){return Ma().useRef(n)};an.useState=function(n){return Ma().useState(n)};an.version="17.0.2";se.exports=an;var J1=se.exports,Bd={exports:{}},Po={},zd={exports:{}},cR={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){var e,t,r,i;if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();n.unstable_now=function(){return s.now()-a}}if(typeof window=="undefined"||typeof MessageChannel!="function"){var l=null,c=null,m=function(){if(l!==null)try{var te=n.unstable_now();l(!0,te),l=null}catch(me){throw setTimeout(m,0),me}};e=function(te){l!==null?setTimeout(e,0,te):(l=te,setTimeout(m,0))},t=function(te,me){c=setTimeout(te,me)},r=function(){clearTimeout(c)},n.unstable_shouldYield=function(){return!1},i=n.unstable_forceFrameRate=function(){}}else{var v=window.setTimeout,p=window.clearTimeout;if(typeof console!="undefined"){var g=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof g!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var y=!1,S=null,M=-1,x=5,_=0;n.unstable_shouldYield=function(){return n.unstable_now()>=_},i=function(){},n.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<te?Math.floor(1e3/te):5};var T=new MessageChannel,E=T.port2;T.port1.onmessage=function(){if(S!==null){var te=n.unstable_now();_=te+x;try{S(!0,te)?E.postMessage(null):(y=!1,S=null)}catch(me){throw E.postMessage(null),me}}else y=!1},e=function(te){S=te,y||(y=!0,E.postMessage(null))},t=function(te,me){M=v(function(){te(n.unstable_now())},me)},r=function(){p(M),M=-1}}function C(te,me){var J=te.length;te.push(me);e:for(;;){var V=J-1>>>1,j=te[V];if(j!==void 0&&0<D(j,me))te[V]=me,te[J]=j,J=V;else break e}}function I(te){return te=te[0],te===void 0?null:te}function R(te){var me=te[0];if(me!==void 0){var J=te.pop();if(J!==me){te[0]=J;e:for(var V=0,j=te.length;V<j;){var Y=2*(V+1)-1,de=te[Y],ye=Y+1,ge=te[ye];if(de!==void 0&&0>D(de,J))ge!==void 0&&0>D(ge,de)?(te[V]=ge,te[ye]=J,V=ye):(te[V]=de,te[Y]=J,V=Y);else if(ge!==void 0&&0>D(ge,J))te[V]=ge,te[ye]=J,V=ye;else break e}}return me}return null}function D(te,me){var J=te.sortIndex-me.sortIndex;return J!==0?J:te.id-me.id}var k=[],U=[],B=1,$=null,K=3,ie=!1,Q=!1,re=!1;function ue(te){for(var me=I(U);me!==null;){if(me.callback===null)R(U);else if(me.startTime<=te)R(U),me.sortIndex=me.expirationTime,C(k,me);else break;me=I(U)}}function Pe(te){if(re=!1,ue(te),!Q)if(I(k)!==null)Q=!0,e(Ue);else{var me=I(U);me!==null&&t(Pe,me.startTime-te)}}function Ue(te,me){Q=!1,re&&(re=!1,r()),ie=!0;var J=K;try{for(ue(me),$=I(k);$!==null&&(!($.expirationTime>me)||te&&!n.unstable_shouldYield());){var V=$.callback;if(typeof V=="function"){$.callback=null,K=$.priorityLevel;var j=V($.expirationTime<=me);me=n.unstable_now(),typeof j=="function"?$.callback=j:$===I(k)&&R(k),ue(me)}else R(k);$=I(k)}if($!==null)var Y=!0;else{var de=I(U);de!==null&&t(Pe,de.startTime-me),Y=!1}return Y}finally{$=null,K=J,ie=!1}}var Ve=i;n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(te){te.callback=null},n.unstable_continueExecution=function(){Q||ie||(Q=!0,e(Ue))},n.unstable_getCurrentPriorityLevel=function(){return K},n.unstable_getFirstCallbackNode=function(){return I(k)},n.unstable_next=function(te){switch(K){case 1:case 2:case 3:var me=3;break;default:me=K}var J=K;K=me;try{return te()}finally{K=J}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=Ve,n.unstable_runWithPriority=function(te,me){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var J=K;K=te;try{return me()}finally{K=J}},n.unstable_scheduleCallback=function(te,me,J){var V=n.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?V+J:V):J=V,te){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=J+j,te={id:B++,callback:me,priorityLevel:te,startTime:J,expirationTime:j,sortIndex:-1},J>V?(te.sortIndex=J,C(U,te),I(k)===null&&te===I(U)&&(re?r():re=!0,t(Pe,J-V))):(te.sortIndex=j,C(k,te),Q||ie||(Q=!0,e(Ue))),te},n.unstable_wrapCallback=function(te){var me=K;return function(){var J=K;K=me;try{return te.apply(this,arguments)}finally{K=J}}}})(cR);zd.exports=cR;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p0=se.exports,Un=j1,Br=zd.exports;function je(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!p0)throw Error(je(227));var fR=new Set,bm={};function vc(n,e){Ud(n,e),Ud(n+"Capture",e)}function Ud(n,e){for(bm[n]=e,n=0;n<e.length;n++)fR.add(e[n])}var Ea=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),e6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,dR=Object.prototype.hasOwnProperty,hR={},pR={};function t6(n){return dR.call(pR,n)?!0:dR.call(hR,n)?!1:e6.test(n)?pR[n]=!0:(hR[n]=!0,!1)}function n6(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function r6(n,e,t,r){if(e===null||typeof e=="undefined"||n6(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ii(n,e,t,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Qr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Qr[n]=new Ii(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Qr[e]=new Ii(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Qr[n]=new Ii(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Qr[n]=new Ii(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Qr[n]=new Ii(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Qr[n]=new Ii(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Qr[n]=new Ii(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Qr[n]=new Ii(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Qr[n]=new Ii(n,5,!1,n.toLowerCase(),null,!1,!1)});var Q1=/[\-:]([a-z])/g;function eS(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(Q1,eS);Qr[e]=new Ii(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(Q1,eS);Qr[e]=new Ii(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(Q1,eS);Qr[e]=new Ii(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Qr[n]=new Ii(n,1,!1,n.toLowerCase(),null,!1,!1)});Qr.xlinkHref=new Ii("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Qr[n]=new Ii(n,1,!1,n.toLowerCase(),null,!0,!0)});function tS(n,e,t,r){var i=Qr.hasOwnProperty(e)?Qr[e]:null,o=i!==null?i.type===0:r?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");o||(r6(e,t,i,r)&&(t=null),r||i===null?t6(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var yc=p0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Mm=60103,xc=60106,Cl=60107,nS=60108,Em=60114,rS=60109,iS=60110,m0=60112,Tm=60113,g0=60120,v0=60115,oS=60116,sS=60121,aS=60128,mR=60129,lS=60130,uS=60131;if(typeof Symbol=="function"&&Symbol.for){var zr=Symbol.for;Mm=zr("react.element"),xc=zr("react.portal"),Cl=zr("react.fragment"),nS=zr("react.strict_mode"),Em=zr("react.profiler"),rS=zr("react.provider"),iS=zr("react.context"),m0=zr("react.forward_ref"),Tm=zr("react.suspense"),g0=zr("react.suspense_list"),v0=zr("react.memo"),oS=zr("react.lazy"),sS=zr("react.block"),zr("react.scope"),aS=zr("react.opaque.id"),mR=zr("react.debug_trace_mode"),lS=zr("react.offscreen"),uS=zr("react.legacy_hidden")}var gR=typeof Symbol=="function"&&Symbol.iterator;function Am(n){return n===null||typeof n!="object"?null:(n=gR&&n[gR]||n["@@iterator"],typeof n=="function"?n:null)}var cS;function Cm(n){if(cS===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);cS=e&&e[1]||""}return`
`+cS+n}var fS=!1;function y0(n,e){if(!n||fS)return"";fS=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(n,[],e)}else{try{e.call()}catch(l){r=l}n.call(e.prototype)}else{try{throw Error()}catch(l){r=l}n()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a])return`
`+i[s].replace(" at new "," at ");while(1<=s&&0<=a);break}}}finally{fS=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Cm(n):""}function i6(n){switch(n.tag){case 5:return Cm(n.type);case 16:return Cm("Lazy");case 13:return Cm("Suspense");case 19:return Cm("SuspenseList");case 0:case 2:case 15:return n=y0(n.type,!1),n;case 11:return n=y0(n.type.render,!1),n;case 22:return n=y0(n.type._render,!1),n;case 1:return n=y0(n.type,!0),n;default:return""}}function Vd(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Cl:return"Fragment";case xc:return"Portal";case Em:return"Profiler";case nS:return"StrictMode";case Tm:return"Suspense";case g0:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case iS:return(n.displayName||"Context")+".Consumer";case rS:return(n._context.displayName||"Context")+".Provider";case m0:var e=n.render;return e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case v0:return Vd(n.type);case sS:return Vd(n._render);case oS:e=n._payload,n=n._init;try{return Vd(n(e))}catch{}}return null}function Pl(n){switch(typeof n){case"boolean":case"number":case"object":case"string":case"undefined":return n;default:return""}}function vR(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function o6(n){var e=vR(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t!="undefined"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,o=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function x0(n){n._valueTracker||(n._valueTracker=o6(n))}function yR(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=vR(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function _0(n){if(n=n||(typeof document!="undefined"?document:void 0),typeof n=="undefined")return null;try{return n.activeElement||n.body}catch{return n.body}}function dS(n,e){var t=e.checked;return Un({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t!=null?t:n._wrapperState.initialChecked})}function xR(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=Pl(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function _R(n,e){e=e.checked,e!=null&&tS(n,"checked",e,!1)}function hS(n,e){_R(n,e);var t=Pl(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?pS(n,e.type,t):e.hasOwnProperty("defaultValue")&&pS(n,e.type,Pl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function wR(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function pS(n,e,t){(e!=="number"||_0(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}function s6(n){var e="";return p0.Children.forEach(n,function(t){t!=null&&(e+=t)}),e}function mS(n,e){return n=Un({children:void 0},e),(e=s6(e.children))&&(n.children=e),n}function Hd(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+Pl(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function gS(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(je(91));return Un({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function SR(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(je(92));if(Array.isArray(t)){if(!(1>=t.length))throw Error(je(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Pl(t)}}function bR(n,e){var t=Pl(e.value),r=Pl(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function MR(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}var vS={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function ER(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yS(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?ER(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var w0,TR=function(n){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!==vS.svg||"innerHTML"in n)n.innerHTML=e;else{for(w0=w0||document.createElement("div"),w0.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=w0.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Pm(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Rm={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},a6=["Webkit","ms","Moz","O"];Object.keys(Rm).forEach(function(n){a6.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Rm[e]=Rm[n]})});function AR(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Rm.hasOwnProperty(n)&&Rm[n]?(""+e).trim():e+"px"}function CR(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=AR(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var l6=Un({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xS(n,e){if(e){if(l6[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(je(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(je(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(je(61))}if(e.style!=null&&typeof e.style!="object")throw Error(je(62))}}function _S(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function wS(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var SS=null,Gd=null,Wd=null;function PR(n){if(n=Ym(n)){if(typeof SS!="function")throw Error(je(280));var e=n.stateNode;e&&(e=z0(e),SS(n.stateNode,n.type,e))}}function RR(n){Gd?Wd?Wd.push(n):Wd=[n]:Gd=n}function LR(){if(Gd){var n=Gd,e=Wd;if(Wd=Gd=null,PR(n),e)for(n=0;n<e.length;n++)PR(e[n])}}function bS(n,e){return n(e)}function IR(n,e,t,r,i){return n(e,t,r,i)}function MS(){}var DR=bS,_c=!1,ES=!1;function TS(){(Gd!==null||Wd!==null)&&(MS(),LR())}function u6(n,e,t){if(ES)return n(e,t);ES=!0;try{return DR(n,e,t)}finally{ES=!1,TS()}}function Lm(n,e){var t=n.stateNode;if(t===null)return null;var r=z0(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(je(231,e,typeof t));return t}var AS=!1;if(Ea)try{var Im={};Object.defineProperty(Im,"passive",{get:function(){AS=!0}}),window.addEventListener("test",Im,Im),window.removeEventListener("test",Im,Im)}catch{AS=!1}function c6(n,e,t,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(m){this.onError(m)}}var Dm=!1,S0=null,b0=!1,CS=null,f6={onError:function(n){Dm=!0,S0=n}};function d6(n,e,t,r,i,o,s,a,l){Dm=!1,S0=null,c6.apply(f6,arguments)}function h6(n,e,t,r,i,o,s,a,l){if(d6.apply(this,arguments),Dm){if(Dm){var c=S0;Dm=!1,S0=null}else throw Error(je(198));b0||(b0=!0,CS=c)}}function wc(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,(e.flags&1026)!=0&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function OR(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function FR(n){if(wc(n)!==n)throw Error(je(188))}function p6(n){var e=n.alternate;if(!e){if(e=wc(n),e===null)throw Error(je(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===t)return FR(i),n;if(o===r)return FR(i),e;o=o.sibling}throw Error(je(188))}if(t.return!==r.return)t=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===t){s=!0,t=i,r=o;break}if(a===r){s=!0,r=i,t=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===t){s=!0,t=o,r=i;break}if(a===r){s=!0,r=o,t=i;break}a=a.sibling}if(!s)throw Error(je(189))}}if(t.alternate!==r)throw Error(je(190))}if(t.tag!==3)throw Error(je(188));return t.stateNode.current===t?n:e}function kR(n){if(n=p6(n),!n)return null;for(var e=n;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===n)break;for(;!e.sibling;){if(!e.return||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function NR(n,e){for(var t=n.alternate;e!==null;){if(e===n||e===t)return!0;e=e.return}return!1}var BR,PS,zR,UR,RS=!1,As=[],Rl=null,Ll=null,Il=null,Om=new Map,Fm=new Map,km=[],VR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function LS(n,e,t,r,i){return{blockedOn:n,domEventName:e,eventSystemFlags:t|16,nativeEvent:i,targetContainers:[r]}}function HR(n,e){switch(n){case"focusin":case"focusout":Rl=null;break;case"dragenter":case"dragleave":Ll=null;break;case"mouseover":case"mouseout":Il=null;break;case"pointerover":case"pointerout":Om.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fm.delete(e.pointerId)}}function Nm(n,e,t,r,i,o){return n===null||n.nativeEvent!==o?(n=LS(e,t,r,i,o),e!==null&&(e=Ym(e),e!==null&&PS(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function m6(n,e,t,r,i){switch(e){case"focusin":return Rl=Nm(Rl,n,e,t,r,i),!0;case"dragenter":return Ll=Nm(Ll,n,e,t,r,i),!0;case"mouseover":return Il=Nm(Il,n,e,t,r,i),!0;case"pointerover":var o=i.pointerId;return Om.set(o,Nm(Om.get(o)||null,n,e,t,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Fm.set(o,Nm(Fm.get(o)||null,n,e,t,r,i)),!0}return!1}function g6(n){var e=Sc(n.target);if(e!==null){var t=wc(e);if(t!==null){if(e=t.tag,e===13){if(e=OR(t),e!==null){n.blockedOn=e,UR(n.lanePriority,function(){Br.unstable_runWithPriority(n.priority,function(){zR(t)})});return}}else if(e===3&&t.stateNode.hydrate){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function M0(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=NS(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t!==null)return e=Ym(t),e!==null&&PS(e),n.blockedOn=t,!1;e.shift()}return!0}function GR(n,e,t){M0(n)&&t.delete(e)}function v6(){for(RS=!1;0<As.length;){var n=As[0];if(n.blockedOn!==null){n=Ym(n.blockedOn),n!==null&&BR(n);break}for(var e=n.targetContainers;0<e.length;){var t=NS(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t!==null){n.blockedOn=t;break}e.shift()}n.blockedOn===null&&As.shift()}Rl!==null&&M0(Rl)&&(Rl=null),Ll!==null&&M0(Ll)&&(Ll=null),Il!==null&&M0(Il)&&(Il=null),Om.forEach(GR),Fm.forEach(GR)}function Bm(n,e){n.blockedOn===e&&(n.blockedOn=null,RS||(RS=!0,Br.unstable_scheduleCallback(Br.unstable_NormalPriority,v6)))}function WR(n){function e(i){return Bm(i,n)}if(0<As.length){Bm(As[0],n);for(var t=1;t<As.length;t++){var r=As[t];r.blockedOn===n&&(r.blockedOn=null)}}for(Rl!==null&&Bm(Rl,n),Ll!==null&&Bm(Ll,n),Il!==null&&Bm(Il,n),Om.forEach(e),Fm.forEach(e),t=0;t<km.length;t++)r=km[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<km.length&&(t=km[0],t.blockedOn===null);)g6(t),t.blockedOn===null&&km.shift()}function E0(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var jd={animationend:E0("Animation","AnimationEnd"),animationiteration:E0("Animation","AnimationIteration"),animationstart:E0("Animation","AnimationStart"),transitionend:E0("Transition","TransitionEnd")},IS={},jR={};Ea&&(jR=document.createElement("div").style,"AnimationEvent"in window||(delete jd.animationend.animation,delete jd.animationiteration.animation,delete jd.animationstart.animation),"TransitionEvent"in window||delete jd.transitionend.transition);function T0(n){if(IS[n])return IS[n];if(!jd[n])return n;var e=jd[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in jR)return IS[n]=e[t];return n}var qR=T0("animationend"),XR=T0("animationiteration"),KR=T0("animationstart"),YR=T0("transitionend"),$R=new Map,DS=new Map,y6=["abort","abort",qR,"animationEnd",XR,"animationIteration",KR,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",YR,"transitionEnd","waiting","waiting"];function OS(n,e){for(var t=0;t<n.length;t+=2){var r=n[t],i=n[t+1];i="on"+(i[0].toUpperCase()+i.slice(1)),DS.set(r,e),$R.set(r,i),vc(i,[r])}}var x6=Br.unstable_now;x6();var Pn=8;function qd(n){if((1&n)!=0)return Pn=15,1;if((2&n)!=0)return Pn=14,2;if((4&n)!=0)return Pn=13,4;var e=24&n;return e!==0?(Pn=12,e):(n&32)!=0?(Pn=11,32):(e=192&n,e!==0?(Pn=10,e):(n&256)!=0?(Pn=9,256):(e=3584&n,e!==0?(Pn=8,e):(n&4096)!=0?(Pn=7,4096):(e=4186112&n,e!==0?(Pn=6,e):(e=62914560&n,e!==0?(Pn=5,e):n&67108864?(Pn=4,67108864):(n&134217728)!=0?(Pn=3,134217728):(e=805306368&n,e!==0?(Pn=2,e):(1073741824&n)!=0?(Pn=1,1073741824):(Pn=8,n))))))}function _6(n){switch(n){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function w6(n){switch(n){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(je(358,n))}}function zm(n,e){var t=n.pendingLanes;if(t===0)return Pn=0;var r=0,i=0,o=n.expiredLanes,s=n.suspendedLanes,a=n.pingedLanes;if(o!==0)r=o,i=Pn=15;else if(o=t&134217727,o!==0){var l=o&~s;l!==0?(r=qd(l),i=Pn):(a&=o,a!==0&&(r=qd(a),i=Pn))}else o=t&~s,o!==0?(r=qd(o),i=Pn):a!==0&&(r=qd(a),i=Pn);if(r===0)return 0;if(r=31-Dl(r),r=t&((0>r?0:1<<r)<<1)-1,e!==0&&e!==r&&(e&s)==0){if(qd(e),i<=Pn)return e;Pn=i}if(e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-Dl(e),i=1<<t,r|=n[t],e&=~i;return r}function ZR(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function A0(n,e){switch(n){case 15:return 1;case 14:return 2;case 12:return n=Xd(24&~e),n===0?A0(10,e):n;case 10:return n=Xd(192&~e),n===0?A0(8,e):n;case 8:return n=Xd(3584&~e),n===0&&(n=Xd(4186112&~e),n===0&&(n=512)),n;case 2:return e=Xd(805306368&~e),e===0&&(e=268435456),e}throw Error(je(358,n))}function Xd(n){return n&-n}function FS(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function C0(n,e,t){n.pendingLanes|=e;var r=e-1;n.suspendedLanes&=r,n.pingedLanes&=r,n=n.eventTimes,e=31-Dl(e),n[e]=t}var Dl=Math.clz32?Math.clz32:M6,S6=Math.log,b6=Math.LN2;function M6(n){return n===0?32:31-(S6(n)/b6|0)|0}var E6=Br.unstable_UserBlockingPriority,T6=Br.unstable_runWithPriority,P0=!0;function A6(n,e,t,r){_c||MS();var i=kS,o=_c;_c=!0;try{IR(i,n,e,t,r)}finally{(_c=o)||TS()}}function C6(n,e,t,r){T6(E6,kS.bind(null,n,e,t,r))}function kS(n,e,t,r){if(P0){var i;if((i=(e&4)==0)&&0<As.length&&-1<VR.indexOf(n))n=LS(null,n,e,t,r),As.push(n);else{var o=NS(n,e,t,r);if(o===null)i&&HR(n,r);else{if(i){if(-1<VR.indexOf(n)){n=LS(o,n,e,t,r),As.push(n);return}if(m6(o,n,e,t,r))return;HR(n,r)}A2(n,e,r,null,t)}}}}function NS(n,e,t,r){var i=wS(r);if(i=Sc(i),i!==null){var o=wc(i);if(o===null)i=null;else{var s=o.tag;if(s===13){if(i=OR(o),i!==null)return i;i=null}else if(s===3){if(o.stateNode.hydrate)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return A2(n,e,r,i,t),null}var Ol=null,BS=null,R0=null;function JR(){if(R0)return R0;var n,e=BS,t=e.length,r,i="value"in Ol?Ol.value:Ol.textContent,o=i.length;for(n=0;n<t&&e[n]===i[n];n++);var s=t-n;for(r=1;r<=s&&e[t-r]===i[o-r];r++);return R0=i.slice(n,1<r?1-r:void 0)}function L0(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function I0(){return!0}function QR(){return!1}function lo(n){function e(t,r,i,o,s){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?I0:QR,this.isPropagationStopped=QR,this}return Un(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=I0)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=I0)},persist:function(){},isPersistent:I0}),e}var Kd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zS=lo(Kd),Um=Un({},Kd,{view:0,detail:0}),P6=lo(Um),US,VS,Vm,D0=Un({},Um,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:GS,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Vm&&(Vm&&n.type==="mousemove"?(US=n.screenX-Vm.screenX,VS=n.screenY-Vm.screenY):VS=US=0,Vm=n),US)},movementY:function(n){return"movementY"in n?n.movementY:VS}}),e2=lo(D0),R6=Un({},D0,{dataTransfer:0}),L6=lo(R6),I6=Un({},Um,{relatedTarget:0}),HS=lo(I6),D6=Un({},Kd,{animationName:0,elapsedTime:0,pseudoElement:0}),O6=lo(D6),F6=Un({},Kd,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),k6=lo(F6),N6=Un({},Kd,{data:0}),t2=lo(N6),B6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},z6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},U6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function V6(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=U6[n])?!!e[n]:!1}function GS(){return V6}var H6=Un({},Um,{key:function(n){if(n.key){var e=B6[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=L0(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?z6[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:GS,charCode:function(n){return n.type==="keypress"?L0(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?L0(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),G6=lo(H6),W6=Un({},D0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),n2=lo(W6),j6=Un({},Um,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:GS}),q6=lo(j6),X6=Un({},Kd,{propertyName:0,elapsedTime:0,pseudoElement:0}),K6=lo(X6),Y6=Un({},D0,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),$6=lo(Y6),Z6=[9,13,27,32],WS=Ea&&"CompositionEvent"in window,Hm=null;Ea&&"documentMode"in document&&(Hm=document.documentMode);var J6=Ea&&"TextEvent"in window&&!Hm,r2=Ea&&(!WS||Hm&&8<Hm&&11>=Hm),i2=String.fromCharCode(32),o2=!1;function s2(n,e){switch(n){case"keyup":return Z6.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function a2(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Yd=!1;function Q6(n,e){switch(n){case"compositionend":return a2(e);case"keypress":return e.which!==32?null:(o2=!0,i2);case"textInput":return n=e.data,n===i2&&o2?null:n;default:return null}}function eG(n,e){if(Yd)return n==="compositionend"||!WS&&s2(n,e)?(n=JR(),R0=BS=Ol=null,Yd=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return r2&&e.locale!=="ko"?null:e.data;default:return null}}var tG={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function l2(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!tG[n.type]:e==="textarea"}function u2(n,e,t,r){RR(r),e=F0(e,"onChange"),0<e.length&&(t=new zS("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var Gm=null,Wm=null;function nG(n){S2(n,0)}function O0(n){var e=eh(n);if(yR(e))return n}function rG(n,e){if(n==="change")return e}var c2=!1;if(Ea){var jS;if(Ea){var qS="oninput"in document;if(!qS){var f2=document.createElement("div");f2.setAttribute("oninput","return;"),qS=typeof f2.oninput=="function"}jS=qS}else jS=!1;c2=jS&&(!document.documentMode||9<document.documentMode)}function d2(){Gm&&(Gm.detachEvent("onpropertychange",h2),Wm=Gm=null)}function h2(n){if(n.propertyName==="value"&&O0(Wm)){var e=[];if(u2(e,Wm,n,wS(n)),n=nG,_c)n(e);else{_c=!0;try{bS(n,e)}finally{_c=!1,TS()}}}}function iG(n,e,t){n==="focusin"?(d2(),Gm=e,Wm=t,Gm.attachEvent("onpropertychange",h2)):n==="focusout"&&d2()}function oG(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return O0(Wm)}function sG(n,e){if(n==="click")return O0(e)}function aG(n,e){if(n==="input"||n==="change")return O0(e)}function lG(n,e){return n===e&&(n!==0||1/n==1/e)||n!==n&&e!==e}var Ro=typeof Object.is=="function"?Object.is:lG,uG=Object.prototype.hasOwnProperty;function jm(n,e){if(Ro(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++)if(!uG.call(e,t[r])||!Ro(n[t[r]],e[t[r]]))return!1;return!0}function p2(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function m2(n,e){var t=p2(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=p2(t)}}function g2(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?g2(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function v2(){for(var n=window,e=_0();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=_0(n.document)}return e}function XS(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}var cG=Ea&&"documentMode"in document&&11>=document.documentMode,$d=null,KS=null,qm=null,YS=!1;function y2(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;YS||$d==null||$d!==_0(r)||(r=$d,"selectionStart"in r&&XS(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),qm&&jm(qm,r)||(qm=r,r=F0(KS,"onSelect"),0<r.length&&(e=new zS("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=$d)))}OS("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);OS("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);OS(y6,2);for(var x2="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),$S=0;$S<x2.length;$S++)DS.set(x2[$S],0);Ud("onMouseEnter",["mouseout","mouseover"]);Ud("onMouseLeave",["mouseout","mouseover"]);Ud("onPointerEnter",["pointerout","pointerover"]);Ud("onPointerLeave",["pointerout","pointerover"]);vc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vc("onBeforeInput",["compositionend","keypress","textInput","paste"]);vc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xm));function w2(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,h6(r,e,void 0,n),n.currentTarget=null}function S2(n,e){e=(e&4)!=0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;w2(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;w2(i,a,c),o=l}}}if(b0)throw n=CS,b0=!1,CS=null,n}function Dn(n,e){var t=D2(e),r=n+"__bubble";t.has(r)||(T2(e,n,2,!1),t.add(r))}var b2="_reactListening"+Math.random().toString(36).slice(2);function M2(n){n[b2]||(n[b2]=!0,fR.forEach(function(e){_2.has(e)||E2(e,!1,n,null),E2(e,!0,n,null)}))}function E2(n,e,t,r){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,o=t;if(n==="selectionchange"&&t.nodeType!==9&&(o=t.ownerDocument),r!==null&&!e&&_2.has(n)){if(n!=="scroll")return;i|=2,o=r}var s=D2(o),a=n+"__"+(e?"capture":"bubble");s.has(a)||(e&&(i|=4),T2(o,n,i,e),s.add(a))}function T2(n,e,t,r){var i=DS.get(e);switch(i===void 0?2:i){case 0:i=A6;break;case 1:i=C6;break;default:i=kS}t=i.bind(null,e,t,n),i=void 0,!AS||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function A2(n,e,t,r,i){var o=r;if((e&1)==0&&(e&2)==0&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Sc(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}u6(function(){var c=o,m=wS(t),v=[];e:{var p=$R.get(n);if(p!==void 0){var g=zS,y=n;switch(n){case"keypress":if(L0(t)===0)break e;case"keydown":case"keyup":g=G6;break;case"focusin":y="focus",g=HS;break;case"focusout":y="blur",g=HS;break;case"beforeblur":case"afterblur":g=HS;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=e2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=L6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=q6;break;case qR:case XR:case KR:g=O6;break;case YR:g=K6;break;case"scroll":g=P6;break;case"wheel":g=$6;break;case"copy":case"cut":case"paste":g=k6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=n2}var S=(e&4)!=0,M=!S&&n==="scroll",x=S?p!==null?p+"Capture":null:p;S=[];for(var _=c,T;_!==null;){T=_;var E=T.stateNode;if(T.tag===5&&E!==null&&(T=E,x!==null&&(E=Lm(_,x),E!=null&&S.push(Km(_,E,T)))),M)break;_=_.return}0<S.length&&(p=new g(p,y,null,t,m),v.push({event:p,listeners:S}))}}if((e&7)==0){e:{if(p=n==="mouseover"||n==="pointerover",g=n==="mouseout"||n==="pointerout",p&&(e&16)==0&&(y=t.relatedTarget||t.fromElement)&&(Sc(y)||y[Qd]))break e;if((g||p)&&(p=m.window===m?m:(p=m.ownerDocument)?p.defaultView||p.parentWindow:window,g?(y=t.relatedTarget||t.toElement,g=c,y=y?Sc(y):null,y!==null&&(M=wc(y),y!==M||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=c),g!==y)){if(S=e2,E="onMouseLeave",x="onMouseEnter",_="mouse",(n==="pointerout"||n==="pointerover")&&(S=n2,E="onPointerLeave",x="onPointerEnter",_="pointer"),M=g==null?p:eh(g),T=y==null?p:eh(y),p=new S(E,_+"leave",g,t,m),p.target=M,p.relatedTarget=T,E=null,Sc(m)===c&&(S=new S(x,_+"enter",y,t,m),S.target=T,S.relatedTarget=M,E=S),M=E,g&&y)t:{for(S=g,x=y,_=0,T=S;T;T=Zd(T))_++;for(T=0,E=x;E;E=Zd(E))T++;for(;0<_-T;)S=Zd(S),_--;for(;0<T-_;)x=Zd(x),T--;for(;_--;){if(S===x||x!==null&&S===x.alternate)break t;S=Zd(S),x=Zd(x)}S=null}else S=null;g!==null&&C2(v,p,g,S,!1),y!==null&&M!==null&&C2(v,M,y,S,!0)}}e:{if(p=c?eh(c):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var C=rG;else if(l2(p))if(c2)C=aG;else{C=oG;var I=iG}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(C=sG);if(C&&(C=C(n,c))){u2(v,C,t,m);break e}I&&I(n,p,c),n==="focusout"&&(I=p._wrapperState)&&I.controlled&&p.type==="number"&&pS(p,"number",p.value)}switch(I=c?eh(c):window,n){case"focusin":(l2(I)||I.contentEditable==="true")&&($d=I,KS=c,qm=null);break;case"focusout":qm=KS=$d=null;break;case"mousedown":YS=!0;break;case"contextmenu":case"mouseup":case"dragend":YS=!1,y2(v,t,m);break;case"selectionchange":if(cG)break;case"keydown":case"keyup":y2(v,t,m)}var R;if(WS)e:{switch(n){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else Yd?s2(n,t)&&(D="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(D="onCompositionStart");D&&(r2&&t.locale!=="ko"&&(Yd||D!=="onCompositionStart"?D==="onCompositionEnd"&&Yd&&(R=JR()):(Ol=m,BS="value"in Ol?Ol.value:Ol.textContent,Yd=!0)),I=F0(c,D),0<I.length&&(D=new t2(D,n,null,t,m),v.push({event:D,listeners:I}),R?D.data=R:(R=a2(t),R!==null&&(D.data=R)))),(R=J6?Q6(n,t):eG(n,t))&&(c=F0(c,"onBeforeInput"),0<c.length&&(m=new t2("onBeforeInput","beforeinput",null,t,m),v.push({event:m,listeners:c}),m.data=R))}S2(v,e)})}function Km(n,e,t){return{instance:n,listener:e,currentTarget:t}}function F0(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Lm(n,t),o!=null&&r.unshift(Km(n,o,i)),o=Lm(n,e),o!=null&&r.push(Km(n,o,i))),n=n.return}return r}function Zd(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function C2(n,e,t,r,i){for(var o=e._reactName,s=[];t!==null&&t!==r;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Lm(t,o),l!=null&&s.unshift(Km(t,l,a))):i||(l=Lm(t,o),l!=null&&s.push(Km(t,l,a)))),t=t.return}s.length!==0&&n.push({event:e,listeners:s})}function k0(){}var ZS=null,JS=null;function P2(n,e){switch(n){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function QS(n,e){return n==="textarea"||n==="option"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var R2=typeof setTimeout=="function"?setTimeout:void 0,fG=typeof clearTimeout=="function"?clearTimeout:void 0;function eb(n){n.nodeType===1?n.textContent="":n.nodeType===9&&(n=n.body,n!=null&&(n.textContent=""))}function Jd(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break}return n}function L2(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var tb=0;function dG(n){return{$$typeof:aS,toString:n,valueOf:n}}var N0=Math.random().toString(36).slice(2),Fl="__reactFiber$"+N0,B0="__reactProps$"+N0,Qd="__reactContainer$"+N0,I2="__reactEvents$"+N0;function Sc(n){var e=n[Fl];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Qd]||t[Fl]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=L2(n);n!==null;){if(t=n[Fl])return t;n=L2(n)}return e}n=t,t=n.parentNode}return null}function Ym(n){return n=n[Fl]||n[Qd],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function eh(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(je(33))}function z0(n){return n[B0]||null}function D2(n){var e=n[I2];return e===void 0&&(e=n[I2]=new Set),e}var nb=[],th=-1;function kl(n){return{current:n}}function On(n){0>th||(n.current=nb[th],nb[th]=null,th--)}function er(n,e){th++,nb[th]=n.current,n.current=e}var Nl={},pi=kl(Nl),Zi=kl(!1),bc=Nl;function nh(n,e){var t=n.type.contextTypes;if(!t)return Nl;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in t)i[o]=e[o];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function Ji(n){return n=n.childContextTypes,n!=null}function U0(){On(Zi),On(pi)}function O2(n,e,t){if(pi.current!==Nl)throw Error(je(168));er(pi,e),er(Zi,t)}function F2(n,e,t){var r=n.stateNode;if(n=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in n))throw Error(je(108,Vd(e)||"Unknown",i));return Un({},t,r)}function V0(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Nl,bc=pi.current,er(pi,n),er(Zi,Zi.current),!0}function k2(n,e,t){var r=n.stateNode;if(!r)throw Error(je(169));t?(n=F2(n,e,bc),r.__reactInternalMemoizedMergedChildContext=n,On(Zi),On(pi),er(pi,n)):On(Zi),er(Zi,t)}var rb=null,Mc=null,hG=Br.unstable_runWithPriority,ib=Br.unstable_scheduleCallback,ob=Br.unstable_cancelCallback,pG=Br.unstable_shouldYield,N2=Br.unstable_requestPaint,sb=Br.unstable_now,mG=Br.unstable_getCurrentPriorityLevel,H0=Br.unstable_ImmediatePriority,B2=Br.unstable_UserBlockingPriority,z2=Br.unstable_NormalPriority,U2=Br.unstable_LowPriority,V2=Br.unstable_IdlePriority,ab={},gG=N2!==void 0?N2:function(){},Ta=null,G0=null,lb=!1,H2=sb(),mi=1e4>H2?sb:function(){return sb()-H2};function rh(){switch(mG()){case H0:return 99;case B2:return 98;case z2:return 97;case U2:return 96;case V2:return 95;default:throw Error(je(332))}}function G2(n){switch(n){case 99:return H0;case 98:return B2;case 97:return z2;case 96:return U2;case 95:return V2;default:throw Error(je(332))}}function Ec(n,e){return n=G2(n),hG(n,e)}function $m(n,e,t){return n=G2(n),ib(n,e,t)}function Cs(){if(G0!==null){var n=G0;G0=null,ob(n)}W2()}function W2(){if(!lb&&Ta!==null){lb=!0;var n=0;try{var e=Ta;Ec(99,function(){for(;n<e.length;n++){var t=e[n];do t=t(!0);while(t!==null)}}),Ta=null}catch(t){throw Ta!==null&&(Ta=Ta.slice(n+1)),ib(H0,Cs),t}finally{lb=!1}}}var vG=yc.ReactCurrentBatchConfig;function es(n,e){if(n&&n.defaultProps){e=Un({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var W0=kl(null),j0=null,ih=null,q0=null;function ub(){q0=ih=j0=null}function cb(n){var e=W0.current;On(W0),n.type._context._currentValue=e}function j2(n,e){for(;n!==null;){var t=n.alternate;if((n.childLanes&e)===e){if(t===null||(t.childLanes&e)===e)break;t.childLanes|=e}else n.childLanes|=e,t!==null&&(t.childLanes|=e);n=n.return}}function oh(n,e){j0=n,q0=ih=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&e)!=0&&(ts=!0),n.firstContext=null)}function Lo(n,e){if(q0!==n&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(q0=n,e=1073741823),e={context:n,observedBits:e,next:null},ih===null){if(j0===null)throw Error(je(308));ih=e,j0.dependencies={lanes:0,firstContext:e,responders:null}}else ih=ih.next=e;return n._currentValue}var Bl=!1;function fb(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function q2(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function zl(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Ul(n,e){if(n=n.updateQueue,n!==null){n=n.shared;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}}function X2(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,o=null;if(t=t.firstBaseUpdate,t!==null){do{var s={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};o===null?i=o=s:o=o.next=s,t=t.next}while(t!==null);o===null?i=o=e:o=o.next=e}else i=o=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Zm(n,e,t,r){var i=n.updateQueue;Bl=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var m=n.alternate;if(m!==null){m=m.updateQueue;var v=m.lastBaseUpdate;v!==s&&(v===null?m.firstBaseUpdate=c:v.next=c,m.lastBaseUpdate=l)}}if(o!==null){v=i.baseState,s=0,m=c=l=null;do{a=o.lane;var p=o.eventTime;if((r&a)===a){m!==null&&(m=m.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=n,y=o;switch(a=e,p=t,y.tag){case 1:if(g=y.payload,typeof g=="function"){v=g.call(p,v,a);break e}v=g;break e;case 3:g.flags=g.flags&-4097|64;case 0:if(g=y.payload,a=typeof g=="function"?g.call(p,v,a):g,a==null)break e;v=Un({},v,a);break e;case 2:Bl=!0}}o.callback!==null&&(n.flags|=32,a=i.effects,a===null?i.effects=[o]:a.push(o))}else p={eventTime:p,lane:a,tag:o.tag,payload:o.payload,callback:o.callback,next:null},m===null?(c=m=p,l=v):m=m.next=p,s|=a;if(o=o.next,o===null){if(a=i.shared.pending,a===null)break;o=a.next,a.next=null,i.lastBaseUpdate=a,i.shared.pending=null}}while(1);m===null&&(l=v),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=m,ug|=s,n.lanes=s,n.memoizedState=v}}function K2(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(je(191,i));i.call(r)}}}var Y2=new p0.Component().refs;function X0(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:Un({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var K0={isMounted:function(n){return(n=n._reactInternals)?wc(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=uo(),i=Gl(n),o=zl(r,i);o.payload=e,t!=null&&(o.callback=t),Ul(n,o),Wl(n,i,r)},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=uo(),i=Gl(n),o=zl(r,i);o.tag=1,o.payload=e,t!=null&&(o.callback=t),Ul(n,o),Wl(n,i,r)},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=uo(),r=Gl(n),i=zl(t,r);i.tag=2,e!=null&&(i.callback=e),Ul(n,i),Wl(n,r,t)}};function $2(n,e,t,r,i,o,s){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!jm(t,r)||!jm(i,o):!0}function Z2(n,e,t){var r=!1,i=Nl,o=e.contextType;return typeof o=="object"&&o!==null?o=Lo(o):(i=Ji(e)?bc:pi.current,r=e.contextTypes,o=(r=r!=null)?nh(n,i):Nl),e=new e(t,o),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=K0,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=o),e}function J2(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&K0.enqueueReplaceState(e,e.state,null)}function db(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs=Y2,fb(n);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Lo(o):(o=Ji(e)?bc:pi.current,i.context=nh(n,o)),Zm(n,t,i,r),i.state=n.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(X0(n,e,o,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&K0.enqueueReplaceState(i,i.state,null),Zm(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4)}var Y0=Array.isArray;function Jm(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(je(309));var r=t.stateNode}if(!r)throw Error(je(147,n));var i=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var s=r.refs;s===Y2&&(s=r.refs={}),o===null?delete s[i]:s[i]=o},e._stringRef=i,e)}if(typeof n!="string")throw Error(je(284));if(!t._owner)throw Error(je(290,n))}return n}function $0(n,e){if(n.type!=="textarea")throw Error(je(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function Q2(n){function e(M,x){if(n){var _=M.lastEffect;_!==null?(_.nextEffect=x,M.lastEffect=x):M.firstEffect=M.lastEffect=x,x.nextEffect=null,x.flags=8}}function t(M,x){if(!n)return null;for(;x!==null;)e(M,x),x=x.sibling;return null}function r(M,x){for(M=new Map;x!==null;)x.key!==null?M.set(x.key,x):M.set(x.index,x),x=x.sibling;return M}function i(M,x){return M=Xl(M,x),M.index=0,M.sibling=null,M}function o(M,x,_){return M.index=_,n?(_=M.alternate,_!==null?(_=_.index,_<x?(M.flags=2,x):_):(M.flags=2,x)):x}function s(M){return n&&M.alternate===null&&(M.flags=2),M}function a(M,x,_,T){return x===null||x.tag!==6?(x=Kb(_,M.mode,T),x.return=M,x):(x=i(x,_),x.return=M,x)}function l(M,x,_,T){return x!==null&&x.elementType===_.type?(T=i(x,_.props),T.ref=Jm(M,x,_),T.return=M,T):(T=px(_.type,_.key,_.props,null,M.mode,T),T.ref=Jm(M,x,_),T.return=M,T)}function c(M,x,_,T){return x===null||x.tag!==4||x.stateNode.containerInfo!==_.containerInfo||x.stateNode.implementation!==_.implementation?(x=Yb(_,M.mode,T),x.return=M,x):(x=i(x,_.children||[]),x.return=M,x)}function m(M,x,_,T,E){return x===null||x.tag!==7?(x=hh(_,M.mode,T,E),x.return=M,x):(x=i(x,_),x.return=M,x)}function v(M,x,_){if(typeof x=="string"||typeof x=="number")return x=Kb(""+x,M.mode,_),x.return=M,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Mm:return _=px(x.type,x.key,x.props,null,M.mode,_),_.ref=Jm(M,null,x),_.return=M,_;case xc:return x=Yb(x,M.mode,_),x.return=M,x}if(Y0(x)||Am(x))return x=hh(x,M.mode,_,null),x.return=M,x;$0(M,x)}return null}function p(M,x,_,T){var E=x!==null?x.key:null;if(typeof _=="string"||typeof _=="number")return E!==null?null:a(M,x,""+_,T);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Mm:return _.key===E?_.type===Cl?m(M,x,_.props.children,T,E):l(M,x,_,T):null;case xc:return _.key===E?c(M,x,_,T):null}if(Y0(_)||Am(_))return E!==null?null:m(M,x,_,T,null);$0(M,_)}return null}function g(M,x,_,T,E){if(typeof T=="string"||typeof T=="number")return M=M.get(_)||null,a(x,M,""+T,E);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Mm:return M=M.get(T.key===null?_:T.key)||null,T.type===Cl?m(x,M,T.props.children,E,T.key):l(x,M,T,E);case xc:return M=M.get(T.key===null?_:T.key)||null,c(x,M,T,E)}if(Y0(T)||Am(T))return M=M.get(_)||null,m(x,M,T,E,null);$0(x,T)}return null}function y(M,x,_,T){for(var E=null,C=null,I=x,R=x=0,D=null;I!==null&&R<_.length;R++){I.index>R?(D=I,I=null):D=I.sibling;var k=p(M,I,_[R],T);if(k===null){I===null&&(I=D);break}n&&I&&k.alternate===null&&e(M,I),x=o(k,x,R),C===null?E=k:C.sibling=k,C=k,I=D}if(R===_.length)return t(M,I),E;if(I===null){for(;R<_.length;R++)I=v(M,_[R],T),I!==null&&(x=o(I,x,R),C===null?E=I:C.sibling=I,C=I);return E}for(I=r(M,I);R<_.length;R++)D=g(I,M,R,_[R],T),D!==null&&(n&&D.alternate!==null&&I.delete(D.key===null?R:D.key),x=o(D,x,R),C===null?E=D:C.sibling=D,C=D);return n&&I.forEach(function(U){return e(M,U)}),E}function S(M,x,_,T){var E=Am(_);if(typeof E!="function")throw Error(je(150));if(_=E.call(_),_==null)throw Error(je(151));for(var C=E=null,I=x,R=x=0,D=null,k=_.next();I!==null&&!k.done;R++,k=_.next()){I.index>R?(D=I,I=null):D=I.sibling;var U=p(M,I,k.value,T);if(U===null){I===null&&(I=D);break}n&&I&&U.alternate===null&&e(M,I),x=o(U,x,R),C===null?E=U:C.sibling=U,C=U,I=D}if(k.done)return t(M,I),E;if(I===null){for(;!k.done;R++,k=_.next())k=v(M,k.value,T),k!==null&&(x=o(k,x,R),C===null?E=k:C.sibling=k,C=k);return E}for(I=r(M,I);!k.done;R++,k=_.next())k=g(I,M,R,k.value,T),k!==null&&(n&&k.alternate!==null&&I.delete(k.key===null?R:k.key),x=o(k,x,R),C===null?E=k:C.sibling=k,C=k);return n&&I.forEach(function(B){return e(M,B)}),E}return function(M,x,_,T){var E=typeof _=="object"&&_!==null&&_.type===Cl&&_.key===null;E&&(_=_.props.children);var C=typeof _=="object"&&_!==null;if(C)switch(_.$$typeof){case Mm:e:{for(C=_.key,E=x;E!==null;){if(E.key===C){switch(E.tag){case 7:if(_.type===Cl){t(M,E.sibling),x=i(E,_.props.children),x.return=M,M=x;break e}break;default:if(E.elementType===_.type){t(M,E.sibling),x=i(E,_.props),x.ref=Jm(M,E,_),x.return=M,M=x;break e}}t(M,E);break}else e(M,E);E=E.sibling}_.type===Cl?(x=hh(_.props.children,M.mode,T,_.key),x.return=M,M=x):(T=px(_.type,_.key,_.props,null,M.mode,T),T.ref=Jm(M,x,_),T.return=M,M=T)}return s(M);case xc:e:{for(E=_.key;x!==null;){if(x.key===E)if(x.tag===4&&x.stateNode.containerInfo===_.containerInfo&&x.stateNode.implementation===_.implementation){t(M,x.sibling),x=i(x,_.children||[]),x.return=M,M=x;break e}else{t(M,x);break}else e(M,x);x=x.sibling}x=Yb(_,M.mode,T),x.return=M,M=x}return s(M)}if(typeof _=="string"||typeof _=="number")return _=""+_,x!==null&&x.tag===6?(t(M,x.sibling),x=i(x,_),x.return=M,M=x):(t(M,x),x=Kb(_,M.mode,T),x.return=M,M=x),s(M);if(Y0(_))return y(M,x,_,T);if(Am(_))return S(M,x,_,T);if(C&&$0(M,_),typeof _=="undefined"&&!E)switch(M.tag){case 1:case 22:case 0:case 11:case 15:throw Error(je(152,Vd(M.type)||"Component"))}return t(M,x)}}var Z0=Q2(!0),eL=Q2(!1),Qm={},Ps=kl(Qm),eg=kl(Qm),tg=kl(Qm);function Tc(n){if(n===Qm)throw Error(je(174));return n}function hb(n,e){switch(er(tg,e),er(eg,n),er(Ps,Qm),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:yS(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=yS(e,n)}On(Ps),er(Ps,e)}function sh(){On(Ps),On(eg),On(tg)}function tL(n){Tc(tg.current);var e=Tc(Ps.current),t=yS(e,n.type);e!==t&&(er(eg,n),er(Ps,t))}function pb(n){eg.current===n&&(On(Ps),On(eg))}var tr=kl(0);function J0(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&64)!=0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Aa=null,Vl=null,Rs=!1;function nL(n,e){var t=Oo(5,null,null,0);t.elementType="DELETED",t.type="DELETED",t.stateNode=e,t.return=n,t.flags=8,n.lastEffect!==null?(n.lastEffect.nextEffect=t,n.lastEffect=t):n.firstEffect=n.lastEffect=t}function rL(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function mb(n){if(Rs){var e=Vl;if(e){var t=e;if(!rL(n,e)){if(e=Jd(t.nextSibling),!e||!rL(n,e)){n.flags=n.flags&-1025|2,Rs=!1,Aa=n;return}nL(Aa,t)}Aa=n,Vl=Jd(e.firstChild)}else n.flags=n.flags&-1025|2,Rs=!1,Aa=n}}function iL(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Aa=n}function Q0(n){if(n!==Aa)return!1;if(!Rs)return iL(n),Rs=!0,!1;var e=n.type;if(n.tag!==5||e!=="head"&&e!=="body"&&!QS(e,n.memoizedProps))for(e=Vl;e;)nL(n,e),e=Jd(e.nextSibling);if(iL(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(je(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Vl=Jd(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Vl=null}}else Vl=Aa?Jd(n.stateNode.nextSibling):null;return!0}function gb(){Vl=Aa=null,Rs=!1}var ah=[];function vb(){for(var n=0;n<ah.length;n++)ah[n]._workInProgressVersionPrimary=null;ah.length=0}var ng=yc.ReactCurrentDispatcher,Io=yc.ReactCurrentBatchConfig,rg=0,dr=null,gi=null,ei=null,ex=!1,ig=!1;function Qi(){throw Error(je(321))}function yb(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Ro(n[t],e[t]))return!1;return!0}function xb(n,e,t,r,i,o){if(rg=o,dr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ng.current=n===null||n.memoizedState===null?xG:_G,n=t(r,i),ig){o=0;do{if(ig=!1,!(25>o))throw Error(je(301));o+=1,ei=gi=null,e.updateQueue=null,ng.current=wG,n=t(r,i)}while(ig)}if(ng.current=ix,e=gi!==null&&gi.next!==null,rg=0,ei=gi=dr=null,ex=!1,e)throw Error(je(300));return n}function Ac(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ei===null?dr.memoizedState=ei=n:ei=ei.next=n,ei}function Cc(){if(gi===null){var n=dr.alternate;n=n!==null?n.memoizedState:null}else n=gi.next;var e=ei===null?dr.memoizedState:ei.next;if(e!==null)ei=e,gi=n;else{if(n===null)throw Error(je(310));gi=n,n={memoizedState:gi.memoizedState,baseState:gi.baseState,baseQueue:gi.baseQueue,queue:gi.queue,next:null},ei===null?dr.memoizedState=ei=n:ei=ei.next=n}return ei}function Ls(n,e){return typeof e=="function"?e(n):e}function og(n){var e=Cc(),t=e.queue;if(t===null)throw Error(je(311));t.lastRenderedReducer=n;var r=gi,i=r.baseQueue,o=t.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,t.pending=null}if(i!==null){i=i.next,r=r.baseState;var a=s=o=null,l=i;do{var c=l.lane;if((rg&c)===c)a!==null&&(a=a.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===n?l.eagerState:n(r,l.action);else{var m={lane:c,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};a===null?(s=a=m,o=r):a=a.next=m,dr.lanes|=c,ug|=c}l=l.next}while(l!==null&&l!==i);a===null?o=r:a.next=s,Ro(r,e.memoizedState)||(ts=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,t.lastRenderedState=r}return[e.memoizedState,t.dispatch]}function sg(n){var e=Cc(),t=e.queue;if(t===null)throw Error(je(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,o=e.memoizedState;if(i!==null){t.pending=null;var s=i=i.next;do o=n(o,s.action),s=s.next;while(s!==i);Ro(o,e.memoizedState)||(ts=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),t.lastRenderedState=o}return[o,r]}function oL(n,e,t){var r=e._getVersion;r=r(e._source);var i=e._workInProgressVersionPrimary;if(i!==null?n=i===r:(n=n.mutableReadLanes,(n=(rg&n)===n)&&(e._workInProgressVersionPrimary=r,ah.push(e))),n)return t(e._source);throw ah.push(e),Error(je(350))}function sL(n,e,t,r){var i=Di;if(i===null)throw Error(je(349));var o=e._getVersion,s=o(e._source),a=ng.current,l=a.useState(function(){return oL(i,e,t)}),c=l[1],m=l[0];l=ei;var v=n.memoizedState,p=v.refs,g=p.getSnapshot,y=v.source;v=v.subscribe;var S=dr;return n.memoizedState={refs:p,source:e,subscribe:r},a.useEffect(function(){p.getSnapshot=t,p.setSnapshot=c;var M=o(e._source);if(!Ro(s,M)){M=t(e._source),Ro(m,M)||(c(M),M=Gl(S),i.mutableReadLanes|=M&i.pendingLanes),M=i.mutableReadLanes,i.entangledLanes|=M;for(var x=i.entanglements,_=M;0<_;){var T=31-Dl(_),E=1<<T;x[T]|=M,_&=~E}}},[t,e,r]),a.useEffect(function(){return r(e._source,function(){var M=p.getSnapshot,x=p.setSnapshot;try{x(M(e._source));var _=Gl(S);i.mutableReadLanes|=_&i.pendingLanes}catch(T){x(function(){throw T})}})},[e,r]),Ro(g,t)&&Ro(y,e)&&Ro(v,r)||(n={pending:null,dispatch:null,lastRenderedReducer:Ls,lastRenderedState:m},n.dispatch=c=bb.bind(null,dr,n),l.queue=n,l.baseQueue=null,m=oL(i,e,t),l.memoizedState=l.baseState=m),m}function aL(n,e,t){var r=Cc();return sL(r,n,e,t)}function ag(n){var e=Ac();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n=e.queue={pending:null,dispatch:null,lastRenderedReducer:Ls,lastRenderedState:n},n=n.dispatch=bb.bind(null,dr,n),[e.memoizedState,n]}function tx(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=dr.updateQueue,e===null?(e={lastEffect:null},dr.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function lL(n){var e=Ac();return n={current:n},e.memoizedState=n}function nx(){return Cc().memoizedState}function _b(n,e,t,r){var i=Ac();dr.flags|=n,i.memoizedState=tx(1|e,t,void 0,r===void 0?null:r)}function wb(n,e,t,r){var i=Cc();r=r===void 0?null:r;var o=void 0;if(gi!==null){var s=gi.memoizedState;if(o=s.destroy,r!==null&&yb(r,s.deps)){tx(e,t,o,r);return}}dr.flags|=n,i.memoizedState=tx(1|e,t,o,r)}function uL(n,e){return _b(516,4,n,e)}function rx(n,e){return wb(516,4,n,e)}function cL(n,e){return wb(4,2,n,e)}function fL(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function dL(n,e,t){return t=t!=null?t.concat([n]):null,wb(4,2,fL.bind(null,e,n),t)}function Sb(){}function hL(n,e){var t=Cc();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&yb(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function pL(n,e){var t=Cc();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&yb(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function yG(n,e){var t=rh();Ec(98>t?98:t,function(){n(!0)}),Ec(97<t?97:t,function(){var r=Io.transition;Io.transition=1;try{n(!1),e()}finally{Io.transition=r}})}function bb(n,e,t){var r=uo(),i=Gl(n),o={lane:i,action:t,eagerReducer:null,eagerState:null,next:null},s=e.pending;if(s===null?o.next=o:(o.next=s.next,s.next=o),e.pending=o,s=n.alternate,n===dr||s!==null&&s===dr)ig=ex=!0;else{if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,l=s(a,t);if(o.eagerReducer=s,o.eagerState=l,Ro(l,a))return}catch{}finally{}Wl(n,i,r)}}var ix={readContext:Lo,useCallback:Qi,useContext:Qi,useEffect:Qi,useImperativeHandle:Qi,useLayoutEffect:Qi,useMemo:Qi,useReducer:Qi,useRef:Qi,useState:Qi,useDebugValue:Qi,useDeferredValue:Qi,useTransition:Qi,useMutableSource:Qi,useOpaqueIdentifier:Qi,unstable_isNewReconciler:!1},xG={readContext:Lo,useCallback:function(n,e){return Ac().memoizedState=[n,e===void 0?null:e],n},useContext:Lo,useEffect:uL,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,_b(4,2,fL.bind(null,e,n),t)},useLayoutEffect:function(n,e){return _b(4,2,n,e)},useMemo:function(n,e){var t=Ac();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=Ac();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n=r.queue={pending:null,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},n=n.dispatch=bb.bind(null,dr,n),[r.memoizedState,n]},useRef:lL,useState:ag,useDebugValue:Sb,useDeferredValue:function(n){var e=ag(n),t=e[0],r=e[1];return uL(function(){var i=Io.transition;Io.transition=1;try{r(n)}finally{Io.transition=i}},[n]),t},useTransition:function(){var n=ag(!1),e=n[0];return n=yG.bind(null,n[1]),lL(n),[n,e]},useMutableSource:function(n,e,t){var r=Ac();return r.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:n,subscribe:t},sL(r,n,e,t)},useOpaqueIdentifier:function(){if(Rs){var n=!1,e=dG(function(){throw n||(n=!0,t("r:"+(tb++).toString(36))),Error(je(355))}),t=ag(e)[1];return(dr.mode&2)==0&&(dr.flags|=516,tx(5,function(){t("r:"+(tb++).toString(36))},void 0,null)),e}return e="r:"+(tb++).toString(36),ag(e),e},unstable_isNewReconciler:!1},_G={readContext:Lo,useCallback:hL,useContext:Lo,useEffect:rx,useImperativeHandle:dL,useLayoutEffect:cL,useMemo:pL,useReducer:og,useRef:nx,useState:function(){return og(Ls)},useDebugValue:Sb,useDeferredValue:function(n){var e=og(Ls),t=e[0],r=e[1];return rx(function(){var i=Io.transition;Io.transition=1;try{r(n)}finally{Io.transition=i}},[n]),t},useTransition:function(){var n=og(Ls)[0];return[nx().current,n]},useMutableSource:aL,useOpaqueIdentifier:function(){return og(Ls)[0]},unstable_isNewReconciler:!1},wG={readContext:Lo,useCallback:hL,useContext:Lo,useEffect:rx,useImperativeHandle:dL,useLayoutEffect:cL,useMemo:pL,useReducer:sg,useRef:nx,useState:function(){return sg(Ls)},useDebugValue:Sb,useDeferredValue:function(n){var e=sg(Ls),t=e[0],r=e[1];return rx(function(){var i=Io.transition;Io.transition=1;try{r(n)}finally{Io.transition=i}},[n]),t},useTransition:function(){var n=sg(Ls)[0];return[nx().current,n]},useMutableSource:aL,useOpaqueIdentifier:function(){return sg(Ls)[0]},unstable_isNewReconciler:!1},SG=yc.ReactCurrentOwner,ts=!1;function eo(n,e,t,r){e.child=n===null?eL(e,null,t,r):Z0(e,n.child,t,r)}function mL(n,e,t,r,i){t=t.render;var o=e.ref;return oh(e,i),r=xb(n,e,t,r,o,i),n!==null&&!ts?(e.updateQueue=n.updateQueue,e.flags&=-517,n.lanes&=~i,Ca(n,e,i)):(e.flags|=1,eo(n,e,r,i),e.child)}function gL(n,e,t,r,i,o){if(n===null){var s=t.type;return typeof s=="function"&&!qb(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,vL(n,e,s,r,i,o)):(n=px(t.type,null,r,e,e.mode,o),n.ref=e.ref,n.return=e,e.child=n)}return s=n.child,(i&o)==0&&(i=s.memoizedProps,t=t.compare,t=t!==null?t:jm,t(i,r)&&n.ref===e.ref)?Ca(n,e,o):(e.flags|=1,n=Xl(s,r),n.ref=e.ref,n.return=e,e.child=n)}function vL(n,e,t,r,i,o){if(n!==null&&jm(n.memoizedProps,r)&&n.ref===e.ref)if(ts=!1,(o&i)!=0)(n.flags&16384)!=0&&(ts=!0);else return e.lanes=n.lanes,Ca(n,e,o);return Eb(n,e,t,r,o)}function Mb(n,e,t){var r=e.pendingProps,i=r.children,o=n!==null?n.memoizedState:null;if(r.mode==="hidden"||r.mode==="unstable-defer-without-hiding")if((e.mode&4)==0)e.memoizedState={baseLanes:0},hx(e,t);else if((t&1073741824)!=0)e.memoizedState={baseLanes:0},hx(e,o!==null?o.baseLanes:t);else return n=o!==null?o.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n},hx(e,n),null;else o!==null?(r=o.baseLanes|t,e.memoizedState=null):r=t,hx(e,r);return eo(n,e,i,t),e.child}function yL(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=128)}function Eb(n,e,t,r,i){var o=Ji(t)?bc:pi.current;return o=nh(e,o),oh(e,i),t=xb(n,e,t,r,o,i),n!==null&&!ts?(e.updateQueue=n.updateQueue,e.flags&=-517,n.lanes&=~i,Ca(n,e,i)):(e.flags|=1,eo(n,e,t,i),e.child)}function xL(n,e,t,r,i){if(Ji(t)){var o=!0;V0(e)}else o=!1;if(oh(e,i),e.stateNode===null)n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2),Z2(e,t,r),db(e,t,r,i),r=!0;else if(n===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=t.contextType;typeof c=="object"&&c!==null?c=Lo(c):(c=Ji(t)?bc:pi.current,c=nh(e,c));var m=t.getDerivedStateFromProps,v=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function";v||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&J2(e,s,r,c),Bl=!1;var p=e.memoizedState;s.state=p,Zm(e,r,s,i),l=e.memoizedState,a!==r||p!==l||Zi.current||Bl?(typeof m=="function"&&(X0(e,t,m,r),l=e.memoizedState),(a=Bl||$2(e,t,a,r,p,l,c))?(v||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4)):(typeof s.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4),r=!1)}else{s=e.stateNode,q2(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:es(e.type,a),s.props=c,v=e.pendingProps,p=s.context,l=t.contextType,typeof l=="object"&&l!==null?l=Lo(l):(l=Ji(t)?bc:pi.current,l=nh(e,l));var g=t.getDerivedStateFromProps;(m=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==v||p!==l)&&J2(e,s,r,l),Bl=!1,p=e.memoizedState,s.state=p,Zm(e,r,s,i);var y=e.memoizedState;a!==v||p!==y||Zi.current||Bl?(typeof g=="function"&&(X0(e,t,g,r),y=e.memoizedState),(c=Bl||$2(e,t,c,r,p,y,l))?(m||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,y,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,y,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof s.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=256),e.memoizedProps=r,e.memoizedState=y),s.props=r,s.state=y,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=256),r=!1)}return Tb(n,e,t,r,o,i)}function Tb(n,e,t,r,i,o){yL(n,e);var s=(e.flags&64)!=0;if(!r&&!s)return i&&k2(e,t,!1),Ca(n,e,o);r=e.stateNode,SG.current=e;var a=s&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&s?(e.child=Z0(e,n.child,null,o),e.child=Z0(e,null,a,o)):eo(n,e,a,o),e.memoizedState=r.state,i&&k2(e,t,!0),e.child}function _L(n){var e=n.stateNode;e.pendingContext?O2(n,e.pendingContext,e.pendingContext!==e.context):e.context&&O2(n,e.context,!1),hb(n,e.containerInfo)}var ox={dehydrated:null,retryLane:0};function wL(n,e,t){var r=e.pendingProps,i=tr.current,o=!1,s;return(s=(e.flags&64)!=0)||(s=n!==null&&n.memoizedState===null?!1:(i&2)!=0),s?(o=!0,e.flags&=-65):n!==null&&n.memoizedState===null||r.fallback===void 0||r.unstable_avoidThisFallback===!0||(i|=1),er(tr,i&1),n===null?(r.fallback!==void 0&&mb(e),n=r.children,i=r.fallback,o?(n=SL(e,n,i,t),e.child.memoizedState={baseLanes:t},e.memoizedState=ox,n):typeof r.unstable_expectedLoadTime=="number"?(n=SL(e,n,i,t),e.child.memoizedState={baseLanes:t},e.memoizedState=ox,e.lanes=33554432,n):(t=Xb({mode:"visible",children:n},e.mode,t,null),t.return=e,e.child=t)):n.memoizedState!==null?o?(r=ML(n,e,r.children,r.fallback,t),o=e.child,i=n.child.memoizedState,o.memoizedState=i===null?{baseLanes:t}:{baseLanes:i.baseLanes|t},o.childLanes=n.childLanes&~t,e.memoizedState=ox,r):(t=bL(n,e,r.children,t),e.memoizedState=null,t):o?(r=ML(n,e,r.children,r.fallback,t),o=e.child,i=n.child.memoizedState,o.memoizedState=i===null?{baseLanes:t}:{baseLanes:i.baseLanes|t},o.childLanes=n.childLanes&~t,e.memoizedState=ox,r):(t=bL(n,e,r.children,t),e.memoizedState=null,t)}function SL(n,e,t,r){var i=n.mode,o=n.child;return e={mode:"hidden",children:e},(i&2)==0&&o!==null?(o.childLanes=0,o.pendingProps=e):o=Xb(e,i,0,null),t=hh(t,i,r,null),o.return=n,t.return=n,o.sibling=t,n.child=o,t}function bL(n,e,t,r){var i=n.child;return n=i.sibling,t=Xl(i,{mode:"visible",children:t}),(e.mode&2)==0&&(t.lanes=r),t.return=e,t.sibling=null,n!==null&&(n.nextEffect=null,n.flags=8,e.firstEffect=e.lastEffect=n),e.child=t}function ML(n,e,t,r,i){var o=e.mode,s=n.child;n=s.sibling;var a={mode:"hidden",children:t};return(o&2)==0&&e.child!==s?(t=e.child,t.childLanes=0,t.pendingProps=a,s=t.lastEffect,s!==null?(e.firstEffect=t.firstEffect,e.lastEffect=s,s.nextEffect=null):e.firstEffect=e.lastEffect=null):t=Xl(s,a),n!==null?r=Xl(n,r):(r=hh(r,o,i,null),r.flags|=2),r.return=e,t.return=e,t.sibling=r,e.child=t,r}function EL(n,e){n.lanes|=e;var t=n.alternate;t!==null&&(t.lanes|=e),j2(n.return,e)}function Ab(n,e,t,r,i,o){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i,lastEffect:o}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i,s.lastEffect=o)}function TL(n,e,t){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(eo(n,e,r.children,t),r=tr.current,(r&2)!=0)r=r&1|2,e.flags|=64;else{if(n!==null&&(n.flags&64)!=0)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&EL(n,t);else if(n.tag===19)EL(n,t);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(er(tr,r),(e.mode&2)==0)e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&J0(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),Ab(e,!1,i,t,o,e.lastEffect);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&J0(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}Ab(e,!0,t,null,o,e.lastEffect);break;case"together":Ab(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function Ca(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),ug|=e.lanes,(t&e.childLanes)!=0){if(n!==null&&e.child!==n.child)throw Error(je(153));if(e.child!==null){for(n=e.child,t=Xl(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Xl(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}return null}var AL,Cb,CL,PL;AL=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};Cb=function(){};CL=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,Tc(Ps.current);var o=null;switch(t){case"input":i=dS(n,i),r=dS(n,r),o=[];break;case"option":i=mS(n,i),r=mS(n,r),o=[];break;case"select":i=Un({},i,{value:void 0}),r=Un({},r,{value:void 0}),o=[];break;case"textarea":i=gS(n,i),r=gS(n,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=k0)}xS(t,r);var s;t=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(t||(t={}),t[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(bm.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(t||(t={}),t[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(t||(t={}),t[s]=l[s])}else t||(o||(o=[]),o.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(bm.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Dn("scroll",n),o||a===l||(o=[])):typeof l=="object"&&l!==null&&l.$$typeof===aS?l.toString():(o=o||[]).push(c,l))}t&&(o=o||[]).push("style",t);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};PL=function(n,e,t,r){t!==r&&(e.flags|=4)};function lg(n,e){if(!Rs)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function bG(n,e,t){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Ji(e.type)&&U0(),null;case 3:return sh(),On(Zi),On(pi),vb(),r=e.stateNode,r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(Q0(e)?e.flags|=4:r.hydrate||(e.flags|=256)),Cb(e),null;case 5:pb(e);var i=Tc(tg.current);if(t=e.type,n!==null&&e.stateNode!=null)CL(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=128);else{if(!r){if(e.stateNode===null)throw Error(je(166));return null}if(n=Tc(Ps.current),Q0(e)){r=e.stateNode,t=e.type;var o=e.memoizedProps;switch(r[Fl]=e,r[B0]=o,t){case"dialog":Dn("cancel",r),Dn("close",r);break;case"iframe":case"object":case"embed":Dn("load",r);break;case"video":case"audio":for(n=0;n<Xm.length;n++)Dn(Xm[n],r);break;case"source":Dn("error",r);break;case"img":case"image":case"link":Dn("error",r),Dn("load",r);break;case"details":Dn("toggle",r);break;case"input":xR(r,o),Dn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Dn("invalid",r);break;case"textarea":SR(r,o),Dn("invalid",r)}xS(t,o),n=null;for(var s in o)o.hasOwnProperty(s)&&(i=o[s],s==="children"?typeof i=="string"?r.textContent!==i&&(n=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(n=["children",""+i]):bm.hasOwnProperty(s)&&i!=null&&s==="onScroll"&&Dn("scroll",r));switch(t){case"input":x0(r),wR(r,o,!0);break;case"textarea":x0(r),MR(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=k0)}r=n,e.updateQueue=r,r!==null&&(e.flags|=4)}else{switch(s=i.nodeType===9?i:i.ownerDocument,n===vS.html&&(n=ER(t)),n===vS.html?t==="script"?(n=s.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=s.createElement(t,{is:r.is}):(n=s.createElement(t),t==="select"&&(s=n,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):n=s.createElementNS(n,t),n[Fl]=e,n[B0]=r,AL(n,e,!1,!1),e.stateNode=n,s=_S(t,r),t){case"dialog":Dn("cancel",n),Dn("close",n),i=r;break;case"iframe":case"object":case"embed":Dn("load",n),i=r;break;case"video":case"audio":for(i=0;i<Xm.length;i++)Dn(Xm[i],n);i=r;break;case"source":Dn("error",n),i=r;break;case"img":case"image":case"link":Dn("error",n),Dn("load",n),i=r;break;case"details":Dn("toggle",n),i=r;break;case"input":xR(n,r),i=dS(n,r),Dn("invalid",n);break;case"option":i=mS(n,r);break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=Un({},r,{value:void 0}),Dn("invalid",n);break;case"textarea":SR(n,r),i=gS(n,r),Dn("invalid",n);break;default:i=r}xS(t,i);var a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?CR(n,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&TR(n,l)):o==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Pm(n,l):typeof l=="number"&&Pm(n,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(bm.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Dn("scroll",n):l!=null&&tS(n,o,l,s))}switch(t){case"input":x0(n),wR(n,r,!1);break;case"textarea":x0(n),MR(n);break;case"option":r.value!=null&&n.setAttribute("value",""+Pl(r.value));break;case"select":n.multiple=!!r.multiple,o=r.value,o!=null?Hd(n,!!r.multiple,o,!1):r.defaultValue!=null&&Hd(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=k0)}P2(t,r)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(n&&e.stateNode!=null)PL(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(je(166));t=Tc(tg.current),Tc(Ps.current),Q0(e)?(r=e.stateNode,t=e.memoizedProps,r[Fl]=e,r.nodeValue!==t&&(e.flags|=4)):(r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[Fl]=e,e.stateNode=r)}return null;case 13:return On(tr),r=e.memoizedState,(e.flags&64)!=0?(e.lanes=t,e):(r=r!==null,t=!1,n===null?e.memoizedProps.fallback!==void 0&&Q0(e):t=n.memoizedState!==null,r&&!t&&(e.mode&2)!=0&&(n===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||(tr.current&1)!=0?ti===0&&(ti=3):((ti===0||ti===3)&&(ti=4),Di===null||(ug&134217727)==0&&(uh&134217727)==0||fh(Di,vi))),(r||t)&&(e.flags|=4),null);case 4:return sh(),Cb(e),n===null&&M2(e.stateNode.containerInfo),null;case 10:return cb(e),null;case 17:return Ji(e.type)&&U0(),null;case 19:if(On(tr),r=e.memoizedState,r===null)return null;if(o=(e.flags&64)!=0,s=r.rendering,s===null)if(o)lg(r,!1);else{if(ti!==0||n!==null&&(n.flags&64)!=0)for(n=e.child;n!==null;){if(s=J0(n),s!==null){for(e.flags|=64,lg(r,!1),o=s.updateQueue,o!==null&&(e.updateQueue=o,e.flags|=4),r.lastEffect===null&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=t,t=e.child;t!==null;)o=t,n=r,o.flags&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,s=o.alternate,s===null?(o.childLanes=0,o.lanes=n,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,n=s.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return er(tr,tr.current&1|2),e.child}n=n.sibling}r.tail!==null&&mi()>zb&&(e.flags|=64,o=!0,lg(r,!1),e.lanes=33554432)}else{if(!o)if(n=J0(s),n!==null){if(e.flags|=64,o=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),lg(r,!0),r.tail===null&&r.tailMode==="hidden"&&!s.alternate&&!Rs)return e=e.lastEffect=r.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*mi()-r.renderingStartTime>zb&&t!==1073741824&&(e.flags|=64,o=!0,lg(r,!1),e.lanes=33554432);r.isBackwards?(s.sibling=e.child,e.child=s):(t=r.last,t!==null?t.sibling=s:e.child=s,r.last=s)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=mi(),t.sibling=null,e=tr.current,er(tr,o?e&1|2:e&1),t):null;case 23:case 24:return jb(),n!==null&&n.memoizedState!==null!=(e.memoizedState!==null)&&r.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error(je(156,e.tag))}function MG(n){switch(n.tag){case 1:Ji(n.type)&&U0();var e=n.flags;return e&4096?(n.flags=e&-4097|64,n):null;case 3:if(sh(),On(Zi),On(pi),vb(),e=n.flags,(e&64)!=0)throw Error(je(285));return n.flags=e&-4097|64,n;case 5:return pb(n),null;case 13:return On(tr),e=n.flags,e&4096?(n.flags=e&-4097|64,n):null;case 19:return On(tr),null;case 4:return sh(),null;case 10:return cb(n),null;case 23:case 24:return jb(),null;default:return null}}function Pb(n,e){try{var t="",r=e;do t+=i6(r),r=r.return;while(r);var i=t}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:n,source:e,stack:i}}function Rb(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var EG=typeof WeakMap=="function"?WeakMap:Map;function RL(n,e,t){t=zl(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){lx||(lx=!0,Ub=r),Rb(n,e)},t}function LL(n,e,t){t=zl(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return Rb(n,e),r(i)}}var o=n.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(t.callback=function(){typeof r!="function"&&(Is===null?Is=new Set([this]):Is.add(this),Rb(n,e));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),t}var TG=typeof WeakSet=="function"?WeakSet:Set;function IL(n){var e=n.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(t){ql(n,t)}else e.current=null}function AG(n,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&n!==null){var t=n.memoizedProps,r=n.memoizedState;n=e.stateNode,e=n.getSnapshotBeforeUpdate(e.elementType===e.type?t:es(e.type,t),r),n.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&eb(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(je(163))}function CG(n,e,t){switch(t.tag){case 0:case 11:case 15:case 22:if(e=t.updateQueue,e=e!==null?e.lastEffect:null,e!==null){n=e=e.next;do{if((n.tag&3)==3){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}if(e=t.updateQueue,e=e!==null?e.lastEffect:null,e!==null){n=e=e.next;do{var i=n;r=i.next,i=i.tag,(i&4)!=0&&(i&1)!=0&&(XL(t,n),kG(t,n)),n=r}while(n!==e)}return;case 1:n=t.stateNode,t.flags&4&&(e===null?n.componentDidMount():(r=t.elementType===t.type?e.memoizedProps:es(t.type,e.memoizedProps),n.componentDidUpdate(r,e.memoizedState,n.__reactInternalSnapshotBeforeUpdate))),e=t.updateQueue,e!==null&&K2(t,e,n);return;case 3:if(e=t.updateQueue,e!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}K2(t,e,n)}return;case 5:n=t.stateNode,e===null&&t.flags&4&&P2(t.type,t.memoizedProps)&&n.focus();return;case 6:return;case 4:return;case 12:return;case 13:t.memoizedState===null&&(t=t.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&WR(t))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(je(163))}function DL(n,e){for(var t=n;;){if(t.tag===5){var r=t.stateNode;if(e)r=r.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{r=t.stateNode;var i=t.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,r.style.display=AR("display",i)}}else if(t.tag===6)t.stateNode.nodeValue=e?"":t.memoizedProps;else if((t.tag!==23&&t.tag!==24||t.memoizedState===null||t===n)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return;t=t.return}t.sibling.return=t.return,t=t.sibling}}function OL(n,e){if(Mc&&typeof Mc.onCommitFiberUnmount=="function")try{Mc.onCommitFiberUnmount(rb,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(n=e.updateQueue,n!==null&&(n=n.lastEffect,n!==null)){var t=n=n.next;do{var r=t,i=r.destroy;if(r=r.tag,i!==void 0)if((r&4)!=0)XL(e,t);else{r=e;try{i()}catch(o){ql(r,o)}}t=t.next}while(t!==n)}break;case 1:if(IL(e),n=e.stateNode,typeof n.componentWillUnmount=="function")try{n.props=e.memoizedProps,n.state=e.memoizedState,n.componentWillUnmount()}catch(o){ql(e,o)}break;case 5:IL(e);break;case 4:BL(n,e)}}function FL(n){n.alternate=null,n.child=null,n.dependencies=null,n.firstEffect=null,n.lastEffect=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.return=null,n.updateQueue=null}function kL(n){return n.tag===5||n.tag===3||n.tag===4}function NL(n){e:{for(var e=n.return;e!==null;){if(kL(e))break e;e=e.return}throw Error(je(160))}var t=e;switch(e=t.stateNode,t.tag){case 5:var r=!1;break;case 3:e=e.containerInfo,r=!0;break;case 4:e=e.containerInfo,r=!0;break;default:throw Error(je(161))}t.flags&16&&(Pm(e,""),t.flags&=-17);e:t:for(t=n;;){for(;t.sibling===null;){if(t.return===null||kL(t.return)){t=null;break e}t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2)){t=t.stateNode;break e}}r?Lb(n,t,e):Ib(n,t,e)}function Lb(n,e,t){var r=n.tag,i=r===5||r===6;if(i)n=i?n.stateNode:n.stateNode.instance,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=k0));else if(r!==4&&(n=n.child,n!==null))for(Lb(n,e,t),n=n.sibling;n!==null;)Lb(n,e,t),n=n.sibling}function Ib(n,e,t){var r=n.tag,i=r===5||r===6;if(i)n=i?n.stateNode:n.stateNode.instance,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(Ib(n,e,t),n=n.sibling;n!==null;)Ib(n,e,t),n=n.sibling}function BL(n,e){for(var t=e,r=!1,i,o;;){if(!r){r=t.return;e:for(;;){if(r===null)throw Error(je(160));switch(i=r.stateNode,r.tag){case 5:o=!1;break e;case 3:i=i.containerInfo,o=!0;break e;case 4:i=i.containerInfo,o=!0;break e}r=r.return}r=!0}if(t.tag===5||t.tag===6){e:for(var s=n,a=t,l=a;;)if(OL(s,l),l.child!==null&&l.tag!==4)l.child.return=l,l=l.child;else{if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}o?(s=i,a=t.stateNode,s.nodeType===8?s.parentNode.removeChild(a):s.removeChild(a)):i.removeChild(t.stateNode)}else if(t.tag===4){if(t.child!==null){i=t.stateNode.containerInfo,o=!0,t.child.return=t,t=t.child;continue}}else if(OL(n,t),t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return,t.tag===4&&(r=!1)}t.sibling.return=t.return,t=t.sibling}}function Db(n,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var t=e.updateQueue;if(t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do(r.tag&3)==3&&(n=r.destroy,r.destroy=void 0,n!==void 0&&n()),r=r.next;while(r!==t)}return;case 1:return;case 5:if(t=e.stateNode,t!=null){r=e.memoizedProps;var i=n!==null?n.memoizedProps:r;n=e.type;var o=e.updateQueue;if(e.updateQueue=null,o!==null){for(t[B0]=r,n==="input"&&r.type==="radio"&&r.name!=null&&_R(t,r),_S(n,i),e=_S(n,r),i=0;i<o.length;i+=2){var s=o[i],a=o[i+1];s==="style"?CR(t,a):s==="dangerouslySetInnerHTML"?TR(t,a):s==="children"?Pm(t,a):tS(t,s,a,e)}switch(n){case"input":hS(t,r);break;case"textarea":bR(t,r);break;case"select":n=t._wrapperState.wasMultiple,t._wrapperState.wasMultiple=!!r.multiple,o=r.value,o!=null?Hd(t,!!r.multiple,o,!1):n!==!!r.multiple&&(r.defaultValue!=null?Hd(t,!!r.multiple,r.defaultValue,!0):Hd(t,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(je(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:t=e.stateNode,t.hydrate&&(t.hydrate=!1,WR(t.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&(Bb=mi(),DL(e.child,!0)),zL(e);return;case 19:zL(e);return;case 17:return;case 23:case 24:DL(e,e.memoizedState!==null);return}throw Error(je(163))}function zL(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new TG),e.forEach(function(r){var i=zG.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function PG(n,e){return n!==null&&(n=n.memoizedState,n===null||n.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var RG=Math.ceil,sx=yc.ReactCurrentDispatcher,Ob=yc.ReactCurrentOwner,Dt=0,Di=null,Cr=null,vi=0,Pc=0,Fb=kl(0),ti=0,ax=null,lh=0,ug=0,uh=0,kb=0,Nb=null,Bb=0,zb=1/0;function ch(){zb=mi()+500}var ft=null,lx=!1,Ub=null,Is=null,Hl=!1,cg=null,fg=90,Vb=[],Hb=[],Pa=null,dg=0,Gb=null,ux=-1,Ra=0,cx=0,hg=null,fx=!1;function uo(){return(Dt&48)!=0?mi():ux!==-1?ux:ux=mi()}function Gl(n){if(n=n.mode,(n&2)==0)return 1;if((n&4)==0)return rh()===99?1:2;if(Ra===0&&(Ra=lh),vG.transition!==0){cx!==0&&(cx=Nb!==null?Nb.pendingLanes:0),n=Ra;var e=4186112&~cx;return e&=-e,e===0&&(n=4186112&~n,e=n&-n,e===0&&(e=8192)),e}return n=rh(),(Dt&4)!=0&&n===98?n=A0(12,Ra):(n=_6(n),n=A0(n,Ra)),n}function Wl(n,e,t){if(50<dg)throw dg=0,Gb=null,Error(je(185));if(n=dx(n,e),n===null)return null;C0(n,e,t),n===Di&&(uh|=e,ti===4&&fh(n,vi));var r=rh();e===1?(Dt&8)!=0&&(Dt&48)==0?Wb(n):(Do(n,t),Dt===0&&(ch(),Cs())):((Dt&4)==0||r!==98&&r!==99||(Pa===null?Pa=new Set([n]):Pa.add(n)),Do(n,t)),Nb=n}function dx(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}function Do(n,e){for(var t=n.callbackNode,r=n.suspendedLanes,i=n.pingedLanes,o=n.expirationTimes,s=n.pendingLanes;0<s;){var a=31-Dl(s),l=1<<a,c=o[a];if(c===-1){if((l&r)==0||(l&i)!=0){c=e,qd(l);var m=Pn;o[a]=10<=m?c+250:6<=m?c+5e3:-1}}else c<=e&&(n.expiredLanes|=l);s&=~l}if(r=zm(n,n===Di?vi:0),e=Pn,r===0)t!==null&&(t!==ab&&ob(t),n.callbackNode=null,n.callbackPriority=0);else{if(t!==null){if(n.callbackPriority===e)return;t!==ab&&ob(t)}e===15?(t=Wb.bind(null,n),Ta===null?(Ta=[t],G0=ib(H0,W2)):Ta.push(t),t=ab):e===14?t=$m(99,Wb.bind(null,n)):(t=w6(e),t=$m(t,UL.bind(null,n))),n.callbackPriority=e,n.callbackNode=t}}function UL(n){if(ux=-1,cx=Ra=0,(Dt&48)!=0)throw Error(je(327));var e=n.callbackNode;if(jl()&&n.callbackNode!==e)return null;var t=zm(n,n===Di?vi:0);if(t===0)return null;var r=t,i=Dt;Dt|=16;var o=WL();(Di!==n||vi!==r)&&(ch(),dh(n,r));do try{DG();break}catch(a){GL(n,a)}while(1);if(ub(),sx.current=o,Dt=i,Cr!==null?r=0:(Di=null,vi=0,r=ti),(lh&uh)!=0)dh(n,0);else if(r!==0){if(r===2&&(Dt|=64,n.hydrate&&(n.hydrate=!1,eb(n.containerInfo)),t=ZR(n),t!==0&&(r=pg(n,t))),r===1)throw e=ax,dh(n,0),fh(n,t),Do(n,mi()),e;switch(n.finishedWork=n.current.alternate,n.finishedLanes=t,r){case 0:case 1:throw Error(je(345));case 2:Rc(n);break;case 3:if(fh(n,t),(t&62914560)===t&&(r=Bb+500-mi(),10<r)){if(zm(n,0)!==0)break;if(i=n.suspendedLanes,(i&t)!==t){uo(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=R2(Rc.bind(null,n),r);break}Rc(n);break;case 4:if(fh(n,t),(t&4186112)===t)break;for(r=n.eventTimes,i=-1;0<t;){var s=31-Dl(t);o=1<<s,s=r[s],s>i&&(i=s),t&=~o}if(t=i,t=mi()-t,t=(120>t?120:480>t?480:1080>t?1080:1920>t?1920:3e3>t?3e3:4320>t?4320:1960*RG(t/1960))-t,10<t){n.timeoutHandle=R2(Rc.bind(null,n),t);break}Rc(n);break;case 5:Rc(n);break;default:throw Error(je(329))}}return Do(n,mi()),n.callbackNode===e?UL.bind(null,n):null}function fh(n,e){for(e&=~kb,e&=~uh,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Dl(e),r=1<<t;n[t]=-1,e&=~r}}function Wb(n){if((Dt&48)!=0)throw Error(je(327));if(jl(),n===Di&&(n.expiredLanes&vi)!=0){var e=vi,t=pg(n,e);(lh&uh)!=0&&(e=zm(n,e),t=pg(n,e))}else e=zm(n,0),t=pg(n,e);if(n.tag!==0&&t===2&&(Dt|=64,n.hydrate&&(n.hydrate=!1,eb(n.containerInfo)),e=ZR(n),e!==0&&(t=pg(n,e))),t===1)throw t=ax,dh(n,0),fh(n,e),Do(n,mi()),t;return n.finishedWork=n.current.alternate,n.finishedLanes=e,Rc(n),Do(n,mi()),null}function LG(){if(Pa!==null){var n=Pa;Pa=null,n.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,Do(e,mi())})}Cs()}function VL(n,e){var t=Dt;Dt|=1;try{return n(e)}finally{Dt=t,Dt===0&&(ch(),Cs())}}function HL(n,e){var t=Dt;Dt&=-2,Dt|=8;try{return n(e)}finally{Dt=t,Dt===0&&(ch(),Cs())}}function hx(n,e){er(Fb,Pc),Pc|=e,lh|=e}function jb(){Pc=Fb.current,On(Fb)}function dh(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,fG(t)),Cr!==null)for(t=Cr.return;t!==null;){var r=t;switch(r.tag){case 1:r=r.type.childContextTypes,r!=null&&U0();break;case 3:sh(),On(Zi),On(pi),vb();break;case 5:pb(r);break;case 4:sh();break;case 13:On(tr);break;case 19:On(tr);break;case 10:cb(r);break;case 23:case 24:jb()}t=t.return}Di=n,Cr=Xl(n.current,null),vi=Pc=lh=e,ti=0,ax=null,kb=uh=ug=0}function GL(n,e){do{var t=Cr;try{if(ub(),ng.current=ix,ex){for(var r=dr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ex=!1}if(rg=0,ei=gi=dr=null,ig=!1,Ob.current=null,t===null||t.return===null){ti=1,ax=e,Cr=null;break}e:{var o=n,s=t.return,a=t,l=e;if(e=vi,a.flags|=2048,a.firstEffect=a.lastEffect=null,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l;if((a.mode&2)==0){var m=a.alternate;m?(a.updateQueue=m.updateQueue,a.memoizedState=m.memoizedState,a.lanes=m.lanes):(a.updateQueue=null,a.memoizedState=null)}var v=(tr.current&1)!=0,p=s;do{var g;if(g=p.tag===13){var y=p.memoizedState;if(y!==null)g=y.dehydrated!==null;else{var S=p.memoizedProps;g=S.fallback===void 0?!1:S.unstable_avoidThisFallback!==!0?!0:!v}}if(g){var M=p.updateQueue;if(M===null){var x=new Set;x.add(c),p.updateQueue=x}else M.add(c);if((p.mode&2)==0){if(p.flags|=64,a.flags|=16384,a.flags&=-2981,a.tag===1)if(a.alternate===null)a.tag=17;else{var _=zl(-1,1);_.tag=2,Ul(a,_)}a.lanes|=1;break e}l=void 0,a=e;var T=o.pingCache;if(T===null?(T=o.pingCache=new EG,l=new Set,T.set(c,l)):(l=T.get(c),l===void 0&&(l=new Set,T.set(c,l))),!l.has(a)){l.add(a);var E=BG.bind(null,o,c,a);c.then(E,E)}p.flags|=4096,p.lanes=e;break e}p=p.return}while(p!==null);l=Error((Vd(a.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}ti!==5&&(ti=2),l=Pb(l,a),p=s;do{switch(p.tag){case 3:o=l,p.flags|=4096,e&=-e,p.lanes|=e;var C=RL(p,o,e);X2(p,C);break e;case 1:o=l;var I=p.type,R=p.stateNode;if((p.flags&64)==0&&(typeof I.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(Is===null||!Is.has(R)))){p.flags|=4096,e&=-e,p.lanes|=e;var D=LL(p,o,e);X2(p,D);break e}}p=p.return}while(p!==null)}qL(t)}catch(k){e=k,Cr===t&&t!==null&&(Cr=t=t.return);continue}break}while(1)}function WL(){var n=sx.current;return sx.current=ix,n===null?ix:n}function pg(n,e){var t=Dt;Dt|=16;var r=WL();Di===n&&vi===e||dh(n,e);do try{IG();break}catch(i){GL(n,i)}while(1);if(ub(),Dt=t,sx.current=r,Cr!==null)throw Error(je(261));return Di=null,vi=0,ti}function IG(){for(;Cr!==null;)jL(Cr)}function DG(){for(;Cr!==null&&!pG();)jL(Cr)}function jL(n){var e=YL(n.alternate,n,Pc);n.memoizedProps=n.pendingProps,e===null?qL(n):Cr=e,Ob.current=null}function qL(n){var e=n;do{var t=e.alternate;if(n=e.return,(e.flags&2048)==0){if(t=bG(t,e,Pc),t!==null){Cr=t;return}if(t=e,t.tag!==24&&t.tag!==23||t.memoizedState===null||(Pc&1073741824)!=0||(t.mode&4)==0){for(var r=0,i=t.child;i!==null;)r|=i.lanes|i.childLanes,i=i.sibling;t.childLanes=r}n!==null&&(n.flags&2048)==0&&(n.firstEffect===null&&(n.firstEffect=e.firstEffect),e.lastEffect!==null&&(n.lastEffect!==null&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),1<e.flags&&(n.lastEffect!==null?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e))}else{if(t=MG(e),t!==null){t.flags&=2047,Cr=t;return}n!==null&&(n.firstEffect=n.lastEffect=null,n.flags|=2048)}if(e=e.sibling,e!==null){Cr=e;return}Cr=e=n}while(e!==null);ti===0&&(ti=5)}function Rc(n){var e=rh();return Ec(99,OG.bind(null,n,e)),null}function OG(n,e){do jl();while(cg!==null);if((Dt&48)!=0)throw Error(je(327));var t=n.finishedWork;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(je(177));n.callbackNode=null;var r=t.lanes|t.childLanes,i=r,o=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;for(var s=n.eventTimes,a=n.expirationTimes;0<o;){var l=31-Dl(o),c=1<<l;i[l]=0,s[l]=-1,a[l]=-1,o&=~c}if(Pa!==null&&(r&24)==0&&Pa.has(n)&&Pa.delete(n),n===Di&&(Cr=Di=null,vi=0),1<t.flags?t.lastEffect!==null?(t.lastEffect.nextEffect=t,r=t.firstEffect):r=t:r=t.firstEffect,r!==null){if(i=Dt,Dt|=32,Ob.current=null,ZS=P0,s=v2(),XS(s)){if("selectionStart"in s)a={start:s.selectionStart,end:s.selectionEnd};else e:if(a=(a=s.ownerDocument)&&a.defaultView||window,(c=a.getSelection&&a.getSelection())&&c.rangeCount!==0){a=c.anchorNode,o=c.anchorOffset,l=c.focusNode,c=c.focusOffset;try{a.nodeType,l.nodeType}catch{a=null;break e}var m=0,v=-1,p=-1,g=0,y=0,S=s,M=null;t:for(;;){for(var x;S!==a||o!==0&&S.nodeType!==3||(v=m+o),S!==l||c!==0&&S.nodeType!==3||(p=m+c),S.nodeType===3&&(m+=S.nodeValue.length),(x=S.firstChild)!==null;)M=S,S=x;for(;;){if(S===s)break t;if(M===a&&++g===o&&(v=m),M===l&&++y===c&&(p=m),(x=S.nextSibling)!==null)break;S=M,M=S.parentNode}S=x}a=v===-1||p===-1?null:{start:v,end:p}}else a=null;a=a||{start:0,end:0}}else a=null;JS={focusedElem:s,selectionRange:a},P0=!1,hg=null,fx=!1,ft=r;do try{FG()}catch(k){if(ft===null)throw Error(je(330));ql(ft,k),ft=ft.nextEffect}while(ft!==null);hg=null,ft=r;do try{for(s=n;ft!==null;){var _=ft.flags;if(_&16&&Pm(ft.stateNode,""),_&128){var T=ft.alternate;if(T!==null){var E=T.ref;E!==null&&(typeof E=="function"?E(null):E.current=null)}}switch(_&1038){case 2:NL(ft),ft.flags&=-3;break;case 6:NL(ft),ft.flags&=-3,Db(ft.alternate,ft);break;case 1024:ft.flags&=-1025;break;case 1028:ft.flags&=-1025,Db(ft.alternate,ft);break;case 4:Db(ft.alternate,ft);break;case 8:a=ft,BL(s,a);var C=a.alternate;FL(a),C!==null&&FL(C)}ft=ft.nextEffect}}catch(k){if(ft===null)throw Error(je(330));ql(ft,k),ft=ft.nextEffect}while(ft!==null);if(E=JS,T=v2(),_=E.focusedElem,s=E.selectionRange,T!==_&&_&&_.ownerDocument&&g2(_.ownerDocument.documentElement,_)){for(s!==null&&XS(_)&&(T=s.start,E=s.end,E===void 0&&(E=T),"selectionStart"in _?(_.selectionStart=T,_.selectionEnd=Math.min(E,_.value.length)):(E=(T=_.ownerDocument||document)&&T.defaultView||window,E.getSelection&&(E=E.getSelection(),a=_.textContent.length,C=Math.min(s.start,a),s=s.end===void 0?C:Math.min(s.end,a),!E.extend&&C>s&&(a=s,s=C,C=a),a=m2(_,C),o=m2(_,s),a&&o&&(E.rangeCount!==1||E.anchorNode!==a.node||E.anchorOffset!==a.offset||E.focusNode!==o.node||E.focusOffset!==o.offset)&&(T=T.createRange(),T.setStart(a.node,a.offset),E.removeAllRanges(),C>s?(E.addRange(T),E.extend(o.node,o.offset)):(T.setEnd(o.node,o.offset),E.addRange(T)))))),T=[],E=_;E=E.parentNode;)E.nodeType===1&&T.push({element:E,left:E.scrollLeft,top:E.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<T.length;_++)E=T[_],E.element.scrollLeft=E.left,E.element.scrollTop=E.top}P0=!!ZS,JS=ZS=null,n.current=t,ft=r;do try{for(_=n;ft!==null;){var I=ft.flags;if(I&36&&CG(_,ft.alternate,ft),I&128){T=void 0;var R=ft.ref;if(R!==null){var D=ft.stateNode;switch(ft.tag){case 5:T=D;break;default:T=D}typeof R=="function"?R(T):R.current=T}}ft=ft.nextEffect}}catch(k){if(ft===null)throw Error(je(330));ql(ft,k),ft=ft.nextEffect}while(ft!==null);ft=null,gG(),Dt=i}else n.current=t;if(Hl)Hl=!1,cg=n,fg=e;else for(ft=r;ft!==null;)e=ft.nextEffect,ft.nextEffect=null,ft.flags&8&&(I=ft,I.sibling=null,I.stateNode=null),ft=e;if(r=n.pendingLanes,r===0&&(Is=null),r===1?n===Gb?dg++:(dg=0,Gb=n):dg=0,t=t.stateNode,Mc&&typeof Mc.onCommitFiberRoot=="function")try{Mc.onCommitFiberRoot(rb,t,void 0,(t.current.flags&64)==64)}catch{}if(Do(n,mi()),lx)throw lx=!1,n=Ub,Ub=null,n;return(Dt&8)!=0||Cs(),null}function FG(){for(;ft!==null;){var n=ft.alternate;fx||hg===null||((ft.flags&8)!=0?NR(ft,hg)&&(fx=!0):ft.tag===13&&PG(n,ft)&&NR(ft,hg)&&(fx=!0));var e=ft.flags;(e&256)!=0&&AG(n,ft),(e&512)==0||Hl||(Hl=!0,$m(97,function(){return jl(),null})),ft=ft.nextEffect}}function jl(){if(fg!==90){var n=97<fg?97:fg;return fg=90,Ec(n,NG)}return!1}function kG(n,e){Vb.push(e,n),Hl||(Hl=!0,$m(97,function(){return jl(),null}))}function XL(n,e){Hb.push(e,n),Hl||(Hl=!0,$m(97,function(){return jl(),null}))}function NG(){if(cg===null)return!1;var n=cg;if(cg=null,(Dt&48)!=0)throw Error(je(331));var e=Dt;Dt|=32;var t=Hb;Hb=[];for(var r=0;r<t.length;r+=2){var i=t[r],o=t[r+1],s=i.destroy;if(i.destroy=void 0,typeof s=="function")try{s()}catch(l){if(o===null)throw Error(je(330));ql(o,l)}}for(t=Vb,Vb=[],r=0;r<t.length;r+=2){i=t[r],o=t[r+1];try{var a=i.create;i.destroy=a()}catch(l){if(o===null)throw Error(je(330));ql(o,l)}}for(a=n.current.firstEffect;a!==null;)n=a.nextEffect,a.nextEffect=null,a.flags&8&&(a.sibling=null,a.stateNode=null),a=n;return Dt=e,Cs(),!0}function KL(n,e,t){e=Pb(t,e),e=RL(n,e,1),Ul(n,e),e=uo(),n=dx(n,1),n!==null&&(C0(n,1,e),Do(n,e))}function ql(n,e){if(n.tag===3)KL(n,n,e);else for(var t=n.return;t!==null;){if(t.tag===3){KL(t,n,e);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Is===null||!Is.has(r))){n=Pb(e,n);var i=LL(t,n,1);if(Ul(t,i),i=uo(),t=dx(t,1),t!==null)C0(t,1,i),Do(t,i);else if(typeof r.componentDidCatch=="function"&&(Is===null||!Is.has(r)))try{r.componentDidCatch(e,n)}catch{}break}}t=t.return}}function BG(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=uo(),n.pingedLanes|=n.suspendedLanes&t,Di===n&&(vi&t)===t&&(ti===4||ti===3&&(vi&62914560)===vi&&500>mi()-Bb?dh(n,0):kb|=t),Do(n,e)}function zG(n,e){var t=n.stateNode;t!==null&&t.delete(e),e=0,e===0&&(e=n.mode,(e&2)==0?e=1:(e&4)==0?e=rh()===99?1:2:(Ra===0&&(Ra=lh),e=Xd(62914560&~Ra),e===0&&(e=4194304))),t=uo(),n=dx(n,e),n!==null&&(C0(n,e,t),Do(n,t))}var YL;YL=function(n,e,t){var r=e.lanes;if(n!==null)if(n.memoizedProps!==e.pendingProps||Zi.current)ts=!0;else if((t&r)!=0)ts=(n.flags&16384)!=0;else{switch(ts=!1,e.tag){case 3:_L(e),gb();break;case 5:tL(e);break;case 1:Ji(e.type)&&V0(e);break;case 4:hb(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value;var i=e.type._context;er(W0,i._currentValue),i._currentValue=r;break;case 13:if(e.memoizedState!==null)return(t&e.child.childLanes)!=0?wL(n,e,t):(er(tr,tr.current&1),e=Ca(n,e,t),e!==null?e.sibling:null);er(tr,tr.current&1);break;case 19:if(r=(t&e.childLanes)!=0,(n.flags&64)!=0){if(r)return TL(n,e,t);e.flags|=64}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),er(tr,tr.current),r)break;return null;case 23:case 24:return e.lanes=0,Mb(n,e,t)}return Ca(n,e,t)}else ts=!1;switch(e.lanes=0,e.tag){case 2:if(r=e.type,n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2),n=e.pendingProps,i=nh(e,pi.current),oh(e,t),i=xb(null,e,r,n,i,t),e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ji(r)){var o=!0;V0(e)}else o=!1;e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,fb(e);var s=r.getDerivedStateFromProps;typeof s=="function"&&X0(e,r,s,n),i.updater=K0,e.stateNode=i,i._reactInternals=e,db(e,r,n,t),e=Tb(null,e,r,!0,o,t)}else e.tag=0,eo(null,e,i,t),e=e.child;return e;case 16:i=e.elementType;e:{switch(n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2),n=e.pendingProps,o=i._init,i=o(i._payload),e.type=i,o=e.tag=VG(i),n=es(i,n),o){case 0:e=Eb(null,e,i,n,t);break e;case 1:e=xL(null,e,i,n,t);break e;case 11:e=mL(null,e,i,n,t);break e;case 14:e=gL(null,e,i,es(i.type,n),r,t);break e}throw Error(je(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:es(r,i),Eb(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:es(r,i),xL(n,e,r,i,t);case 3:if(_L(e),r=e.updateQueue,n===null||r===null)throw Error(je(282));if(r=e.pendingProps,i=e.memoizedState,i=i!==null?i.element:null,q2(n,e),Zm(e,r,null,t),r=e.memoizedState.element,r===i)gb(),e=Ca(n,e,t);else{if(i=e.stateNode,(o=i.hydrate)&&(Vl=Jd(e.stateNode.containerInfo.firstChild),Aa=e,o=Rs=!0),o){if(n=i.mutableSourceEagerHydrationData,n!=null)for(i=0;i<n.length;i+=2)o=n[i],o._workInProgressVersionPrimary=n[i+1],ah.push(o);for(t=eL(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|1024,t=t.sibling}else eo(n,e,r,t),gb();e=e.child}return e;case 5:return tL(e),n===null&&mb(e),r=e.type,i=e.pendingProps,o=n!==null?n.memoizedProps:null,s=i.children,QS(r,i)?s=null:o!==null&&QS(r,o)&&(e.flags|=16),yL(n,e),eo(n,e,s,t),e.child;case 6:return n===null&&mb(e),null;case 13:return wL(n,e,t);case 4:return hb(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=Z0(e,null,r,t):eo(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:es(r,i),mL(n,e,r,i,t);case 7:return eo(n,e,e.pendingProps,t),e.child;case 8:return eo(n,e,e.pendingProps.children,t),e.child;case 12:return eo(n,e,e.pendingProps.children,t),e.child;case 10:e:{r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value;var a=e.type._context;if(er(W0,a._currentValue),a._currentValue=o,s!==null)if(a=s.value,o=Ro(a,o)?0:(typeof r._calculateChangedBits=="function"?r._calculateChangedBits(a,o):1073741823)|0,o===0){if(s.children===i.children&&!Zi.current){e=Ca(n,e,t);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var l=a.dependencies;if(l!==null){s=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r&&(c.observedBits&o)!=0){a.tag===1&&(c=zl(-1,t&-t),c.tag=2,Ul(a,c)),a.lanes|=t,c=a.alternate,c!==null&&(c.lanes|=t),j2(a.return,t),l.lanes|=t;break}c=c.next}}else s=a.tag===10&&a.type===e.type?null:a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}eo(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,o=e.pendingProps,r=o.children,oh(e,t),i=Lo(i,o.unstable_observedBits),r=r(i),e.flags|=1,eo(n,e,r,t),e.child;case 14:return i=e.type,o=es(i,e.pendingProps),o=es(i.type,o),gL(n,e,i,o,r,t);case 15:return vL(n,e,e.type,e.pendingProps,r,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:es(r,i),n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,Ji(r)?(n=!0,V0(e)):n=!1,oh(e,t),Z2(e,r,i),db(e,r,i,t),Tb(null,e,r,!0,n,t);case 19:return TL(n,e,t);case 23:return Mb(n,e,t);case 24:return Mb(n,e,t)}throw Error(je(156,e.tag))};function UG(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Oo(n,e,t,r){return new UG(n,e,t,r)}function qb(n){return n=n.prototype,!(!n||!n.isReactComponent)}function VG(n){if(typeof n=="function")return qb(n)?1:0;if(n!=null){if(n=n.$$typeof,n===m0)return 11;if(n===v0)return 14}return 2}function Xl(n,e){var t=n.alternate;return t===null?(t=Oo(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.nextEffect=null,t.firstEffect=null,t.lastEffect=null),t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function px(n,e,t,r,i,o){var s=2;if(r=n,typeof n=="function")qb(n)&&(s=1);else if(typeof n=="string")s=5;else e:switch(n){case Cl:return hh(t.children,i,o,e);case mR:s=8,i|=16;break;case nS:s=8,i|=1;break;case Em:return n=Oo(12,t,e,i|8),n.elementType=Em,n.type=Em,n.lanes=o,n;case Tm:return n=Oo(13,t,e,i),n.type=Tm,n.elementType=Tm,n.lanes=o,n;case g0:return n=Oo(19,t,e,i),n.elementType=g0,n.lanes=o,n;case lS:return Xb(t,i,o,e);case uS:return n=Oo(24,t,e,i),n.elementType=uS,n.lanes=o,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case rS:s=10;break e;case iS:s=9;break e;case m0:s=11;break e;case v0:s=14;break e;case oS:s=16,r=null;break e;case sS:s=22;break e}throw Error(je(130,n==null?n:typeof n,""))}return e=Oo(s,t,e,i),e.elementType=n,e.type=r,e.lanes=o,e}function hh(n,e,t,r){return n=Oo(7,n,r,e),n.lanes=t,n}function Xb(n,e,t,r){return n=Oo(23,n,r,e),n.elementType=lS,n.lanes=t,n}function Kb(n,e,t){return n=Oo(6,n,null,e),n.lanes=t,n}function Yb(n,e,t){return e=Oo(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function HG(n,e,t){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=t,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=FS(0),this.expirationTimes=FS(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=FS(0),this.mutableSourceEagerHydrationData=null}function GG(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xc,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function mx(n,e,t,r){var i=e.current,o=uo(),s=Gl(i);e:if(t){t=t._reactInternals;t:{if(wc(t)!==t||t.tag!==1)throw Error(je(170));var a=t;do{switch(a.tag){case 3:a=a.stateNode.context;break t;case 1:if(Ji(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break t}}a=a.return}while(a!==null);throw Error(je(171))}if(t.tag===1){var l=t.type;if(Ji(l)){t=F2(t,l,a);break e}}t=a}else t=Nl;return e.context===null?e.context=t:e.pendingContext=t,e=zl(o,s),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),Ul(i,e),Wl(i,s,o),s}function $b(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function $L(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function Zb(n,e){$L(n,e),(n=n.alternate)&&$L(n,e)}function WG(){return null}function Jb(n,e,t){var r=t!=null&&t.hydrationOptions!=null&&t.hydrationOptions.mutableSources||null;if(t=new HG(n,e,t!=null&&t.hydrate===!0),e=Oo(3,null,null,e===2?7:e===1?3:0),t.current=e,e.stateNode=t,fb(e),n[Qd]=t.current,M2(n.nodeType===8?n.parentNode:n),r)for(n=0;n<r.length;n++){e=r[n];var i=e._getVersion;i=i(e._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[e,i]:t.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=t}Jb.prototype.render=function(n){mx(n,this._internalRoot,null,null)};Jb.prototype.unmount=function(){var n=this._internalRoot,e=n.containerInfo;mx(null,n,null,function(){e[Qd]=null})};function mg(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function jG(n,e){if(e||(e=n?n.nodeType===9?n.documentElement:n.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var t;t=n.lastChild;)n.removeChild(t);return new Jb(n,0,e?{hydrate:!0}:void 0)}function gx(n,e,t,r,i){var o=t._reactRootContainer;if(o){var s=o._internalRoot;if(typeof i=="function"){var a=i;i=function(){var c=$b(s);a.call(c)}}mx(e,s,n,i)}else{if(o=t._reactRootContainer=jG(t,r),s=o._internalRoot,typeof i=="function"){var l=i;i=function(){var c=$b(s);l.call(c)}}HL(function(){mx(e,s,n,i)})}return $b(s)}BR=function(n){if(n.tag===13){var e=uo();Wl(n,4,e),Zb(n,4)}};PS=function(n){if(n.tag===13){var e=uo();Wl(n,67108864,e),Zb(n,67108864)}};zR=function(n){if(n.tag===13){var e=uo(),t=Gl(n);Wl(n,t,e),Zb(n,t)}};UR=function(n,e){return e()};SS=function(n,e,t){switch(e){case"input":if(hS(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=z0(r);if(!i)throw Error(je(90));yR(r),hS(r,i)}}}break;case"textarea":bR(n,t);break;case"select":e=t.value,e!=null&&Hd(n,!!t.multiple,e,!1)}};bS=VL;IR=function(n,e,t,r,i){var o=Dt;Dt|=4;try{return Ec(98,n.bind(null,e,t,r,i))}finally{Dt=o,Dt===0&&(ch(),Cs())}};MS=function(){(Dt&49)==0&&(LG(),jl())};DR=function(n,e){var t=Dt;Dt|=2;try{return n(e)}finally{Dt=t,Dt===0&&(ch(),Cs())}};function ZL(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mg(e))throw Error(je(200));return GG(n,e,null,t)}var qG={Events:[Ym,eh,z0,RR,LR,jl,{current:!1}]},gg={findFiberByHostInstance:Sc,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},XG={bundleType:gg.bundleType,version:gg.version,rendererPackageName:gg.rendererPackageName,rendererConfig:gg.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yc.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=kR(n),n===null?null:n.stateNode},findFiberByHostInstance:gg.findFiberByHostInstance||WG,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var vx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vx.isDisabled&&vx.supportsFiber)try{rb=vx.inject(XG),Mc=vx}catch{}}Po.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qG;Po.createPortal=ZL;Po.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(je(188)):Error(je(268,Object.keys(n)));return n=kR(e),n=n===null?null:n.stateNode,n};Po.flushSync=function(n,e){var t=Dt;if((t&48)!=0)return n(e);Dt|=1;try{if(n)return Ec(99,n.bind(null,e))}finally{Dt=t,Cs()}};Po.hydrate=function(n,e,t){if(!mg(e))throw Error(je(200));return gx(null,n,e,!0,t)};Po.render=function(n,e,t){if(!mg(e))throw Error(je(200));return gx(null,n,e,!1,t)};Po.unmountComponentAtNode=function(n){if(!mg(n))throw Error(je(40));return n._reactRootContainer?(HL(function(){gx(null,null,n,!1,function(){n._reactRootContainer=null,n[Qd]=null})}),!0):!1};Po.unstable_batchedUpdates=VL;Po.unstable_createPortal=function(n,e){return ZL(n,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};Po.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!mg(t))throw Error(je(200));if(n==null||n._reactInternals===void 0)throw Error(je(38));return gx(n,e,t,!1,r)};Po.version="17.0.2";function JL(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(JL)}catch(n){console.error(n)}}JL(),Bd.exports=Po;var Dre=Bd.exports;function Lc(){return Lc=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Lc.apply(this,arguments)}var Ic,Qb=Ic||(Ic={});Qb.Pop="POP";Qb.Push="PUSH";Qb.Replace="REPLACE";var QL=function(n){return n};function e3(n){n.preventDefault(),n.returnValue=""}function t3(){var n=[];return{get length(){return n.length},push:function(e){return n.push(e),function(){n=n.filter(function(t){return t!==e})}},call:function(e){n.forEach(function(t){return t&&t(e)})}}}function KG(){return Math.random().toString(36).substr(2,8)}function eM(n){var e=n.pathname,t=n.search;return n=n.hash,(e===void 0?"/":e)+(t===void 0?"":t)+(n===void 0?"":n)}function Dc(n){var e={};if(n){var t=n.indexOf("#");0<=t&&(e.hash=n.substr(t),n=n.substr(0,t)),t=n.indexOf("?"),0<=t&&(e.search=n.substr(t),n=n.substr(0,t)),n&&(e.pathname=n)}return e}function YG(n){function e(){var M=l.location,x=c.state||{};return[x.idx,QL({pathname:M.pathname,search:M.search,hash:M.hash,state:x.usr||null,key:x.key||"default"})]}function t(M){return typeof M=="string"?M:eM(M)}function r(M,x){return x===void 0&&(x=null),QL(Lc({pathname:g.pathname,hash:"",search:""},typeof M=="string"?Dc(M):M,{state:x,key:KG()}))}function i(M){v=M,M=e(),p=M[0],g=M[1],y.call({action:v,location:g})}function o(M,x){function _(){o(M,x)}var T=Ic.Push,E=r(M,x);if(!S.length||(S.call({action:T,location:E,retry:_}),!1)){var C=[{usr:E.state,key:E.key,idx:p+1},t(E)];E=C[0],C=C[1];try{c.pushState(E,"",C)}catch{l.location.assign(C)}i(T)}}function s(M,x){function _(){s(M,x)}var T=Ic.Replace,E=r(M,x);S.length&&(S.call({action:T,location:E,retry:_}),1)||(E=[{usr:E.state,key:E.key,idx:p},t(E)],c.replaceState(E[0],"",E[1]),i(T))}function a(M){c.go(M)}n===void 0&&(n={}),n=n.window;var l=n===void 0?document.defaultView:n,c=l.history,m=null;l.addEventListener("popstate",function(){if(m)S.call(m),m=null;else{var M=Ic.Pop,x=e(),_=x[0];if(x=x[1],S.length){if(_!=null){var T=p-_;T&&(m={action:M,location:x,retry:function(){a(-1*T)}},a(T))}}else i(M)}});var v=Ic.Pop;n=e();var p=n[0],g=n[1],y=t3(),S=t3();return p==null&&(p=0,c.replaceState(Lc({},c.state,{idx:p}),"")),{get action(){return v},get location(){return g},createHref:t,push:o,replace:s,go:a,back:function(){a(-1)},forward:function(){a(1)},listen:function(M){return y.push(M)},block:function(M){var x=S.push(M);return S.length===1&&l.addEventListener("beforeunload",e3),function(){x(),S.length||l.removeEventListener("beforeunload",e3)}}}}/**
 * React Router v6.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ds(n,e){if(!n)throw new Error(e)}const tM=se.exports.createContext(null),nM=se.exports.createContext(null),ph=se.exports.createContext({outlet:null,matches:[]});function $G(n){return nW(n.context)}function ZG(n){Ds(!1)}function JG(n){let{basename:e="/",children:t=null,location:r,navigationType:i=Ic.Pop,navigator:o,static:s=!1}=n;vg()&&Ds(!1);let a=SW(e),l=se.exports.useMemo(()=>({basename:a,navigator:o,static:s}),[a,o,s]);typeof r=="string"&&(r=Dc(r));let{pathname:c="/",search:m="",hash:v="",state:p=null,key:g="default"}=r,y=se.exports.useMemo(()=>{let S=o3(c,a);return S==null?null:{pathname:S,search:m,hash:v,state:p,key:g}},[a,c,m,v,p,g]);return y==null?null:se.exports.createElement(tM.Provider,{value:l},se.exports.createElement(nM.Provider,{children:t,value:{location:y,navigationType:i}}))}function Ore(n){let{children:e,location:t}=n;return rW(iM(e),t)}function QG(n){vg()||Ds(!1);let{basename:e,navigator:t}=se.exports.useContext(tM),{hash:r,pathname:i,search:o}=rM(n),s=i;if(e!=="/"){let a=wW(n),l=a!=null&&a.endsWith("/");s=i==="/"?e+(l?"/":""):Kl([e,i])}return t.createHref({pathname:s,search:o,hash:r})}function vg(){return se.exports.useContext(nM)!=null}function yg(){return vg()||Ds(!1),se.exports.useContext(nM).location}function eW(){vg()||Ds(!1);let{basename:n,navigator:e}=se.exports.useContext(tM),{matches:t}=se.exports.useContext(ph),{pathname:r}=yg(),i=JSON.stringify(t.map(a=>a.pathnameBase)),o=se.exports.useRef(!1);return se.exports.useEffect(()=>{o.current=!0}),se.exports.useCallback(function(a,l){if(l===void 0&&(l={}),!o.current)return;if(typeof a=="number"){e.go(a);return}let c=i3(a,JSON.parse(i),r);n!=="/"&&(c.pathname=Kl([n,c.pathname])),(l.replace?e.replace:e.push)(c,l.state)},[n,e,i,r])}const tW=se.exports.createContext(null);function nW(n){let e=se.exports.useContext(ph).outlet;return se.exports.createElement(tW.Provider,{value:n},e)}function Fre(){let{matches:n}=se.exports.useContext(ph),e=n[n.length-1];return e?e.params:{}}function rM(n){let{matches:e}=se.exports.useContext(ph),{pathname:t}=yg(),r=JSON.stringify(e.map(i=>i.pathnameBase));return se.exports.useMemo(()=>i3(n,JSON.parse(r),t),[n,r,t])}function rW(n,e){vg()||Ds(!1);let{matches:t}=se.exports.useContext(ph),r=t[t.length-1],i=r?r.params:{};r&&r.pathname;let o=r?r.pathnameBase:"/";r&&r.route;let s=yg(),a;if(e){var l;let p=typeof e=="string"?Dc(e):e;o==="/"||((l=p.pathname)==null?void 0:l.startsWith(o))||Ds(!1),a=p}else a=s;let c=a.pathname||"/",m=o==="/"?c:c.slice(o.length)||"/",v=iW(n,{pathname:m});return mW(v&&v.map(p=>Object.assign({},p,{params:Object.assign({},i,p.params),pathname:Kl([o,p.pathname]),pathnameBase:p.pathnameBase==="/"?o:Kl([o,p.pathnameBase])})),t)}function iM(n){let e=[];return se.exports.Children.forEach(n,t=>{if(!se.exports.isValidElement(t))return;if(t.type===se.exports.Fragment){e.push.apply(e,iM(t.props.children));return}t.type!==ZG&&Ds(!1);let r={caseSensitive:t.props.caseSensitive,element:t.props.element,index:t.props.index,path:t.props.path};t.props.children&&(r.children=iM(t.props.children)),e.push(r)}),e}function iW(n,e,t){t===void 0&&(t="/");let r=typeof e=="string"?Dc(e):e,i=o3(r.pathname||"/",t);if(i==null)return null;let o=n3(n);oW(o);let s=null;for(let a=0;s==null&&a<o.length;++a)s=pW(o[a],i);return s}function n3(n,e,t,r){return e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r=""),n.forEach((i,o)=>{let s={relativePath:i.path||"",caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};s.relativePath.startsWith("/")&&(s.relativePath.startsWith(r)||Ds(!1),s.relativePath=s.relativePath.slice(r.length));let a=Kl([r,s.relativePath]),l=t.concat(s);i.children&&i.children.length>0&&(i.index===!0&&Ds(!1),n3(i.children,e,l,a)),!(i.path==null&&!i.index)&&e.push({path:a,score:dW(a,i.index),routesMeta:l})}),e}function oW(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:hW(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const sW=/^:\w+$/,aW=3,lW=2,uW=1,cW=10,fW=-2,r3=n=>n==="*";function dW(n,e){let t=n.split("/"),r=t.length;return t.some(r3)&&(r+=fW),e&&(r+=lW),t.filter(i=>!r3(i)).reduce((i,o)=>i+(sW.test(o)?aW:o===""?uW:cW),r)}function hW(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function pW(n,e){let{routesMeta:t}=n,r={},i="/",o=[];for(let s=0;s<t.length;++s){let a=t[s],l=s===t.length-1,c=i==="/"?e:e.slice(i.length)||"/",m=gW({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!m)return null;Object.assign(r,m.params);let v=a.route;o.push({params:r,pathname:Kl([i,m.pathname]),pathnameBase:Kl([i,m.pathnameBase]),route:v}),m.pathnameBase!=="/"&&(i=Kl([i,m.pathnameBase]))}return o}function mW(n,e){return e===void 0&&(e=[]),n==null?null:n.reduceRight((t,r,i)=>se.exports.createElement(ph.Provider,{children:r.route.element!==void 0?r.route.element:se.exports.createElement($G,null),value:{outlet:t,matches:e.concat(n.slice(0,i+1))}}),null)}function gW(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=vW(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,m,v)=>{if(m==="*"){let p=a[v]||"";s=o.slice(0,o.length-p.length).replace(/(.)\/+$/,"$1")}return c[m]=yW(a[v]||""),c},{}),pathname:o,pathnameBase:s,pattern:n}}function vW(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(s,a)=>(r.push(a),"([^\\/]+)"));return n.endsWith("*")?(r.push("*"),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=t?"\\/*$":"(?:\\b|\\/|$)",[new RegExp(i,e?void 0:"i"),r]}function yW(n,e){try{return decodeURIComponent(n)}catch{return n}}function xW(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Dc(n):n;return{pathname:t?t.startsWith("/")?t:_W(t,e):e,search:bW(r),hash:MW(i)}}function _W(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function i3(n,e,t){let r=typeof n=="string"?Dc(n):n,i=n===""||r.pathname===""?"/":r.pathname,o;if(i==null)o=t;else{let a=e.length-1;if(i.startsWith("..")){let l=i.split("/");for(;l[0]==="..";)l.shift(),a-=1;r.pathname=l.join("/")}o=a>=0?e[a]:"/"}let s=xW(r,o);return i&&i!=="/"&&i.endsWith("/")&&!s.pathname.endsWith("/")&&(s.pathname+="/"),s}function wW(n){return n===""||n.pathname===""?"/":typeof n=="string"?Dc(n).pathname:n.pathname}function o3(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=n.charAt(e.length);return t&&t!=="/"?null:n.slice(e.length)||"/"}const Kl=n=>n.join("/").replace(/\/\/+/g,"/"),SW=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),bW=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,MW=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;/**
 * React Router DOM v6.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yx(){return yx=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},yx.apply(this,arguments)}function s3(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}const EW=["onClick","reloadDocument","replace","state","target","to"],TW=["aria-current","caseSensitive","className","end","style","to","children"];function kre(n){let{basename:e,children:t,window:r}=n,i=se.exports.useRef();i.current==null&&(i.current=YG({window:r}));let o=i.current,[s,a]=se.exports.useState({action:o.action,location:o.location});return se.exports.useLayoutEffect(()=>o.listen(a),[o]),se.exports.createElement(JG,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:o})}function AW(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}const CW=se.exports.forwardRef(function(e,t){let{onClick:r,reloadDocument:i,replace:o=!1,state:s,target:a,to:l}=e,c=s3(e,EW),m=QG(l),v=PW(l,{replace:o,state:s,target:a});function p(g){r&&r(g),!g.defaultPrevented&&!i&&v(g)}return se.exports.createElement("a",yx({},c,{href:m,onClick:p,ref:t,target:a}))}),Nre=se.exports.forwardRef(function(e,t){let{"aria-current":r="page",caseSensitive:i=!1,className:o="",end:s=!1,style:a,to:l,children:c}=e,m=s3(e,TW),v=yg(),p=rM(l),g=v.pathname,y=p.pathname;i||(g=g.toLowerCase(),y=y.toLowerCase());let S=g===y||!s&&g.startsWith(y)&&g.charAt(y.length)==="/",M=S?r:void 0,x;typeof o=="function"?x=o({isActive:S}):x=[o,S?"active":null].filter(Boolean).join(" ");let _=typeof a=="function"?a({isActive:S}):a;return se.exports.createElement(CW,yx({},m,{"aria-current":M,className:x,ref:t,style:_,to:l}),typeof c=="function"?c({isActive:S}):c)});function PW(n,e){let{target:t,replace:r,state:i}=e===void 0?{}:e,o=eW(),s=yg(),a=rM(n);return se.exports.useCallback(l=>{if(l.button===0&&(!t||t==="_self")&&!AW(l)){l.preventDefault();let c=!!r||eM(s)===eM(a);o(n,{replace:c,state:i})}},[s,o,a,r,i,t,n])}var xx={exports:{}},xg={};/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RW=se.exports,a3=60103;xg.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var l3=Symbol.for;a3=l3("react.element"),xg.Fragment=l3("react.fragment")}var LW=RW.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,IW=Object.prototype.hasOwnProperty,DW={key:!0,ref:!0,__self:!0,__source:!0};function u3(n,e,t){var r,i={},o=null,s=null;t!==void 0&&(o=""+t),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)IW.call(e,r)&&!DW.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:a3,type:n,key:o,ref:s,props:i,_owner:LW.current}}xg.jsx=u3;xg.jsxs=u3;xx.exports=xg;const c3=xx.exports.jsx,Bre=xx.exports.jsxs,zre=xx.exports.Fragment;var f3={exports:{}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.
Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.
THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var nn=function(){return nn=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},nn.apply(this,arguments)};function oM(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))}var Fn=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:global,xr=Object.keys,yi=Array.isArray;typeof Promise!="undefined"&&!Fn.Promise&&(Fn.Promise=Promise);function Oi(n,e){return typeof e!="object"||xr(e).forEach(function(t){n[t]=e[t]}),n}var _g=Object.getPrototypeOf,OW={}.hasOwnProperty;function Fo(n,e){return OW.call(n,e)}function mh(n,e){typeof e=="function"&&(e=e(_g(n))),(typeof Reflect=="undefined"?xr:Reflect.ownKeys)(e).forEach(function(t){La(n,t,e[t])})}var d3=Object.defineProperty;function La(n,e,t,r){d3(n,e,Oi(t&&Fo(t,"get")&&typeof t.get=="function"?{get:t.get,set:t.set,configurable:!0}:{value:t,configurable:!0,writable:!0},r))}function gh(n){return{from:function(e){return n.prototype=Object.create(e.prototype),La(n.prototype,"constructor",n),{extend:mh.bind(null,n.prototype)}}}}var FW=Object.getOwnPropertyDescriptor;function sM(n,e){var t=FW(n,e),r;return t||(r=_g(n))&&sM(r,e)}var kW=[].slice;function _x(n,e,t){return kW.call(n,e,t)}function h3(n,e){return e(n)}function wg(n){if(!n)throw new Error("Assertion Failed")}function p3(n){Fn.setImmediate?setImmediate(n):setTimeout(n,0)}function m3(n,e){return n.reduce(function(t,r,i){var o=e(r,i);return o&&(t[o[0]]=o[1]),t},{})}function NW(n,e,t){try{n.apply(null,t)}catch(r){e&&e(r)}}function Ia(n,e){if(Fo(n,e))return n[e];if(!e)return n;if(typeof e!="string"){for(var t=[],r=0,i=e.length;r<i;++r){var o=Ia(n,e[r]);t.push(o)}return t}var s=e.indexOf(".");if(s!==-1){var a=n[e.substr(0,s)];return a===void 0?void 0:Ia(a,e.substr(s+1))}}function ns(n,e,t){if(!(!n||e===void 0)&&!("isFrozen"in Object&&Object.isFrozen(n)))if(typeof e!="string"&&"length"in e){wg(typeof t!="string"&&"length"in t);for(var r=0,i=e.length;r<i;++r)ns(n,e[r],t[r])}else{var o=e.indexOf(".");if(o!==-1){var s=e.substr(0,o),a=e.substr(o+1);if(a==="")t===void 0?yi(n)&&!isNaN(parseInt(s))?n.splice(s,1):delete n[s]:n[s]=t;else{var l=n[s];l||(l=n[s]={}),ns(l,a,t)}}else t===void 0?yi(n)&&!isNaN(parseInt(e))?n.splice(e,1):delete n[e]:n[e]=t}}function BW(n,e){typeof e=="string"?ns(n,e,void 0):"length"in e&&[].map.call(e,function(t){ns(n,t,void 0)})}function g3(n){var e={};for(var t in n)Fo(n,t)&&(e[t]=n[t]);return e}var zW=[].concat;function v3(n){return zW.apply([],n)}var y3="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(v3([8,16,32,64].map(function(n){return["Int","Uint","Float"].map(function(e){return e+n+"Array"})}))).filter(function(n){return Fn[n]}),UW=y3.map(function(n){return Fn[n]});m3(y3,function(n){return[n,!0]});var Yl=null;function Sg(n){Yl=typeof WeakMap!="undefined"&&new WeakMap;var e=aM(n);return Yl=null,e}function aM(n){if(!n||typeof n!="object")return n;var e=Yl&&Yl.get(n);if(e)return e;if(yi(n)){e=[],Yl&&Yl.set(n,e);for(var t=0,r=n.length;t<r;++t)e.push(aM(n[t]))}else if(UW.indexOf(n.constructor)>=0)e=n;else{var i=_g(n);e=i===Object.prototype?{}:Object.create(i),Yl&&Yl.set(n,e);for(var o in n)Fo(n,o)&&(e[o]=aM(n[o]))}return e}var VW={}.toString;function lM(n){return VW.call(n).slice(8,-1)}var uM=typeof Symbol!="undefined"?Symbol.iterator:"@@iterator",HW=typeof uM=="symbol"?function(n){var e;return n!=null&&(e=n[uM])&&e.apply(n)}:function(){return null},vh={};function Da(n){var e,t,r,i;if(arguments.length===1){if(yi(n))return n.slice();if(this===vh&&typeof n=="string")return[n];if(i=HW(n)){for(t=[];r=i.next(),!r.done;)t.push(r.value);return t}if(n==null)return[n];if(e=n.length,typeof e=="number"){for(t=new Array(e);e--;)t[e]=n[e];return t}return[n]}for(e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return t}var cM=typeof Symbol!="undefined"?function(n){return n[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Os=typeof location!="undefined"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function x3(n,e){Os=n,_3=e}var _3=function(){return!0},GW=!new Error("").stack;function Oc(){if(GW)try{throw Oc.arguments,new Error}catch(n){return n}return new Error}function fM(n,e){var t=n.stack;return t?(e=e||0,t.indexOf(n.name)===0&&(e+=(n.name+n.message).split(`
`).length),t.split(`
`).slice(e).filter(_3).map(function(r){return`
`+r}).join("")):""}var WW=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"],w3=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],dM=WW.concat(w3),jW={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function yh(n,e){this._e=Oc(),this.name=n,this.message=e}gh(yh).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+fM(this._e,2))}},toString:function(){return this.name+": "+this.message}});function S3(n,e){return n+". Errors: "+Object.keys(e).map(function(t){return e[t].toString()}).filter(function(t,r,i){return i.indexOf(t)===r}).join(`
`)}function wx(n,e,t,r){this._e=Oc(),this.failures=e,this.failedKeys=r,this.successCount=t,this.message=S3(n,e)}gh(wx).from(yh);function bg(n,e){this._e=Oc(),this.name="BulkError",this.failures=Object.keys(e).map(function(t){return e[t]}),this.failuresByPos=e,this.message=S3(n,e)}gh(bg).from(yh);var qW=dM.reduce(function(n,e){return n[e]=e+"Error",n},{}),XW=yh,Ct=dM.reduce(function(n,e){var t=e+"Error";function r(i,o){this._e=Oc(),this.name=t,i?typeof i=="string"?(this.message=""+i+(o?`
 `+o:""),this.inner=o||null):typeof i=="object"&&(this.message=i.name+" "+i.message,this.inner=i):(this.message=jW[e]||t,this.inner=null)}return gh(r).from(XW),n[e]=r,n},{});Ct.Syntax=SyntaxError;Ct.Type=TypeError;Ct.Range=RangeError;var b3=w3.reduce(function(n,e){return n[e+"Error"]=Ct[e],n},{});function KW(n,e){if(!n||n instanceof yh||n instanceof TypeError||n instanceof SyntaxError||!n.name||!b3[n.name])return n;var t=new b3[n.name](e||n.message,n);return"stack"in n&&La(t,"stack",{get:function(){return this.inner.stack}}),t}var Sx=dM.reduce(function(n,e){return["Syntax","Type","Range"].indexOf(e)===-1&&(n[e+"Error"]=Ct[e]),n},{});Sx.ModifyError=wx;Sx.DexieError=yh;Sx.BulkError=bg;function En(){}function Mg(n){return n}function YW(n,e){return n==null||n===Mg?e:function(t){return e(n(t))}}function Fc(n,e){return function(){n.apply(this,arguments),e.apply(this,arguments)}}function $W(n,e){return n===En?e:function(){var t=n.apply(this,arguments);t!==void 0&&(arguments[0]=t);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var o=e.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?Fc(r,this.onsuccess):r),i&&(this.onerror=this.onerror?Fc(i,this.onerror):i),o!==void 0?o:t}}function ZW(n,e){return n===En?e:function(){n.apply(this,arguments);var t=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,e.apply(this,arguments),t&&(this.onsuccess=this.onsuccess?Fc(t,this.onsuccess):t),r&&(this.onerror=this.onerror?Fc(r,this.onerror):r)}}function JW(n,e){return n===En?e:function(t){var r=n.apply(this,arguments);Oi(t,r);var i=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var s=e.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?Fc(i,this.onsuccess):i),o&&(this.onerror=this.onerror?Fc(o,this.onerror):o),r===void 0?s===void 0?void 0:s:Oi(r,s)}}function QW(n,e){return n===En?e:function(){return e.apply(this,arguments)===!1?!1:n.apply(this,arguments)}}function hM(n,e){return n===En?e:function(){var t=n.apply(this,arguments);if(t&&typeof t.then=="function"){for(var r=this,i=arguments.length,o=new Array(i);i--;)o[i]=arguments[i];return t.then(function(){return e.apply(r,o)})}return e.apply(this,arguments)}}var Eg={},e8=100,t8=20,M3=100,pM=typeof Promise=="undefined"?[]:function(){var n=Promise.resolve();if(typeof crypto=="undefined"||!crypto.subtle)return[n,_g(n),n];var e=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[e,_g(e),n]}(),mM=pM[0],bx=pM[1],gM=pM[2],E3=bx&&bx.then,Mx=mM&&mM.constructor,vM=!!gM,yM=!1,n8=gM?function(){gM.then(Cx)}:Fn.setImmediate?setImmediate.bind(null,Cx):Fn.MutationObserver?function(){var n=document.createElement("div");new MutationObserver(function(){Cx(),n=null}).observe(n,{attributes:!0}),n.setAttribute("i","1")}:function(){setTimeout(Cx,0)},Tg=function(n,e){Ag.push([n,e]),Ex&&(n8(),Ex=!1)},xM=!0,Ex=!0,kc=[],Tx=[],_M=null,wM=Mg,xh={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:F3,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(function(n){try{F3(n[0],n[1])}catch{}})}},_t=xh,Ag=[],Nc=0,Ax=[];function ut(n){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=En,this._lib=!1;var e=this._PSD=_t;if(Os&&(this._stackHolder=Oc(),this._prev=null,this._numPrev=0),typeof n!="function"){if(n!==Eg)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&bM(this,this._value);return}this._state=null,this._value=null,++e.ref,A3(this,n)}var SM={get:function(){var n=_t,e=Lx;function t(r,i){var o=this,s=!n.global&&(n!==_t||e!==Lx),a=s&&!Oa(),l=new ut(function(c,m){MM(o,new T3(Dx(r,n,s,a),Dx(i,n,s,a),c,m,n))});return Os&&R3(l,this),l}return t.prototype=Eg,t},set:function(n){La(this,"then",n&&n.prototype===Eg?SM:{get:function(){return n},set:SM.set})}};mh(ut.prototype,{then:SM,_then:function(n,e){MM(this,new T3(null,null,n,e,_t))},catch:function(n){if(arguments.length===1)return this.then(null,n);var e=arguments[0],t=arguments[1];return typeof e=="function"?this.then(null,function(r){return r instanceof e?t(r):Px(r)}):this.then(null,function(r){return r&&r.name===e?t(r):Px(r)})},finally:function(n){return this.then(function(e){return n(),e},function(e){return n(),Px(e)})},stack:{get:function(){if(this._stack)return this._stack;try{yM=!0;var n=P3(this,[],t8),e=n.join(`
From previous: `);return this._state!==null&&(this._stack=e),e}finally{yM=!1}}},timeout:function(n,e){var t=this;return n<1/0?new ut(function(r,i){var o=setTimeout(function(){return i(new Ct.Timeout(e))},n);t.then(r,i).finally(clearTimeout.bind(null,o))}):this}});typeof Symbol!="undefined"&&Symbol.toStringTag&&La(ut.prototype,Symbol.toStringTag,"Dexie.Promise");xh.env=L3();function T3(n,e,t,r,i){this.onFulfilled=typeof n=="function"?n:null,this.onRejected=typeof e=="function"?e:null,this.resolve=t,this.reject=r,this.psd=i}mh(ut,{all:function(){var n=Da.apply(null,arguments).map(Ix);return new ut(function(e,t){n.length===0&&e([]);var r=n.length;n.forEach(function(i,o){return ut.resolve(i).then(function(s){n[o]=s,--r||e(n)},t)})})},resolve:function(n){if(n instanceof ut)return n;if(n&&typeof n.then=="function")return new ut(function(t,r){n.then(t,r)});var e=new ut(Eg,!0,n);return R3(e,_M),e},reject:Px,race:function(){var n=Da.apply(null,arguments).map(Ix);return new ut(function(e,t){n.map(function(r){return ut.resolve(r).then(e,t)})})},PSD:{get:function(){return _t},set:function(n){return _t=n}},totalEchoes:{get:function(){return Lx}},newPSD:$l,usePSD:wh,scheduler:{get:function(){return Tg},set:function(n){Tg=n}},rejectionMapper:{get:function(){return wM},set:function(n){wM=n}},follow:function(n,e){return new ut(function(t,r){return $l(function(i,o){var s=_t;s.unhandleds=[],s.onunhandled=o,s.finalize=Fc(function(){var a=this;i8(function(){a.unhandleds.length===0?i():o(a.unhandleds[0])})},s.finalize),n()},e,t,r)})}});Mx&&(Mx.allSettled&&La(ut,"allSettled",function(){var n=Da.apply(null,arguments).map(Ix);return new ut(function(e){n.length===0&&e([]);var t=n.length,r=new Array(t);n.forEach(function(i,o){return ut.resolve(i).then(function(s){return r[o]={status:"fulfilled",value:s}},function(s){return r[o]={status:"rejected",reason:s}}).then(function(){return--t||e(r)})})})}),Mx.any&&typeof AggregateError!="undefined"&&La(ut,"any",function(){var n=Da.apply(null,arguments).map(Ix);return new ut(function(e,t){n.length===0&&t(new AggregateError([]));var r=n.length,i=new Array(r);n.forEach(function(o,s){return ut.resolve(o).then(function(a){return e(a)},function(a){i[s]=a,--r||t(new AggregateError(i))})})})}));function A3(n,e){try{e(function(t){if(n._state===null){if(t===n)throw new TypeError("A promise cannot be resolved with itself.");var r=n._lib&&Cg();t&&typeof t.then=="function"?A3(n,function(i,o){t instanceof ut?t._then(i,o):t.then(i,o)}):(n._state=!0,n._value=t,C3(n)),r&&Pg()}},bM.bind(null,n))}catch(t){bM(n,t)}}function bM(n,e){if(Tx.push(e),n._state===null){var t=n._lib&&Cg();e=wM(e),n._state=!1,n._value=e,Os&&e!==null&&typeof e=="object"&&!e._promise&&NW(function(){var r=sM(e,"stack");e._promise=n,La(e,"stack",{get:function(){return yM?r&&(r.get?r.get.apply(e):r.value):n.stack}})}),o8(n),C3(n),t&&Pg()}}function C3(n){var e=n._listeners;n._listeners=[];for(var t=0,r=e.length;t<r;++t)MM(n,e[t]);var i=n._PSD;--i.ref||i.finalize(),Nc===0&&(++Nc,Tg(function(){--Nc==0&&EM()},[]))}function MM(n,e){if(n._state===null){n._listeners.push(e);return}var t=n._state?e.onFulfilled:e.onRejected;if(t===null)return(n._state?e.resolve:e.reject)(n._value);++e.psd.ref,++Nc,Tg(r8,[t,n,e])}function r8(n,e,t){try{_M=e;var r,i=e._value;e._state?r=n(i):(Tx.length&&(Tx=[]),r=n(i),Tx.indexOf(i)===-1&&s8(e)),t.resolve(r)}catch(o){t.reject(o)}finally{_M=null,--Nc==0&&EM(),--t.psd.ref||t.psd.finalize()}}function P3(n,e,t){if(e.length===t)return e;var r="";if(n._state===!1){var i=n._value,o,s;i!=null?(o=i.name||"Error",s=i.message||i,r=fM(i,0)):(o=i,s=""),e.push(o+(s?": "+s:"")+r)}return Os&&(r=fM(n._stackHolder,2),r&&e.indexOf(r)===-1&&e.push(r),n._prev&&P3(n._prev,e,t)),e}function R3(n,e){var t=e?e._numPrev+1:0;t<e8&&(n._prev=e,n._numPrev=t)}function Cx(){Cg()&&Pg()}function Cg(){var n=xM;return xM=!1,Ex=!1,n}function Pg(){var n,e,t;do for(;Ag.length>0;)for(n=Ag,Ag=[],t=n.length,e=0;e<t;++e){var r=n[e];r[0].apply(null,r[1])}while(Ag.length>0);xM=!0,Ex=!0}function EM(){var n=kc;kc=[],n.forEach(function(r){r._PSD.onunhandled.call(null,r._value,r)});for(var e=Ax.slice(0),t=e.length;t;)e[--t]()}function i8(n){function e(){n(),Ax.splice(Ax.indexOf(e),1)}Ax.push(e),++Nc,Tg(function(){--Nc==0&&EM()},[])}function o8(n){kc.some(function(e){return e._value===n._value})||kc.push(n)}function s8(n){for(var e=kc.length;e;)if(kc[--e]._value===n._value){kc.splice(e,1);return}}function Px(n){return new ut(Eg,!1,n)}function Vn(n,e){var t=_t;return function(){var r=Cg(),i=_t;try{return Zl(t,!0),n.apply(this,arguments)}catch(o){e&&e(o)}finally{Zl(i,!1),r&&Pg()}}}var xi={awaits:0,echoes:0,id:0},a8=0,Rx=[],TM=0,Lx=0,l8=0;function $l(n,e,t,r){var i=_t,o=Object.create(i);o.parent=i,o.ref=0,o.global=!1,o.id=++l8;var s=xh.env;o.env=vM?{Promise:ut,PromiseProp:{value:ut,configurable:!0,writable:!0},all:ut.all,race:ut.race,allSettled:ut.allSettled,any:ut.any,resolve:ut.resolve,reject:ut.reject,nthen:D3(s.nthen,o),gthen:D3(s.gthen,o)}:{},e&&Oi(o,e),++i.ref,o.finalize=function(){--this.parent.ref||this.parent.finalize()};var a=wh(o,n,t,r);return o.ref===0&&o.finalize(),a}function _h(){return xi.id||(xi.id=++a8),++xi.awaits,xi.echoes+=M3,xi.id}function Oa(){return xi.awaits?(--xi.awaits==0&&(xi.id=0),xi.echoes=xi.awaits*M3,!0):!1}(""+E3).indexOf("[native code]")===-1&&(_h=Oa=En);function Ix(n){return xi.echoes&&n&&n.constructor===Mx?(_h(),n.then(function(e){return Oa(),e},function(e){return Oa(),Ur(e)})):n}function u8(n){++Lx,(!xi.echoes||--xi.echoes==0)&&(xi.echoes=xi.id=0),Rx.push(_t),Zl(n,!0)}function c8(){var n=Rx[Rx.length-1];Rx.pop(),Zl(n,!1)}function Zl(n,e){var t=_t;if((e?xi.echoes&&(!TM++||n!==_t):TM&&(!--TM||n!==_t))&&I3(e?u8.bind(null,n):c8),n!==_t&&(_t=n,t===xh&&(xh.env=L3()),vM)){var r=xh.env.Promise,i=n.env;bx.then=i.nthen,r.prototype.then=i.gthen,(t.global||n.global)&&(Object.defineProperty(Fn,"Promise",i.PromiseProp),r.all=i.all,r.race=i.race,r.resolve=i.resolve,r.reject=i.reject,i.allSettled&&(r.allSettled=i.allSettled),i.any&&(r.any=i.any))}}function L3(){var n=Fn.Promise;return vM?{Promise:n,PromiseProp:Object.getOwnPropertyDescriptor(Fn,"Promise"),all:n.all,race:n.race,allSettled:n.allSettled,any:n.any,resolve:n.resolve,reject:n.reject,nthen:bx.then,gthen:n.prototype.then}:{}}function wh(n,e,t,r,i){var o=_t;try{return Zl(n,!0),e(t,r,i)}finally{Zl(o,!1)}}function I3(n){E3.call(mM,n)}function Dx(n,e,t,r){return typeof n!="function"?n:function(){var i=_t;t&&_h(),Zl(e,!0);try{return n.apply(this,arguments)}finally{Zl(i,!1),r&&I3(Oa)}}}function D3(n,e){return function(t,r){return n.call(this,Dx(t,e),Dx(r,e))}}var O3="unhandledrejection";function F3(n,e){var t;try{t=e.onuncatched(n)}catch{}if(t!==!1)try{var r,i={promise:e,reason:n};if(Fn.document&&document.createEvent?(r=document.createEvent("Event"),r.initEvent(O3,!0,!0),Oi(r,i)):Fn.CustomEvent&&(r=new CustomEvent(O3,{detail:i}),Oi(r,i)),r&&Fn.dispatchEvent&&(dispatchEvent(r),!Fn.PromiseRejectionEvent&&Fn.onunhandledrejection))try{Fn.onunhandledrejection(r)}catch{}Os&&r&&!r.defaultPrevented&&console.warn("Unhandled rejection: "+(n.stack||n))}catch{}}var Ur=ut.reject;function k3(n,e,t,r){if(!n.idbdb||!n._state.openComplete&&!_t.letThrough&&!n._vip){if(n._state.openComplete)return Ur(new Ct.DatabaseClosed(n._state.dbOpenError));if(!n._state.isBeingOpened){if(!n._options.autoOpen)return Ur(new Ct.DatabaseClosed);n.open().catch(En)}return n._state.dbReadyPromise.then(function(){return k3(n,e,t,r)})}else{var i=n._createTransaction(e,t,n._dbSchema);try{i.create()}catch(o){return Ur(o)}return i._promise(e,function(o,s){return $l(function(){return _t.trans=i,r(o,s,i)})}).then(function(o){return i._completion.then(function(){return o})})}}var N3="3.2.0",Bc=String.fromCharCode(65535),AM=-1/0,Fa="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",B3="String expected.",Rg=[],Ox=typeof navigator!="undefined"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),f8=Ox,d8=Ox,z3=function(n){return!/(dexie\.js|dexie\.min\.js)/.test(n)},Fx="__dbnames",CM="readonly",PM="readwrite";function zc(n,e){return n?e?function(){return n.apply(this,arguments)&&e.apply(this,arguments)}:n:e}var U3={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function kx(n){return typeof n=="string"&&!/\./.test(n)?function(e){return e[n]===void 0&&n in e&&(e=Sg(e),delete e[n]),e}:function(e){return e}}var h8=function(){function n(){}return n.prototype._trans=function(e,t,r){var i=this._tx||_t.trans,o=this.name;function s(l,c,m){if(!m.schema[o])throw new Ct.NotFound("Table "+o+" not part of transaction");return t(m.idbtrans,m)}var a=Cg();try{return i&&i.db===this.db?i===_t.trans?i._promise(e,s,r):$l(function(){return i._promise(e,s,r)},{trans:i,transless:_t.transless||_t}):k3(this.db,e,[this.name],s)}finally{a&&Pg()}},n.prototype.get=function(e,t){var r=this;return e&&e.constructor===Object?this.where(e).first(t):this._trans("readonly",function(i){return r.core.get({trans:i,key:e}).then(function(o){return r.hook.reading.fire(o)})}).then(t)},n.prototype.where=function(e){if(typeof e=="string")return new this.db.WhereClause(this,e);if(yi(e))return new this.db.WhereClause(this,"["+e.join("+")+"]");var t=xr(e);if(t.length===1)return this.where(t[0]).equals(e[t[0]]);var r=this.schema.indexes.concat(this.schema.primKey).filter(function(m){return m.compound&&t.every(function(v){return m.keyPath.indexOf(v)>=0})&&m.keyPath.every(function(v){return t.indexOf(v)>=0})})[0];if(r&&this.db._maxKey!==Bc)return this.where(r.name).equals(r.keyPath.map(function(m){return e[m]}));!r&&Os&&console.warn("The query "+JSON.stringify(e)+" on "+this.name+" would benefit of a "+("compound index ["+t.join("+")+"]"));var i=this.schema.idxByName,o=this.db._deps.indexedDB;function s(m,v){try{return o.cmp(m,v)===0}catch{return!1}}var a=t.reduce(function(m,v){var p=m[0],g=m[1],y=i[v],S=e[v];return[p||y,p||!y?zc(g,y&&y.multi?function(M){var x=Ia(M,v);return yi(x)&&x.some(function(_){return s(S,_)})}:function(M){return s(S,Ia(M,v))}):g]},[null,null]),l=a[0],c=a[1];return l?this.where(l.name).equals(e[l.keyPath]).filter(c):r?this.filter(c):this.where(t).equals("")},n.prototype.filter=function(e){return this.toCollection().and(e)},n.prototype.count=function(e){return this.toCollection().count(e)},n.prototype.offset=function(e){return this.toCollection().offset(e)},n.prototype.limit=function(e){return this.toCollection().limit(e)},n.prototype.each=function(e){return this.toCollection().each(e)},n.prototype.toArray=function(e){return this.toCollection().toArray(e)},n.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},n.prototype.orderBy=function(e){return new this.db.Collection(new this.db.WhereClause(this,yi(e)?"["+e.join("+")+"]":e))},n.prototype.reverse=function(){return this.toCollection().reverse()},n.prototype.mapToClass=function(e){this.schema.mappedClass=e;var t=function(r){if(!r)return r;var i=Object.create(e.prototype);for(var o in r)if(Fo(r,o))try{i[o]=r[o]}catch{}return i};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=t,this.hook("reading",t),e},n.prototype.defineClass=function(){function e(t){Oi(this,t)}return this.mapToClass(e)},n.prototype.add=function(e,t){var r=this,i=this.schema.primKey,o=i.auto,s=i.keyPath,a=e;return s&&o&&(a=kx(s)(e)),this._trans("readwrite",function(l){return r.core.mutate({trans:l,type:"add",keys:t!=null?[t]:null,values:[a]})}).then(function(l){return l.numFailures?ut.reject(l.failures[0]):l.lastResult}).then(function(l){if(s)try{ns(e,s,l)}catch{}return l})},n.prototype.update=function(e,t){if(typeof e=="object"&&!yi(e)){var r=Ia(e,this.schema.primKey.keyPath);if(r===void 0)return Ur(new Ct.InvalidArgument("Given object does not contain its primary key"));try{typeof t!="function"?xr(t).forEach(function(i){ns(e,i,t[i])}):t(e,{value:e,primKey:r})}catch{}return this.where(":id").equals(r).modify(t)}else return this.where(":id").equals(e).modify(t)},n.prototype.put=function(e,t){var r=this,i=this.schema.primKey,o=i.auto,s=i.keyPath,a=e;return s&&o&&(a=kx(s)(e)),this._trans("readwrite",function(l){return r.core.mutate({trans:l,type:"put",values:[a],keys:t!=null?[t]:null})}).then(function(l){return l.numFailures?ut.reject(l.failures[0]):l.lastResult}).then(function(l){if(s)try{ns(e,s,l)}catch{}return l})},n.prototype.delete=function(e){var t=this;return this._trans("readwrite",function(r){return t.core.mutate({trans:r,type:"delete",keys:[e]})}).then(function(r){return r.numFailures?ut.reject(r.failures[0]):void 0})},n.prototype.clear=function(){var e=this;return this._trans("readwrite",function(t){return e.core.mutate({trans:t,type:"deleteRange",range:U3})}).then(function(t){return t.numFailures?ut.reject(t.failures[0]):void 0})},n.prototype.bulkGet=function(e){var t=this;return this._trans("readonly",function(r){return t.core.getMany({keys:e,trans:r}).then(function(i){return i.map(function(o){return t.hook.reading.fire(o)})})})},n.prototype.bulkAdd=function(e,t,r){var i=this,o=Array.isArray(t)?t:void 0;r=r||(o?void 0:t);var s=r?r.allKeys:void 0;return this._trans("readwrite",function(a){var l=i.schema.primKey,c=l.auto,m=l.keyPath;if(m&&o)throw new Ct.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(o&&o.length!==e.length)throw new Ct.InvalidArgument("Arguments objects and keys must have the same length");var v=e.length,p=m&&c?e.map(kx(m)):e;return i.core.mutate({trans:a,type:"add",keys:o,values:p,wantResults:s}).then(function(g){var y=g.numFailures,S=g.results,M=g.lastResult,x=g.failures,_=s?S:M;if(y===0)return _;throw new bg(i.name+".bulkAdd(): "+y+" of "+v+" operations failed",x)})})},n.prototype.bulkPut=function(e,t,r){var i=this,o=Array.isArray(t)?t:void 0;r=r||(o?void 0:t);var s=r?r.allKeys:void 0;return this._trans("readwrite",function(a){var l=i.schema.primKey,c=l.auto,m=l.keyPath;if(m&&o)throw new Ct.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(o&&o.length!==e.length)throw new Ct.InvalidArgument("Arguments objects and keys must have the same length");var v=e.length,p=m&&c?e.map(kx(m)):e;return i.core.mutate({trans:a,type:"put",keys:o,values:p,wantResults:s}).then(function(g){var y=g.numFailures,S=g.results,M=g.lastResult,x=g.failures,_=s?S:M;if(y===0)return _;throw new bg(i.name+".bulkPut(): "+y+" of "+v+" operations failed",x)})})},n.prototype.bulkDelete=function(e){var t=this,r=e.length;return this._trans("readwrite",function(i){return t.core.mutate({trans:i,type:"delete",keys:e})}).then(function(i){var o=i.numFailures,s=i.lastResult,a=i.failures;if(o===0)return s;throw new bg(t.name+".bulkDelete(): "+o+" of "+r+" operations failed",a)})},n}();function Lg(n){var e={},t=function(a,l){if(l){for(var c=arguments.length,m=new Array(c-1);--c;)m[c-1]=arguments[c];return e[a].subscribe.apply(null,m),n}else if(typeof a=="string")return e[a]};t.addEventType=o;for(var r=1,i=arguments.length;r<i;++r)o(arguments[r]);return t;function o(a,l,c){if(typeof a=="object")return s(a);l||(l=QW),c||(c=En);var m={subscribers:[],fire:c,subscribe:function(v){m.subscribers.indexOf(v)===-1&&(m.subscribers.push(v),m.fire=l(m.fire,v))},unsubscribe:function(v){m.subscribers=m.subscribers.filter(function(p){return p!==v}),m.fire=m.subscribers.reduce(l,c)}};return e[a]=t[a]=m,m}function s(a){xr(a).forEach(function(l){var c=a[l];if(yi(c))o(l,a[l][0],a[l][1]);else if(c==="asap")var m=o(l,Mg,function(){for(var p=arguments.length,g=new Array(p);p--;)g[p]=arguments[p];m.subscribers.forEach(function(y){p3(function(){y.apply(null,g)})})});else throw new Ct.InvalidArgument("Invalid event config")})}}function Ig(n,e){return gh(e).from({prototype:n}),e}function p8(n){return Ig(h8.prototype,function(t,r,i){this.db=n,this._tx=i,this.name=t,this.schema=r,this.hook=n._allTables[t]?n._allTables[t].hook:Lg(null,{creating:[$W,En],reading:[YW,Mg],updating:[JW,En],deleting:[ZW,En]})})}function Sh(n,e){return!(n.filter||n.algorithm||n.or)&&(e?n.justLimit:!n.replayFilter)}function RM(n,e){n.filter=zc(n.filter,e)}function LM(n,e,t){var r=n.replayFilter;n.replayFilter=r?function(){return zc(r(),e())}:e,n.justLimit=t&&!r}function m8(n,e){n.isMatch=zc(n.isMatch,e)}function Nx(n,e){if(n.isPrimKey)return e.primaryKey;var t=e.getIndexByKeyPath(n.index);if(!t)throw new Ct.Schema("KeyPath "+n.index+" on object store "+e.name+" is not indexed");return t}function V3(n,e,t){var r=Nx(n,e.schema);return e.openCursor({trans:t,values:!n.keysOnly,reverse:n.dir==="prev",unique:!!n.unique,query:{index:r,range:n.range}})}function Bx(n,e,t,r){var i=n.replayFilter?zc(n.filter,n.replayFilter()):n.filter;if(n.or){var o={},s=function(a,l,c){if(!i||i(l,c,function(p){return l.stop(p)},function(p){return l.fail(p)})){var m=l.primaryKey,v=""+m;v==="[object ArrayBuffer]"&&(v=""+new Uint8Array(m)),Fo(o,v)||(o[v]=!0,e(a,l,c))}};return Promise.all([n.or._iterate(s,t),H3(V3(n,r,t),n.algorithm,s,!n.keysOnly&&n.valueMapper)])}else return H3(V3(n,r,t),zc(n.algorithm,i),e,!n.keysOnly&&n.valueMapper)}function H3(n,e,t,r){var i=r?function(s,a,l){return t(r(s),a,l)}:t,o=Vn(i);return n.then(function(s){if(s)return s.start(function(){var a=function(){return s.continue()};(!e||e(s,function(l){return a=l},function(l){s.stop(l),a=En},function(l){s.fail(l),a=En}))&&o(s.value,s,function(l){return a=l}),a()})})}function Fi(n,e){try{var t=G3(n),r=G3(e);if(t!==r)return t==="Array"?1:r==="Array"?-1:t==="binary"?1:r==="binary"?-1:t==="string"?1:r==="string"?-1:t==="Date"?1:r!=="Date"?NaN:-1;switch(t){case"number":case"Date":case"string":return n>e?1:n<e?-1:0;case"binary":return v8(W3(n),W3(e));case"Array":return g8(n,e)}}catch{}return NaN}function g8(n,e){for(var t=n.length,r=e.length,i=t<r?t:r,o=0;o<i;++o){var s=Fi(n[o],e[o]);if(s!==0)return s}return t===r?0:t<r?-1:1}function v8(n,e){for(var t=n.length,r=e.length,i=t<r?t:r,o=0;o<i;++o)if(n[o]!==e[o])return n[o]<e[o]?-1:1;return t===r?0:t<r?-1:1}function G3(n){var e=typeof n;if(e!=="object")return e;if(ArrayBuffer.isView(n))return"binary";var t=lM(n);return t==="ArrayBuffer"?"binary":t}function W3(n){return n instanceof Uint8Array?n:ArrayBuffer.isView(n)?new Uint8Array(n.buffer,n.byteOffset,n.byteLength):new Uint8Array(n)}var y8=function(){function n(){}return n.prototype._read=function(e,t){var r=this._ctx;return r.error?r.table._trans(null,Ur.bind(null,r.error)):r.table._trans("readonly",e).then(t)},n.prototype._write=function(e){var t=this._ctx;return t.error?t.table._trans(null,Ur.bind(null,t.error)):t.table._trans("readwrite",e,"locked")},n.prototype._addAlgorithm=function(e){var t=this._ctx;t.algorithm=zc(t.algorithm,e)},n.prototype._iterate=function(e,t){return Bx(this._ctx,e,t,this._ctx.table.core)},n.prototype.clone=function(e){var t=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return e&&Oi(r,e),t._ctx=r,t},n.prototype.raw=function(){return this._ctx.valueMapper=null,this},n.prototype.each=function(e){var t=this._ctx;return this._read(function(r){return Bx(t,e,r,t.table.core)})},n.prototype.count=function(e){var t=this;return this._read(function(r){var i=t._ctx,o=i.table.core;if(Sh(i,!0))return o.count({trans:r,query:{index:Nx(i,o.schema),range:i.range}}).then(function(a){return Math.min(a,i.limit)});var s=0;return Bx(i,function(){return++s,!1},r,o).then(function(){return s})}).then(e)},n.prototype.sortBy=function(e,t){var r=e.split(".").reverse(),i=r[0],o=r.length-1;function s(c,m){return m?s(c[r[m]],m-1):c[i]}var a=this._ctx.dir==="next"?1:-1;function l(c,m){var v=s(c,o),p=s(m,o);return v<p?-a:v>p?a:0}return this.toArray(function(c){return c.sort(l)}).then(t)},n.prototype.toArray=function(e){var t=this;return this._read(function(r){var i=t._ctx;if(i.dir==="next"&&Sh(i,!0)&&i.limit>0){var o=i.valueMapper,s=Nx(i,i.table.core.schema);return i.table.core.query({trans:r,limit:i.limit,values:!0,query:{index:s,range:i.range}}).then(function(l){var c=l.result;return o?c.map(o):c})}else{var a=[];return Bx(i,function(l){return a.push(l)},r,i.table.core).then(function(){return a})}},e)},n.prototype.offset=function(e){var t=this._ctx;return e<=0?this:(t.offset+=e,Sh(t)?LM(t,function(){var r=e;return function(i,o){return r===0?!0:r===1?(--r,!1):(o(function(){i.advance(r),r=0}),!1)}}):LM(t,function(){var r=e;return function(){return--r<0}}),this)},n.prototype.limit=function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),LM(this._ctx,function(){var t=e;return function(r,i,o){return--t<=0&&i(o),t>=0}},!0),this},n.prototype.until=function(e,t){return RM(this._ctx,function(r,i,o){return e(r.value)?(i(o),t):!0}),this},n.prototype.first=function(e){return this.limit(1).toArray(function(t){return t[0]}).then(e)},n.prototype.last=function(e){return this.reverse().first(e)},n.prototype.filter=function(e){return RM(this._ctx,function(t){return e(t.value)}),m8(this._ctx,e),this},n.prototype.and=function(e){return this.filter(e)},n.prototype.or=function(e){return new this.db.WhereClause(this._ctx.table,e,this)},n.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},n.prototype.desc=function(){return this.reverse()},n.prototype.eachKey=function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(r,i){e(i.key,i)})},n.prototype.eachUniqueKey=function(e){return this._ctx.unique="unique",this.eachKey(e)},n.prototype.eachPrimaryKey=function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(r,i){e(i.primaryKey,i)})},n.prototype.keys=function(e){var t=this._ctx;t.keysOnly=!t.isMatch;var r=[];return this.each(function(i,o){r.push(o.key)}).then(function(){return r}).then(e)},n.prototype.primaryKeys=function(e){var t=this._ctx;if(t.dir==="next"&&Sh(t,!0)&&t.limit>0)return this._read(function(i){var o=Nx(t,t.table.core.schema);return t.table.core.query({trans:i,values:!1,limit:t.limit,query:{index:o,range:t.range}})}).then(function(i){var o=i.result;return o}).then(e);t.keysOnly=!t.isMatch;var r=[];return this.each(function(i,o){r.push(o.primaryKey)}).then(function(){return r}).then(e)},n.prototype.uniqueKeys=function(e){return this._ctx.unique="unique",this.keys(e)},n.prototype.firstKey=function(e){return this.limit(1).keys(function(t){return t[0]}).then(e)},n.prototype.lastKey=function(e){return this.reverse().firstKey(e)},n.prototype.distinct=function(){var e=this._ctx,t=e.index&&e.table.schema.idxByName[e.index];if(!t||!t.multi)return this;var r={};return RM(this._ctx,function(i){var o=i.primaryKey.toString(),s=Fo(r,o);return r[o]=!0,!s}),this},n.prototype.modify=function(e){var t=this,r=this._ctx;return this._write(function(i){var o;if(typeof e=="function")o=e;else{var s=xr(e),a=s.length;o=function(x){for(var _=!1,T=0;T<a;++T){var E=s[T],C=e[E];Ia(x,E)!==C&&(ns(x,E,C),_=!0)}return _}}var l=r.table.core,c=l.schema.primaryKey,m=c.outbound,v=c.extractKey,p=t.db._options.modifyChunkSize||200,g=[],y=0,S=[],M=function(x,_){var T=_.failures,E=_.numFailures;y+=x-E;for(var C=0,I=xr(T);C<I.length;C++){var R=I[C];g.push(T[R])}};return t.clone().primaryKeys().then(function(x){var _=function(T){var E=Math.min(p,x.length-T);return l.getMany({trans:i,keys:x.slice(T,T+E),cache:"immutable"}).then(function(C){for(var I=[],R=[],D=m?[]:null,k=[],U=0;U<E;++U){var B=C[U],$={value:Sg(B),primKey:x[T+U]};o.call($,$.value,$)!==!1&&($.value==null?k.push(x[T+U]):!m&&Fi(v(B),v($.value))!==0?(k.push(x[T+U]),I.push($.value)):(R.push($.value),m&&D.push(x[T+U])))}var K=Sh(r)&&r.limit===1/0&&(typeof e!="function"||e===IM)&&{index:r.index,range:r.range};return Promise.resolve(I.length>0&&l.mutate({trans:i,type:"add",values:I}).then(function(ie){for(var Q in ie.failures)k.splice(parseInt(Q),1);M(I.length,ie)})).then(function(){return(R.length>0||K&&typeof e=="object")&&l.mutate({trans:i,type:"put",keys:D,values:R,criteria:K,changeSpec:typeof e!="function"&&e}).then(function(ie){return M(R.length,ie)})}).then(function(){return(k.length>0||K&&e===IM)&&l.mutate({trans:i,type:"delete",keys:k,criteria:K}).then(function(ie){return M(k.length,ie)})}).then(function(){return x.length>T+E&&_(T+p)})})};return _(0).then(function(){if(g.length>0)throw new wx("Error modifying one or more objects",g,y,S);return x.length})})})},n.prototype.delete=function(){var e=this._ctx,t=e.range;return Sh(e)&&(e.isPrimKey&&!d8||t.type===3)?this._write(function(r){var i=e.table.core.schema.primaryKey,o=t;return e.table.core.count({trans:r,query:{index:i,range:o}}).then(function(s){return e.table.core.mutate({trans:r,type:"deleteRange",range:o}).then(function(a){var l=a.failures;a.lastResult,a.results;var c=a.numFailures;if(c)throw new wx("Could not delete some values",Object.keys(l).map(function(m){return l[m]}),s-c);return s-c})})}):this.modify(IM)},n}(),IM=function(n,e){return e.value=null};function x8(n){return Ig(y8.prototype,function(t,r){this.db=n;var i=U3,o=null;if(r)try{i=r()}catch(c){o=c}var s=t._ctx,a=s.table,l=a.hook.reading.fire;this._ctx={table:a,index:s.index,isPrimKey:!s.index||a.schema.primKey.keyPath&&s.index===a.schema.primKey.name,range:i,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:o,or:s.or,valueMapper:l!==Mg?l:null}})}function _8(n,e){return n<e?-1:n===e?0:1}function w8(n,e){return n>e?-1:n===e?0:1}function co(n,e,t){var r=n instanceof q3?new n.Collection(n):n;return r._ctx.error=t?new t(e):new TypeError(e),r}function bh(n){return new n.Collection(n,function(){return j3("")}).limit(0)}function S8(n){return n==="next"?function(e){return e.toUpperCase()}:function(e){return e.toLowerCase()}}function b8(n){return n==="next"?function(e){return e.toLowerCase()}:function(e){return e.toUpperCase()}}function M8(n,e,t,r,i,o){for(var s=Math.min(n.length,r.length),a=-1,l=0;l<s;++l){var c=e[l];if(c!==r[l])return i(n[l],t[l])<0?n.substr(0,l)+t[l]+t.substr(l+1):i(n[l],r[l])<0?n.substr(0,l)+r[l]+t.substr(l+1):a>=0?n.substr(0,a)+e[a]+t.substr(a+1):null;i(n[l],c)<0&&(a=l)}return s<r.length&&o==="next"?n+t.substr(n.length):s<n.length&&o==="prev"?n.substr(0,t.length):a<0?null:n.substr(0,a)+r[a]+t.substr(a+1)}function zx(n,e,t,r){var i,o,s,a,l,c,m,v=t.length;if(!t.every(function(S){return typeof S=="string"}))return co(n,B3);function p(S){i=S8(S),o=b8(S),s=S==="next"?_8:w8;var M=t.map(function(x){return{lower:o(x),upper:i(x)}}).sort(function(x,_){return s(x.lower,_.lower)});a=M.map(function(x){return x.upper}),l=M.map(function(x){return x.lower}),c=S,m=S==="next"?"":r}p("next");var g=new n.Collection(n,function(){return Jl(a[0],l[v-1]+r)});g._ondirectionchange=function(S){p(S)};var y=0;return g._addAlgorithm(function(S,M,x){var _=S.key;if(typeof _!="string")return!1;var T=o(_);if(e(T,l,y))return!0;for(var E=null,C=y;C<v;++C){var I=M8(_,T,a[C],l[C],s,c);I===null&&E===null?y=C+1:(E===null||s(E,I)>0)&&(E=I)}return M(E!==null?function(){S.continue(E+m)}:x),!1}),g}function Jl(n,e,t,r){return{type:2,lower:n,upper:e,lowerOpen:t,upperOpen:r}}function j3(n){return{type:1,lower:n,upper:n}}var q3=function(){function n(){}return Object.defineProperty(n.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),n.prototype.between=function(e,t,r,i){r=r!==!1,i=i===!0;try{return this._cmp(e,t)>0||this._cmp(e,t)===0&&(r||i)&&!(r&&i)?bh(this):new this.Collection(this,function(){return Jl(e,t,!r,!i)})}catch{return co(this,Fa)}},n.prototype.equals=function(e){return e==null?co(this,Fa):new this.Collection(this,function(){return j3(e)})},n.prototype.above=function(e){return e==null?co(this,Fa):new this.Collection(this,function(){return Jl(e,void 0,!0)})},n.prototype.aboveOrEqual=function(e){return e==null?co(this,Fa):new this.Collection(this,function(){return Jl(e,void 0,!1)})},n.prototype.below=function(e){return e==null?co(this,Fa):new this.Collection(this,function(){return Jl(void 0,e,!1,!0)})},n.prototype.belowOrEqual=function(e){return e==null?co(this,Fa):new this.Collection(this,function(){return Jl(void 0,e)})},n.prototype.startsWith=function(e){return typeof e!="string"?co(this,B3):this.between(e,e+Bc,!0,!0)},n.prototype.startsWithIgnoreCase=function(e){return e===""?this.startsWith(e):zx(this,function(t,r){return t.indexOf(r[0])===0},[e],Bc)},n.prototype.equalsIgnoreCase=function(e){return zx(this,function(t,r){return t===r[0]},[e],"")},n.prototype.anyOfIgnoreCase=function(){var e=Da.apply(vh,arguments);return e.length===0?bh(this):zx(this,function(t,r){return r.indexOf(t)!==-1},e,"")},n.prototype.startsWithAnyOfIgnoreCase=function(){var e=Da.apply(vh,arguments);return e.length===0?bh(this):zx(this,function(t,r){return r.some(function(i){return t.indexOf(i)===0})},e,Bc)},n.prototype.anyOf=function(){var e=this,t=Da.apply(vh,arguments),r=this._cmp;try{t.sort(r)}catch{return co(this,Fa)}if(t.length===0)return bh(this);var i=new this.Collection(this,function(){return Jl(t[0],t[t.length-1])});i._ondirectionchange=function(s){r=s==="next"?e._ascending:e._descending,t.sort(r)};var o=0;return i._addAlgorithm(function(s,a,l){for(var c=s.key;r(c,t[o])>0;)if(++o,o===t.length)return a(l),!1;return r(c,t[o])===0?!0:(a(function(){s.continue(t[o])}),!1)}),i},n.prototype.notEqual=function(e){return this.inAnyRange([[AM,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},n.prototype.noneOf=function(){var e=Da.apply(vh,arguments);if(e.length===0)return new this.Collection(this);try{e.sort(this._ascending)}catch{return co(this,Fa)}var t=e.reduce(function(r,i){return r?r.concat([[r[r.length-1][1],i]]):[[AM,i]]},null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})},n.prototype.inAnyRange=function(e,t){var r=this,i=this._cmp,o=this._ascending,s=this._descending,a=this._min,l=this._max;if(e.length===0)return bh(this);if(!e.every(function(C){return C[0]!==void 0&&C[1]!==void 0&&o(C[0],C[1])<=0}))return co(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Ct.InvalidArgument);var c=!t||t.includeLowers!==!1,m=t&&t.includeUppers===!0;function v(C,I){for(var R=0,D=C.length;R<D;++R){var k=C[R];if(i(I[0],k[1])<0&&i(I[1],k[0])>0){k[0]=a(k[0],I[0]),k[1]=l(k[1],I[1]);break}}return R===D&&C.push(I),C}var p=o;function g(C,I){return p(C[0],I[0])}var y;try{y=e.reduce(v,[]),y.sort(g)}catch{return co(this,Fa)}var S=0,M=m?function(C){return o(C,y[S][1])>0}:function(C){return o(C,y[S][1])>=0},x=c?function(C){return s(C,y[S][0])>0}:function(C){return s(C,y[S][0])>=0};function _(C){return!M(C)&&!x(C)}var T=M,E=new this.Collection(this,function(){return Jl(y[0][0],y[y.length-1][1],!c,!m)});return E._ondirectionchange=function(C){C==="next"?(T=M,p=o):(T=x,p=s),y.sort(g)},E._addAlgorithm(function(C,I,R){for(var D=C.key;T(D);)if(++S,S===y.length)return I(R),!1;return _(D)?!0:(r._cmp(D,y[S][1])===0||r._cmp(D,y[S][0])===0||I(function(){p===o?C.continue(y[S][0]):C.continue(y[S][1])}),!1)}),E},n.prototype.startsWithAnyOf=function(){var e=Da.apply(vh,arguments);return e.every(function(t){return typeof t=="string"})?e.length===0?bh(this):this.inAnyRange(e.map(function(t){return[t,t+Bc]})):co(this,"startsWithAnyOf() only works with strings")},n}();function E8(n){return Ig(q3.prototype,function(t,r,i){this.db=n,this._ctx={table:t,index:r===":id"?null:r,or:i};var o=n._deps.indexedDB;if(!o)throw new Ct.MissingAPI;this._cmp=this._ascending=o.cmp.bind(o),this._descending=function(s,a){return o.cmp(a,s)},this._max=function(s,a){return o.cmp(s,a)>0?s:a},this._min=function(s,a){return o.cmp(s,a)<0?s:a},this._IDBKeyRange=n._deps.IDBKeyRange})}function Fs(n){return Vn(function(e){return Dg(e),n(e.target.error),!1})}function Dg(n){n.stopPropagation&&n.stopPropagation(),n.preventDefault&&n.preventDefault()}var Og="storagemutated",Ql="x-storagemutated-1",eu=Lg(null,Og),T8=function(){function n(){}return n.prototype._lock=function(){return wg(!_t.global),++this._reculock,this._reculock===1&&!_t.global&&(_t.lockOwnerFor=this),this},n.prototype._unlock=function(){if(wg(!_t.global),--this._reculock==0)for(_t.global||(_t.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{wh(e[1],e[0])}catch{}}return this},n.prototype._locked=function(){return this._reculock&&_t.lockOwnerFor!==this},n.prototype.create=function(e){var t=this;if(!this.mode)return this;var r=this.db.idbdb,i=this.db._state.dbOpenError;if(wg(!this.idbtrans),!e&&!r)switch(i&&i.name){case"DatabaseClosedError":throw new Ct.DatabaseClosed(i);case"MissingAPIError":throw new Ct.MissingAPI(i.message,i);default:throw new Ct.OpenFailed(i)}if(!this.active)throw new Ct.TransactionInactive;return wg(this._completion._state===null),e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):r.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})),e.onerror=Vn(function(o){Dg(o),t._reject(e.error)}),e.onabort=Vn(function(o){Dg(o),t.active&&t._reject(new Ct.Abort(e.error)),t.active=!1,t.on("abort").fire(o)}),e.oncomplete=Vn(function(){t.active=!1,t._resolve(),"mutatedParts"in e&&eu.storagemutated.fire(e.mutatedParts)}),this},n.prototype._promise=function(e,t,r){var i=this;if(e==="readwrite"&&this.mode!=="readwrite")return Ur(new Ct.ReadOnly("Transaction is readonly"));if(!this.active)return Ur(new Ct.TransactionInactive);if(this._locked())return new ut(function(s,a){i._blockedFuncs.push([function(){i._promise(e,t,r).then(s,a)},_t])});if(r)return $l(function(){var s=new ut(function(a,l){i._lock();var c=t(a,l,i);c&&c.then&&c.then(a,l)});return s.finally(function(){return i._unlock()}),s._lib=!0,s});var o=new ut(function(s,a){var l=t(s,a,i);l&&l.then&&l.then(s,a)});return o._lib=!0,o},n.prototype._root=function(){return this.parent?this.parent._root():this},n.prototype.waitFor=function(e){var t=this._root(),r=ut.resolve(e);if(t._waitingFor)t._waitingFor=t._waitingFor.then(function(){return r});else{t._waitingFor=r,t._waitingQueue=[];var i=t.idbtrans.objectStore(t.storeNames[0]);(function s(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(i.get(-1/0).onsuccess=s)})()}var o=t._waitingFor;return new ut(function(s,a){r.then(function(l){return t._waitingQueue.push(Vn(s.bind(null,l)))},function(l){return t._waitingQueue.push(Vn(a.bind(null,l)))}).finally(function(){t._waitingFor===o&&(t._waitingFor=null)})})},n.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Ct.Abort))},n.prototype.table=function(e){var t=this._memoizedTables||(this._memoizedTables={});if(Fo(t,e))return t[e];var r=this.schema[e];if(!r)throw new Ct.NotFound("Table "+e+" not part of transaction");var i=new this.db.Table(e,r,this);return i.core=this.db.core.table(e),t[e]=i,i},n}();function A8(n){return Ig(T8.prototype,function(t,r,i,o,s){var a=this;this.db=n,this.mode=t,this.storeNames=r,this.schema=i,this.chromeTransactionDurability=o,this.idbtrans=null,this.on=Lg(this,"complete","error","abort"),this.parent=s||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new ut(function(l,c){a._resolve=l,a._reject=c}),this._completion.then(function(){a.active=!1,a.on.complete.fire()},function(l){var c=a.active;return a.active=!1,a.on.error.fire(l),a.parent?a.parent._reject(l):c&&a.idbtrans&&a.idbtrans.abort(),Ur(l)})})}function DM(n,e,t,r,i,o,s){return{name:n,keyPath:e,unique:t,multi:r,auto:i,compound:o,src:(t&&!s?"&":"")+(r?"*":"")+(i?"++":"")+X3(e)}}function X3(n){return typeof n=="string"?n:n?"["+[].join.call(n,"+")+"]":""}function K3(n,e,t){return{name:n,primKey:e,indexes:t,mappedClass:null,idxByName:m3(t,function(r){return[r.name,r]})}}function C8(n){return n.length===1?n[0]:n}var Fg=function(n){try{return n.only([[]]),Fg=function(){return[[]]},[[]]}catch{return Fg=function(){return Bc},Bc}};function OM(n){return n==null?function(){}:typeof n=="string"?P8(n):function(e){return Ia(e,n)}}function P8(n){var e=n.split(".");return e.length===1?function(t){return t[n]}:function(t){return Ia(t,n)}}function Y3(n){return[].slice.call(n)}var R8=0;function kg(n){return n==null?":id":typeof n=="string"?n:"["+n.join("+")+"]"}function L8(n,e,t){function r(v,p){var g=Y3(v.objectStoreNames);return{schema:{name:v.name,tables:g.map(function(y){return p.objectStore(y)}).map(function(y){var S=y.keyPath,M=y.autoIncrement,x=yi(S),_=S==null,T={},E={name:y.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:_,compound:x,keyPath:S,autoIncrement:M,unique:!0,extractKey:OM(S)},indexes:Y3(y.indexNames).map(function(C){return y.index(C)}).map(function(C){var I=C.name,R=C.unique,D=C.multiEntry,k=C.keyPath,U=yi(k),B={name:I,compound:U,keyPath:k,unique:R,multiEntry:D,extractKey:OM(k)};return T[kg(k)]=B,B}),getIndexByKeyPath:function(C){return T[kg(C)]}};return T[":id"]=E.primaryKey,S!=null&&(T[kg(S)]=E.primaryKey),E})},hasGetAll:g.length>0&&"getAll"in p.objectStore(g[0])&&!(typeof navigator!="undefined"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}function i(v){if(v.type===3)return null;if(v.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var p=v.lower,g=v.upper,y=v.lowerOpen,S=v.upperOpen,M=p===void 0?g===void 0?null:e.upperBound(g,!!S):g===void 0?e.lowerBound(p,!!y):e.bound(p,g,!!y,!!S);return M}function o(v){var p=v.name;function g(M){var x=M.trans,_=M.type,T=M.keys,E=M.values,C=M.range;return new Promise(function(I,R){I=Vn(I);var D=x.objectStore(p),k=D.keyPath==null,U=_==="put"||_==="add";if(!U&&_!=="delete"&&_!=="deleteRange")throw new Error("Invalid operation type: "+_);var B=(T||E||{length:1}).length;if(T&&E&&T.length!==E.length)throw new Error("Given keys array must have same length as given values array.");if(B===0)return I({numFailures:0,failures:{},results:[],lastResult:void 0});var $,K=[],ie=[],Q=0,re=function(me){++Q,Dg(me)};if(_==="deleteRange"){if(C.type===4)return I({numFailures:Q,failures:ie,results:[],lastResult:void 0});C.type===3?K.push($=D.clear()):K.push($=D.delete(i(C)))}else{var ue=U?k?[E,T]:[E,null]:[T,null],Pe=ue[0],Ue=ue[1];if(U)for(var Ve=0;Ve<B;++Ve)K.push($=Ue&&Ue[Ve]!==void 0?D[_](Pe[Ve],Ue[Ve]):D[_](Pe[Ve])),$.onerror=re;else for(var Ve=0;Ve<B;++Ve)K.push($=D[_](Pe[Ve])),$.onerror=re}var te=function(me){var J=me.target.result;K.forEach(function(V,j){return V.error!=null&&(ie[j]=V.error)}),I({numFailures:Q,failures:ie,results:_==="delete"?T:K.map(function(V){return V.result}),lastResult:J})};$.onerror=function(me){re(me),te(me)},$.onsuccess=te})}function y(M){var x=M.trans,_=M.values,T=M.query,E=M.reverse,C=M.unique;return new Promise(function(I,R){I=Vn(I);var D=T.index,k=T.range,U=x.objectStore(p),B=D.isPrimaryKey?U:U.index(D.name),$=E?C?"prevunique":"prev":C?"nextunique":"next",K=_||!("openKeyCursor"in B)?B.openCursor(i(k),$):B.openKeyCursor(i(k),$);K.onerror=Fs(R),K.onsuccess=Vn(function(ie){var Q=K.result;if(!Q){I(null);return}Q.___id=++R8,Q.done=!1;var re=Q.continue.bind(Q),ue=Q.continuePrimaryKey;ue&&(ue=ue.bind(Q));var Pe=Q.advance.bind(Q),Ue=function(){throw new Error("Cursor not started")},Ve=function(){throw new Error("Cursor not stopped")};Q.trans=x,Q.stop=Q.continue=Q.continuePrimaryKey=Q.advance=Ue,Q.fail=Vn(R),Q.next=function(){var te=this,me=1;return this.start(function(){return me--?te.continue():te.stop()}).then(function(){return te})},Q.start=function(te){var me=new Promise(function(V,j){V=Vn(V),K.onerror=Fs(j),Q.fail=j,Q.stop=function(Y){Q.stop=Q.continue=Q.continuePrimaryKey=Q.advance=Ve,V(Y)}}),J=function(){if(K.result)try{te()}catch(V){Q.fail(V)}else Q.done=!0,Q.start=function(){throw new Error("Cursor behind last entry")},Q.stop()};return K.onsuccess=Vn(function(V){K.onsuccess=J,J()}),Q.continue=re,Q.continuePrimaryKey=ue,Q.advance=Pe,J(),me},I(Q)},R)})}function S(M){return function(x){return new Promise(function(_,T){_=Vn(_);var E=x.trans,C=x.values,I=x.limit,R=x.query,D=I===1/0?void 0:I,k=R.index,U=R.range,B=E.objectStore(p),$=k.isPrimaryKey?B:B.index(k.name),K=i(U);if(I===0)return _({result:[]});if(M){var ie=C?$.getAll(K,D):$.getAllKeys(K,D);ie.onsuccess=function(Pe){return _({result:Pe.target.result})},ie.onerror=Fs(T)}else{var Q=0,re=C||!("openKeyCursor"in $)?$.openCursor(K):$.openKeyCursor(K),ue=[];re.onsuccess=function(Pe){var Ue=re.result;if(!Ue)return _({result:ue});if(ue.push(C?Ue.value:Ue.primaryKey),++Q===I)return _({result:ue});Ue.continue()},re.onerror=Fs(T)}})}}return{name:p,schema:v,mutate:g,getMany:function(M){var x=M.trans,_=M.keys;return new Promise(function(T,E){T=Vn(T);for(var C=x.objectStore(p),I=_.length,R=new Array(I),D=0,k=0,U,B=function(Q){var re=Q.target;(R[re._pos]=re.result)!=null,++k===D&&T(R)},$=Fs(E),K=0;K<I;++K){var ie=_[K];ie!=null&&(U=C.get(_[K]),U._pos=K,U.onsuccess=B,U.onerror=$,++D)}D===0&&T(R)})},get:function(M){var x=M.trans,_=M.key;return new Promise(function(T,E){T=Vn(T);var C=x.objectStore(p),I=C.get(_);I.onsuccess=function(R){return T(R.target.result)},I.onerror=Fs(E)})},query:S(l),openCursor:y,count:function(M){var x=M.query,_=M.trans,T=x.index,E=x.range;return new Promise(function(C,I){var R=_.objectStore(p),D=T.isPrimaryKey?R:R.index(T.name),k=i(E),U=k?D.count(k):D.count();U.onsuccess=Vn(function(B){return C(B.target.result)}),U.onerror=Fs(I)})}}}var s=r(n,t),a=s.schema,l=s.hasGetAll,c=a.tables.map(function(v){return o(v)}),m={};return c.forEach(function(v){return m[v.name]=v}),{stack:"dbcore",transaction:n.transaction.bind(n),table:function(v){var p=m[v];if(!p)throw new Error("Table '"+v+"' not found");return m[v]},MIN_KEY:-1/0,MAX_KEY:Fg(e),schema:a}}function I8(n,e){return e.reduce(function(t,r){var i=r.create;return nn(nn({},t),i(t))},n)}function D8(n,e,t,r){var i=t.IDBKeyRange;t.indexedDB;var o=I8(L8(e,i,r),n.dbcore);return{dbcore:o}}function FM(n,e){var t=n._novip,r=e.db,i=D8(t._middlewares,r,t._deps,e);t.core=i.dbcore,t.tables.forEach(function(o){var s=o.name;t.core.schema.tables.some(function(a){return a.name===s})&&(o.core=t.core.table(s),t[s]instanceof t.Table&&(t[s].core=o.core))})}function Ux(n,e,t,r){var i=n._novip;t.forEach(function(o){var s=r[o];e.forEach(function(a){var l=sM(a,o);(!l||"value"in l&&l.value===void 0)&&(a===i.Transaction.prototype||a instanceof i.Transaction?La(a,o,{get:function(){return this.table(o)},set:function(c){d3(this,o,{value:c,writable:!0,configurable:!0,enumerable:!0})}}):a[o]=new i.Table(o,s))})})}function kM(n,e){var t=n._novip;e.forEach(function(r){for(var i in r)r[i]instanceof t.Table&&delete r[i]})}function O8(n,e){return n._cfg.version-e._cfg.version}function F8(n,e,t,r){var i=n._dbSchema,o=n._createTransaction("readwrite",n._storeNames,i);o.create(t),o._completion.catch(r);var s=o._reject.bind(o),a=_t.transless||_t;$l(function(){_t.trans=o,_t.transless=a,e===0?(xr(i).forEach(function(l){NM(t,l,i[l].primKey,i[l].indexes)}),FM(n,t),ut.follow(function(){return n.on.populate.fire(o)}).catch(s)):k8(n,e,o,t).catch(s)})}function k8(n,e,t,r){var i=n._novip,o=[],s=i._versions,a=i._dbSchema=zM(i,i.idbdb,r),l=!1,c=s.filter(function(v){return v._cfg.version>=e});c.forEach(function(v){o.push(function(){var p=a,g=v._cfg.dbschema;UM(i,p,r),UM(i,g,r),a=i._dbSchema=g;var y=$3(p,g);y.add.forEach(function(E){NM(r,E[0],E[1].primKey,E[1].indexes)}),y.change.forEach(function(E){if(E.recreate)throw new Ct.Upgrade("Not yet support for changing primary key");var C=r.objectStore(E.name);E.add.forEach(function(I){return BM(C,I)}),E.change.forEach(function(I){C.deleteIndex(I.name),BM(C,I)}),E.del.forEach(function(I){return C.deleteIndex(I)})});var S=v._cfg.contentUpgrade;if(S&&v._cfg.version>e){FM(i,r),t._memoizedTables={},l=!0;var M=g3(g);y.del.forEach(function(E){M[E]=p[E]}),kM(i,[i.Transaction.prototype]),Ux(i,[i.Transaction.prototype],xr(M),M),t.schema=M;var x=cM(S);x&&_h();var _,T=ut.follow(function(){if(_=S(t),_&&x){var E=Oa.bind(null,null);_.then(E,E)}});return _&&typeof _.then=="function"?ut.resolve(_):T.then(function(){return _})}}),o.push(function(p){if(!l||!f8){var g=v._cfg.dbschema;B8(g,p)}kM(i,[i.Transaction.prototype]),Ux(i,[i.Transaction.prototype],i._storeNames,i._dbSchema),t.schema=i._dbSchema})});function m(){return o.length?ut.resolve(o.shift()(t.idbtrans)).then(m):ut.resolve()}return m().then(function(){N8(a,r)})}function $3(n,e){var t={del:[],add:[],change:[]},r;for(r in n)e[r]||t.del.push(r);for(r in e){var i=n[r],o=e[r];if(!i)t.add.push([r,o]);else{var s={name:r,def:o,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(o.primKey.keyPath||"")||i.primKey.auto!==o.primKey.auto&&!Ox)s.recreate=!0,t.change.push(s);else{var a=i.idxByName,l=o.idxByName,c=void 0;for(c in a)l[c]||s.del.push(c);for(c in l){var m=a[c],v=l[c];m?m.src!==v.src&&s.change.push(v):s.add.push(v)}(s.del.length>0||s.add.length>0||s.change.length>0)&&t.change.push(s)}}}return t}function NM(n,e,t,r){var i=n.db.createObjectStore(e,t.keyPath?{keyPath:t.keyPath,autoIncrement:t.auto}:{autoIncrement:t.auto});return r.forEach(function(o){return BM(i,o)}),i}function N8(n,e){xr(n).forEach(function(t){e.db.objectStoreNames.contains(t)||NM(e,t,n[t].primKey,n[t].indexes)})}function B8(n,e){[].slice.call(e.db.objectStoreNames).forEach(function(t){return n[t]==null&&e.db.deleteObjectStore(t)})}function BM(n,e){n.createIndex(e.name,e.keyPath,{unique:e.unique,multiEntry:e.multi})}function zM(n,e,t){var r={},i=_x(e.objectStoreNames,0);return i.forEach(function(o){for(var s=t.objectStore(o),a=s.keyPath,l=DM(X3(a),a||"",!1,!1,!!s.autoIncrement,a&&typeof a!="string",!0),c=[],m=0;m<s.indexNames.length;++m){var v=s.index(s.indexNames[m]);a=v.keyPath;var p=DM(v.name,a,!!v.unique,!!v.multiEntry,!1,a&&typeof a!="string",!1);c.push(p)}r[o]=K3(o,l,c)}),r}function z8(n,e,t){var r=n._novip;r.verno=e.version/10;var i=r._dbSchema=zM(r,e,t);r._storeNames=_x(e.objectStoreNames,0),Ux(r,[r._allTables],xr(i),i)}function U8(n,e){var t=zM(n,n.idbdb,e),r=$3(t,n._dbSchema);return!(r.add.length||r.change.some(function(i){return i.add.length||i.change.length}))}function UM(n,e,t){for(var r=n._novip,i=t.db.objectStoreNames,o=0;o<i.length;++o){var s=i[o],a=t.objectStore(s);r._hasGetAll="getAll"in a;for(var l=0;l<a.indexNames.length;++l){var c=a.indexNames[l],m=a.index(c).keyPath,v=typeof m=="string"?m:"["+_x(m).join("+")+"]";if(e[s]){var p=e[s].idxByName[v];p&&(p.name=c,delete e[s].idxByName[v],e[s].idxByName[c]=p)}}}typeof navigator!="undefined"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&Fn.WorkerGlobalScope&&Fn instanceof Fn.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(r._hasGetAll=!1)}function V8(n){return n.split(",").map(function(e,t){e=e.trim();var r=e.replace(/([&*]|\+\+)/g,""),i=/^\[/.test(r)?r.match(/^\[(.*)\]$/)[1].split("+"):r;return DM(r,i||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),yi(i),t===0)})}var H8=function(){function n(){}return n.prototype._parseStoresSpec=function(e,t){xr(e).forEach(function(r){if(e[r]!==null){var i=V8(e[r]),o=i.shift();if(o.multi)throw new Ct.Schema("Primary key cannot be multi-valued");i.forEach(function(s){if(s.auto)throw new Ct.Schema("Only primary key can be marked as autoIncrement (++)");if(!s.keyPath)throw new Ct.Schema("Index must have a name and cannot be an empty string")}),t[r]=K3(r,o,i)}})},n.prototype.stores=function(e){var t=this.db;this._cfg.storesSource=this._cfg.storesSource?Oi(this._cfg.storesSource,e):e;var r=t._versions,i={},o={};return r.forEach(function(s){Oi(i,s._cfg.storesSource),o=s._cfg.dbschema={},s._parseStoresSpec(i,o)}),t._dbSchema=o,kM(t,[t._allTables,t,t.Transaction.prototype]),Ux(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],xr(o),o),t._storeNames=xr(o),this},n.prototype.upgrade=function(e){return this._cfg.contentUpgrade=hM(this._cfg.contentUpgrade||En,e),this},n}();function G8(n){return Ig(H8.prototype,function(t){this.db=n,this._cfg={version:t,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}function VM(n,e){var t=n._dbNamesDB;return t||(t=n._dbNamesDB=new Hx(Fx,{addons:[],indexedDB:n,IDBKeyRange:e}),t.version(1).stores({dbnames:"name"})),t.table("dbnames")}function HM(n){return n&&typeof n.databases=="function"}function W8(n){var e=n.indexedDB,t=n.IDBKeyRange;return HM(e)?Promise.resolve(e.databases()).then(function(r){return r.map(function(i){return i.name}).filter(function(i){return i!==Fx})}):VM(e,t).toCollection().primaryKeys()}function j8(n,e){var t=n.indexedDB,r=n.IDBKeyRange;!HM(t)&&e!==Fx&&VM(t,r).put({name:e}).catch(En)}function q8(n,e){var t=n.indexedDB,r=n.IDBKeyRange;!HM(t)&&e!==Fx&&VM(t,r).delete(e).catch(En)}function GM(n){return $l(function(){return _t.letThrough=!0,n()})}function X8(){var n=!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent);if(!n||!indexedDB.databases)return Promise.resolve();var e;return new Promise(function(t){var r=function(){return indexedDB.databases().finally(t)};e=setInterval(r,100),r()}).finally(function(){return clearInterval(e)})}function K8(n){var e=n._state,t=n._deps.indexedDB;if(e.isBeingOpened||n.idbdb)return e.dbReadyPromise.then(function(){return e.dbOpenError?Ur(e.dbOpenError):n});Os&&(e.openCanceller._stackHolder=Oc()),e.isBeingOpened=!0,e.dbOpenError=null,e.openComplete=!1;var r=e.openCanceller;function i(){if(e.openCanceller!==r)throw new Ct.DatabaseClosed("db.open() was cancelled")}var o=e.dbReadyResolve,s=null,a=!1;return ut.race([r,(typeof navigator=="undefined"?ut.resolve():X8()).then(function(){return new ut(function(l,c){if(i(),!t)throw new Ct.MissingAPI;var m=n.name,v=e.autoSchema?t.open(m):t.open(m,Math.round(n.verno*10));if(!v)throw new Ct.MissingAPI;v.onerror=Fs(c),v.onblocked=Vn(n._fireOnBlocked),v.onupgradeneeded=Vn(function(p){if(s=v.transaction,e.autoSchema&&!n._options.allowEmptyDB){v.onerror=Dg,s.abort(),v.result.close();var g=t.deleteDatabase(m);g.onsuccess=g.onerror=Vn(function(){c(new Ct.NoSuchDatabase("Database "+m+" doesnt exist"))})}else{s.onerror=Fs(c);var y=p.oldVersion>Math.pow(2,62)?0:p.oldVersion;a=y<1,n._novip.idbdb=v.result,F8(n,y/10,s,c)}},c),v.onsuccess=Vn(function(){s=null;var p=n._novip.idbdb=v.result,g=_x(p.objectStoreNames);if(g.length>0)try{var y=p.transaction(C8(g),"readonly");e.autoSchema?z8(n,p,y):(UM(n,n._dbSchema,y),U8(n,y)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),FM(n,y)}catch{}Rg.push(n),p.onversionchange=Vn(function(S){e.vcFired=!0,n.on("versionchange").fire(S)}),p.onclose=Vn(function(S){n.on("close").fire(S)}),a&&j8(n._deps,m),l()},c)})})]).then(function(){return i(),e.onReadyBeingFired=[],ut.resolve(GM(function(){return n.on.ready.fire(n.vip)})).then(function l(){if(e.onReadyBeingFired.length>0){var c=e.onReadyBeingFired.reduce(hM,En);return e.onReadyBeingFired=[],ut.resolve(GM(function(){return c(n.vip)})).then(l)}})}).finally(function(){e.onReadyBeingFired=null,e.isBeingOpened=!1}).then(function(){return n}).catch(function(l){e.dbOpenError=l;try{s&&s.abort()}catch{}return r===e.openCanceller&&n._close(),Ur(l)}).finally(function(){e.openComplete=!0,o()})}function WM(n){var e=function(s){return n.next(s)},t=function(s){return n.throw(s)},r=o(e),i=o(t);function o(s){return function(a){var l=s(a),c=l.value;return l.done?c:!c||typeof c.then!="function"?yi(c)?Promise.all(c).then(r,i):r(c):c.then(r,i)}}return o(e)()}function Y8(n,e,t){var r=arguments.length;if(r<2)throw new Ct.InvalidArgument("Too few arguments");for(var i=new Array(r-1);--r;)i[r-1]=arguments[r];t=i.pop();var o=v3(i);return[n,o,t]}function $8(n,e,t,r,i){return ut.resolve().then(function(){var o=_t.transless||_t,s=n._createTransaction(e,t,n._dbSchema,r),a={trans:s,transless:o};r?s.idbtrans=r.idbtrans:s.create();var l=cM(i);l&&_h();var c,m=ut.follow(function(){if(c=i.call(s,s),c)if(l){var v=Oa.bind(null,null);c.then(v,v)}else typeof c.next=="function"&&typeof c.throw=="function"&&(c=WM(c))},a);return(c&&typeof c.then=="function"?ut.resolve(c).then(function(v){return s.active?v:Ur(new Ct.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):m.then(function(){return c})).then(function(v){return r&&s._resolve(),s._completion.then(function(){return v})}).catch(function(v){return s._reject(v),Ur(v)})})}function Vx(n,e,t){for(var r=yi(n)?n.slice():[n],i=0;i<t;++i)r.push(e);return r}function Z8(n){return nn(nn({},n),{table:function(e){var t=n.table(e),r=t.schema,i={},o=[];function s(S,M,x){var _=kg(S),T=i[_]=i[_]||[],E=S==null?0:typeof S=="string"?1:S.length,C=M>0,I=nn(nn({},x),{isVirtual:C,keyTail:M,keyLength:E,extractKey:OM(S),unique:!C&&x.unique});if(T.push(I),I.isPrimaryKey||o.push(I),E>1){var R=E===2?S[0]:S.slice(0,E-1);s(R,M+1,x)}return T.sort(function(D,k){return D.keyTail-k.keyTail}),I}var a=s(r.primaryKey.keyPath,0,r.primaryKey);i[":id"]=[a];for(var l=0,c=r.indexes;l<c.length;l++){var m=c[l];s(m.keyPath,0,m)}function v(S){var M=i[kg(S)];return M&&M[0]}function p(S,M){return{type:S.type===1?2:S.type,lower:Vx(S.lower,S.lowerOpen?n.MAX_KEY:n.MIN_KEY,M),lowerOpen:!0,upper:Vx(S.upper,S.upperOpen?n.MIN_KEY:n.MAX_KEY,M),upperOpen:!0}}function g(S){var M=S.query.index;return M.isVirtual?nn(nn({},S),{query:{index:M,range:p(S.query.range,M.keyTail)}}):S}var y=nn(nn({},t),{schema:nn(nn({},r),{primaryKey:a,indexes:o,getIndexByKeyPath:v}),count:function(S){return t.count(g(S))},query:function(S){return t.query(g(S))},openCursor:function(S){var M=S.query.index,x=M.keyTail,_=M.isVirtual,T=M.keyLength;if(!_)return t.openCursor(S);function E(C){function I(D){D!=null?C.continue(Vx(D,S.reverse?n.MAX_KEY:n.MIN_KEY,x)):S.unique?C.continue(C.key.slice(0,T).concat(S.reverse?n.MIN_KEY:n.MAX_KEY,x)):C.continue()}var R=Object.create(C,{continue:{value:I},continuePrimaryKey:{value:function(D,k){C.continuePrimaryKey(Vx(D,n.MAX_KEY,x),k)}},primaryKey:{get:function(){return C.primaryKey}},key:{get:function(){var D=C.key;return T===1?D[0]:D.slice(0,T)}},value:{get:function(){return C.value}}});return R}return t.openCursor(g(S)).then(function(C){return C&&E(C)})}});return y}})}var J8={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:Z8};function jM(n,e,t,r){return t=t||{},r=r||"",xr(n).forEach(function(i){if(!Fo(e,i))t[r+i]=void 0;else{var o=n[i],s=e[i];if(typeof o=="object"&&typeof s=="object"&&o&&s){var a=lM(o),l=lM(s);a!==l?t[r+i]=e[i]:a==="Object"?jM(o,s,t,r+i+"."):o!==s&&(t[r+i]=e[i])}else o!==s&&(t[r+i]=e[i])}}),xr(e).forEach(function(i){Fo(n,i)||(t[r+i]=e[i])}),t}function Q8(n,e){return e.type==="delete"?e.keys:e.keys||e.values.map(n.extractKey)}var e9={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(n){return nn(nn({},n),{table:function(e){var t=n.table(e),r=t.schema.primaryKey,i=nn(nn({},t),{mutate:function(o){var s=_t.trans,a=s.table(e).hook,l=a.deleting,c=a.creating,m=a.updating;switch(o.type){case"add":if(c.fire===En)break;return s._promise("readwrite",function(){return v(o)},!0);case"put":if(c.fire===En&&m.fire===En)break;return s._promise("readwrite",function(){return v(o)},!0);case"delete":if(l.fire===En)break;return s._promise("readwrite",function(){return v(o)},!0);case"deleteRange":if(l.fire===En)break;return s._promise("readwrite",function(){return p(o)},!0)}return t.mutate(o);function v(y){var S=_t.trans,M=y.keys||Q8(r,y);if(!M)throw new Error("Keys missing");return y=y.type==="add"||y.type==="put"?nn(nn({},y),{keys:M}):nn({},y),y.type!=="delete"&&(y.values=oM([],y.values,!0)),y.keys&&(y.keys=oM([],y.keys,!0)),t9(t,y,M).then(function(x){var _=M.map(function(T,E){var C=x[E],I={onerror:null,onsuccess:null};if(y.type==="delete")l.fire.call(I,T,C,S);else if(y.type==="add"||C===void 0){var R=c.fire.call(I,T,y.values[E],S);T==null&&R!=null&&(T=R,y.keys[E]=T,r.outbound||ns(y.values[E],r.keyPath,T))}else{var D=jM(C,y.values[E]),k=m.fire.call(I,D,T,C,S);if(k){var U=y.values[E];Object.keys(k).forEach(function(B){Fo(U,B)?U[B]=k[B]:ns(U,B,k[B])})}}return I});return t.mutate(y).then(function(T){for(var E=T.failures,C=T.results,I=T.numFailures,R=T.lastResult,D=0;D<M.length;++D){var k=C?C[D]:M[D],U=_[D];k==null?U.onerror&&U.onerror(E[D]):U.onsuccess&&U.onsuccess(y.type==="put"&&x[D]?y.values[D]:k)}return{failures:E,results:C,numFailures:I,lastResult:R}}).catch(function(T){return _.forEach(function(E){return E.onerror&&E.onerror(T)}),Promise.reject(T)})})}function p(y){return g(y.trans,y.range,1e4)}function g(y,S,M){return t.query({trans:y,values:!1,query:{index:r,range:S},limit:M}).then(function(x){var _=x.result;return v({type:"delete",keys:_,trans:y}).then(function(T){return T.numFailures>0?Promise.reject(T.failures[0]):_.length<M?{failures:[],numFailures:0,lastResult:void 0}:g(y,nn(nn({},S),{lower:_[_.length-1],lowerOpen:!0}),M)})})}}});return i}})}};function t9(n,e,t){return e.type==="add"?Promise.resolve([]):n.getMany({trans:e.trans,keys:t,cache:"immutable"})}function Z3(n,e,t){try{if(!e||e.keys.length<n.length)return null;for(var r=[],i=0,o=0;i<e.keys.length&&o<n.length;++i)Fi(e.keys[i],n[o])===0&&(r.push(t?Sg(e.values[i]):e.values[i]),++o);return r.length===n.length?r:null}catch{return null}}var n9={stack:"dbcore",level:-1,create:function(n){return{table:function(e){var t=n.table(e);return nn(nn({},t),{getMany:function(r){if(!r.cache)return t.getMany(r);var i=Z3(r.keys,r.trans._cache,r.cache==="clone");return i?ut.resolve(i):t.getMany(r).then(function(o){return r.trans._cache={keys:r.keys,values:r.cache==="clone"?Sg(o):o},o})},mutate:function(r){return r.type!=="add"&&(r.trans._cache=null),t.mutate(r)}})}}}},qM;function XM(n){return!("from"in n)}var ks=function(n,e){if(this)Oi(this,arguments.length?{d:1,from:n,to:arguments.length>1?e:n}:{d:0});else{var t=new ks;return n&&"d"in n&&Oi(t,n),t}};mh(ks.prototype,(qM={add:function(n){return Bg(this,n),this},addKey:function(n){return Ng(this,n,n),this},addKeys:function(n){var e=this;return n.forEach(function(t){return Ng(e,t,t)}),this}},qM[uM]=function(){return KM(this)},qM));function Ng(n,e,t){var r=Fi(e,t);if(!isNaN(r)){if(r>0)throw RangeError();if(XM(n))return Oi(n,{from:e,to:t,d:1});var i=n.l,o=n.r;if(Fi(t,n.from)<0)return i?Ng(i,e,t):n.l={from:e,to:t,d:1,l:null,r:null},Q3(n);if(Fi(e,n.to)>0)return o?Ng(o,e,t):n.r={from:e,to:t,d:1,l:null,r:null},Q3(n);Fi(e,n.from)<0&&(n.from=e,n.l=null,n.d=o?o.d+1:1),Fi(t,n.to)>0&&(n.to=t,n.r=null,n.d=n.l?n.l.d+1:1);var s=!n.r;i&&!n.l&&Bg(n,i),o&&s&&Bg(n,o)}}function Bg(n,e){function t(r,i){var o=i.from,s=i.to,a=i.l,l=i.r;Ng(r,o,s),a&&t(r,a),l&&t(r,l)}XM(e)||t(n,e)}function J3(n,e){var t=KM(e),r=t.next();if(r.done)return!1;for(var i=r.value,o=KM(n),s=o.next(i.from),a=s.value;!r.done&&!s.done;){if(Fi(a.from,i.to)<=0&&Fi(a.to,i.from)>=0)return!0;Fi(i.from,a.from)<0?i=(r=t.next(a.from)).value:a=(s=o.next(i.from)).value}return!1}function KM(n){var e=XM(n)?null:{s:0,n};return{next:function(t){for(var r=arguments.length>0;e;)switch(e.s){case 0:if(e.s=1,r)for(;e.n.l&&Fi(t,e.n.from)<0;)e={up:e,n:e.n.l,s:1};else for(;e.n.l;)e={up:e,n:e.n.l,s:1};case 1:if(e.s=2,!r||Fi(t,e.n.to)<=0)return{value:e.n,done:!1};case 2:if(e.n.r){e.s=3,e={up:e,n:e.n.r,s:0};continue}case 3:e=e.up}return{done:!0}}}}function Q3(n){var e,t,r=(((e=n.r)===null||e===void 0?void 0:e.d)||0)-(((t=n.l)===null||t===void 0?void 0:t.d)||0),i=r>1?"r":r<-1?"l":"";if(i){var o=i==="r"?"l":"r",s=nn({},n),a=n[i];n.from=a.from,n.to=a.to,n[i]=a[i],s[i]=a[o],n[o]=s,s.d=eI(s)}n.d=eI(n)}function eI(n){var e=n.r,t=n.l;return(e?t?Math.max(e.d,t.d):e.d:t?t.d:0)+1}var r9={stack:"dbcore",level:0,create:function(n){var e=n.schema.name,t=new ks(n.MIN_KEY,n.MAX_KEY);return nn(nn({},n),{table:function(r){var i=n.table(r),o=i.schema,s=o.primaryKey,a=s.extractKey,l=s.outbound,c=nn(nn({},i),{mutate:function(p){var g=p.trans,y=g.mutatedParts||(g.mutatedParts={}),S=function(R){var D="idb://"+e+"/"+r+"/"+R;return y[D]||(y[D]=new ks)},M=S(""),x=S(":dels"),_=p.type,T=p.type==="deleteRange"?[p.range]:p.type==="delete"?[p.keys]:p.values.length<50?[[],p.values]:[],E=T[0],C=T[1],I=p.trans._cache;return i.mutate(p).then(function(R){if(yi(E)){_!=="delete"&&(E=R.results),M.addKeys(E);var D=Z3(E,I);!D&&_!=="add"&&x.addKeys(E),(D||C)&&i9(S,o,D,C)}else if(E){var k={from:E.lower,to:E.upper};x.add(k),M.add(k)}else M.add(t),x.add(t),o.indexes.forEach(function(U){return S(U.name).add(t)});return R})}}),m=function(p){var g,y,S=p.query,M=S.index,x=S.range;return[M,new ks((g=x.lower)!==null&&g!==void 0?g:n.MIN_KEY,(y=x.upper)!==null&&y!==void 0?y:n.MAX_KEY)]},v={get:function(p){return[s,new ks(p.key)]},getMany:function(p){return[s,new ks().addKeys(p.keys)]},count:m,query:m,openCursor:m};return xr(v).forEach(function(p){c[p]=function(g){var y=_t.subscr;if(y){var S=function(I){var R="idb://"+e+"/"+r+"/"+I;return y[R]||(y[R]=new ks)},M=S(""),x=S(":dels"),_=v[p](g),T=_[0],E=_[1];if(S(T.name||"").add(E),!T.isPrimaryKey)if(p==="count")x.add(t);else{var C=p==="query"&&l&&g.values&&i.query(nn(nn({},g),{values:!1}));return i[p].apply(this,arguments).then(function(I){if(p==="query"){if(l&&g.values)return C.then(function(U){var B=U.result;return M.addKeys(B),I});var R=g.values?I.result.map(a):I.result;g.values?M.addKeys(R):x.addKeys(R)}else if(p==="openCursor"){var D=I,k=g.values;return D&&Object.create(D,{key:{get:function(){return x.addKey(D.primaryKey),D.key}},primaryKey:{get:function(){var U=D.primaryKey;return x.addKey(U),U}},value:{get:function(){return k&&M.addKey(D.primaryKey),D.value}}})}return I})}}return i[p].apply(this,arguments)}}),c}})}};function i9(n,e,t,r){function i(o){var s=n(o.name||"");function a(c){return c!=null?o.extractKey(c):null}var l=function(c){return o.multiEntry&&yi(c)?c.forEach(function(m){return s.addKey(m)}):s.addKey(c)};(t||r).forEach(function(c,m){var v=t&&a(t[m]),p=r&&a(r[m]);Fi(v,p)!==0&&(v!=null&&l(v),p!=null&&l(p))})}e.indexes.forEach(i)}var Hx=function(){function n(e,t){var r=this;this._middlewares={},this.verno=0;var i=n.dependencies;this._options=t=nn({addons:n.addons,autoOpen:!0,indexedDB:i.indexedDB,IDBKeyRange:i.IDBKeyRange},t),this._deps={indexedDB:t.indexedDB,IDBKeyRange:t.IDBKeyRange};var o=t.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var s={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:En,dbReadyPromise:null,cancelOpen:En,openCanceller:null,autoSchema:!0};s.dbReadyPromise=new ut(function(a){s.dbReadyResolve=a}),s.openCanceller=new ut(function(a,l){s.cancelOpen=l}),this._state=s,this.name=e,this.on=Lg(this,"populate","blocked","versionchange","close",{ready:[hM,En]}),this.on.ready.subscribe=h3(this.on.ready.subscribe,function(a){return function(l,c){n.vip(function(){var m=r._state;if(m.openComplete)m.dbOpenError||ut.resolve().then(l),c&&a(l);else if(m.onReadyBeingFired)m.onReadyBeingFired.push(l),c&&a(l);else{a(l);var v=r;c||a(function p(){v.on.ready.unsubscribe(l),v.on.ready.unsubscribe(p)})}})}}),this.Collection=x8(this),this.Table=p8(this),this.Transaction=A8(this),this.Version=G8(this),this.WhereClause=E8(this),this.on("versionchange",function(a){a.newVersion>0?console.warn("Another connection wants to upgrade database '"+r.name+"'. Closing db now to resume the upgrade."):console.warn("Another connection wants to delete database '"+r.name+"'. Closing db now to resume the delete request."),r.close()}),this.on("blocked",function(a){!a.newVersion||a.newVersion<a.oldVersion?console.warn("Dexie.delete('"+r.name+"') was blocked"):console.warn("Upgrade '"+r.name+"' blocked by other connection holding version "+a.oldVersion/10)}),this._maxKey=Fg(t.IDBKeyRange),this._createTransaction=function(a,l,c,m){return new r.Transaction(a,l,c,r._options.chromeTransactionDurability,m)},this._fireOnBlocked=function(a){r.on("blocked").fire(a),Rg.filter(function(l){return l.name===r.name&&l!==r&&!l._state.vcFired}).map(function(l){return l.on("versionchange").fire(a)})},this.use(J8),this.use(e9),this.use(r9),this.use(n9),this.vip=Object.create(this,{_vip:{value:!0}}),o.forEach(function(a){return a(r)})}return n.prototype.version=function(e){if(isNaN(e)||e<.1)throw new Ct.Type("Given version is not a positive number");if(e=Math.round(e*10)/10,this.idbdb||this._state.isBeingOpened)throw new Ct.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var t=this._versions,r=t.filter(function(i){return i._cfg.version===e})[0];return r||(r=new this.Version(e),t.push(r),t.sort(O8),r.stores({}),this._state.autoSchema=!1,r)},n.prototype._whenReady=function(e){var t=this;return this.idbdb&&(this._state.openComplete||_t.letThrough||this._vip)?e():new ut(function(r,i){if(t._state.openComplete)return i(new Ct.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._options.autoOpen){i(new Ct.DatabaseClosed);return}t.open().catch(En)}t._state.dbReadyPromise.then(r,i)}).then(e)},n.prototype.use=function(e){var t=e.stack,r=e.create,i=e.level,o=e.name;o&&this.unuse({stack:t,name:o});var s=this._middlewares[t]||(this._middlewares[t]=[]);return s.push({stack:t,create:r,level:i==null?10:i,name:o}),s.sort(function(a,l){return a.level-l.level}),this},n.prototype.unuse=function(e){var t=e.stack,r=e.name,i=e.create;return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter(function(o){return i?o.create!==i:r?o.name!==r:!1})),this},n.prototype.open=function(){return K8(this)},n.prototype._close=function(){var e=this._state,t=Rg.indexOf(this);if(t>=0&&Rg.splice(t,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}e.dbReadyPromise=new ut(function(r){e.dbReadyResolve=r}),e.openCanceller=new ut(function(r,i){e.cancelOpen=i})},n.prototype.close=function(){this._close();var e=this._state;this._options.autoOpen=!1,e.dbOpenError=new Ct.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)},n.prototype.delete=function(){var e=this,t=arguments.length>0,r=this._state;return new ut(function(i,o){var s=function(){e.close();var a=e._deps.indexedDB.deleteDatabase(e.name);a.onsuccess=Vn(function(){q8(e._deps,e.name),i()}),a.onerror=Fs(o),a.onblocked=e._fireOnBlocked};if(t)throw new Ct.InvalidArgument("Arguments not allowed in db.delete()");r.isBeingOpened?r.dbReadyPromise.then(s):s()})},n.prototype.backendDB=function(){return this.idbdb},n.prototype.isOpen=function(){return this.idbdb!==null},n.prototype.hasBeenClosed=function(){var e=this._state.dbOpenError;return e&&e.name==="DatabaseClosed"},n.prototype.hasFailed=function(){return this._state.dbOpenError!==null},n.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(n.prototype,"tables",{get:function(){var e=this;return xr(this._allTables).map(function(t){return e._allTables[t]})},enumerable:!1,configurable:!0}),n.prototype.transaction=function(){var e=Y8.apply(this,arguments);return this._transaction.apply(this,e)},n.prototype._transaction=function(e,t,r){var i=this,o=_t.trans;(!o||o.db!==this||e.indexOf("!")!==-1)&&(o=null);var s=e.indexOf("?")!==-1;e=e.replace("!","").replace("?","");var a,l;try{if(l=t.map(function(m){var v=m instanceof i.Table?m.name:m;if(typeof v!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return v}),e=="r"||e===CM)a=CM;else if(e=="rw"||e==PM)a=PM;else throw new Ct.InvalidArgument("Invalid transaction mode: "+e);if(o){if(o.mode===CM&&a===PM)if(s)o=null;else throw new Ct.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");o&&l.forEach(function(m){if(o&&o.storeNames.indexOf(m)===-1)if(s)o=null;else throw new Ct.SubTransaction("Table "+m+" not included in parent transaction.")}),s&&o&&!o.active&&(o=null)}}catch(m){return o?o._promise(null,function(v,p){p(m)}):Ur(m)}var c=$8.bind(null,this,a,l,o,r);return o?o._promise(a,c,"lock"):_t.trans?wh(_t.transless,function(){return i._whenReady(c)}):this._whenReady(c)},n.prototype.table=function(e){if(!Fo(this._allTables,e))throw new Ct.InvalidTable("Table "+e+" does not exist");return this._allTables[e]},n}(),o9=typeof Symbol!="undefined"&&"observable"in Symbol?Symbol.observable:"@@observable",s9=function(){function n(e){this._subscribe=e}return n.prototype.subscribe=function(e,t,r){return this._subscribe(!e||typeof e=="function"?{next:e,error:t,complete:r}:e)},n.prototype[o9]=function(){return this},n}();function tI(n,e){return xr(e).forEach(function(t){var r=n[t]||(n[t]=new ks);Bg(r,e[t])}),n}function nI(n){return new s9(function(e){var t=cM(n);function r(g){t&&_h();var y=function(){return $l(n,{subscr:g,trans:null})},S=_t.trans?wh(_t.transless,y):y();return t&&S.then(Oa,Oa),S}var i=!1,o={},s={},a={get closed(){return i},unsubscribe:function(){i=!0,eu.storagemutated.unsubscribe(v)}};e.start&&e.start(a);var l=!1,c=!1;function m(){return xr(s).some(function(g){return o[g]&&J3(o[g],s[g])})}var v=function(g){tI(o,g),m()&&p()},p=function(){if(!(l||i)){o={};var g={},y=r(g);c||(eu(Og,v),c=!0),l=!0,Promise.resolve(y).then(function(S){l=!1,!i&&(m()?p():(o={},s=g,e.next&&e.next(S)))},function(S){l=!1,e.error&&e.error(S),a.unsubscribe()})}};return p(),a})}var YM;try{YM={indexedDB:Fn.indexedDB||Fn.mozIndexedDB||Fn.webkitIndexedDB||Fn.msIndexedDB,IDBKeyRange:Fn.IDBKeyRange||Fn.webkitIDBKeyRange}}catch{YM={indexedDB:null,IDBKeyRange:null}}var Uc=Hx;mh(Uc,nn(nn({},Sx),{delete:function(n){var e=new Uc(n,{addons:[]});return e.delete()},exists:function(n){return new Uc(n,{addons:[]}).open().then(function(e){return e.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(n){try{return W8(Uc.dependencies).then(n)}catch{return Ur(new Ct.MissingAPI)}},defineClass:function(){function n(e){Oi(this,e)}return n},ignoreTransaction:function(n){return _t.trans?wh(_t.transless,n):n()},vip:GM,async:function(n){return function(){try{var e=WM(n.apply(this,arguments));return!e||typeof e.then!="function"?ut.resolve(e):e}catch(t){return Ur(t)}}},spawn:function(n,e,t){try{var r=WM(n.apply(t,e||[]));return!r||typeof r.then!="function"?ut.resolve(r):r}catch(i){return Ur(i)}},currentTransaction:{get:function(){return _t.trans||null}},waitFor:function(n,e){var t=ut.resolve(typeof n=="function"?Uc.ignoreTransaction(n):n).timeout(e||6e4);return _t.trans?_t.trans.waitFor(t):t},Promise:ut,debug:{get:function(){return Os},set:function(n){x3(n,n==="dexie"?function(){return!0}:z3)}},derive:gh,extend:Oi,props:mh,override:h3,Events:Lg,on:eu,liveQuery:nI,extendObservabilitySet:tI,getByKeyPath:Ia,setByKeyPath:ns,delByKeyPath:BW,shallowClone:g3,deepClone:Sg,getObjectDiff:jM,cmp:Fi,asap:p3,minKey:AM,addons:[],connections:Rg,errnames:qW,dependencies:YM,semVer:N3,version:N3.split(".").map(function(n){return parseInt(n)}).reduce(function(n,e,t){return n+e/Math.pow(10,t*2)})}));Uc.maxKey=Fg(Uc.dependencies.IDBKeyRange);typeof dispatchEvent!="undefined"&&typeof addEventListener!="undefined"&&(eu(Og,function(n){if(!ka){var e;Ox?(e=document.createEvent("CustomEvent"),e.initCustomEvent(Ql,!0,!0,n)):e=new CustomEvent(Ql,{detail:n}),ka=!0,dispatchEvent(e),ka=!1}}),addEventListener(Ql,function(n){var e=n.detail;ka||Gx(e)}));function Gx(n){var e=ka;try{ka=!0,eu.storagemutated.fire(n)}finally{ka=e}}var ka=!1;if(typeof BroadcastChannel!="undefined"){var rI=new BroadcastChannel(Ql);eu(Og,function(n){ka||rI.postMessage(n)}),rI.onmessage=function(n){n.data&&Gx(n.data)}}else if(typeof self!="undefined"&&typeof navigator!="undefined"){eu(Og,function(n){try{ka||(typeof localStorage!="undefined"&&localStorage.setItem(Ql,JSON.stringify({trig:Math.random(),changedParts:n})),typeof self.clients=="object"&&oM([],self.clients.matchAll({includeUncontrolled:!0}),!0).forEach(function(e){return e.postMessage({type:Ql,changedParts:n})}))}catch{}}),addEventListener("storage",function(n){if(n.key===Ql){var e=JSON.parse(n.newValue);e&&Gx(e.changedParts)}});var iI=self.document&&navigator.serviceWorker;iI&&iI.addEventListener("message",a9)}function a9(n){var e=n.data;e&&e.type===Ql&&Gx(e.changedParts)}ut.rejectionMapper=KW;x3(Os,z3);var l9=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",Dexie:Hx,RangeSet:ks,default:Hx,liveQuery:nI,mergeRanges:Bg,rangesOverlap:J3}),u9=W5(l9);(function(n,e){(function(t,r){r(e,u9,se.exports)})(Fd,function(t,r,i){function o(g){return g&&typeof g=="object"&&"default"in g?g:{default:g}}var s=o(i);/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var a=function(){return a=Object.assign||function(y){for(var S,M=1,x=arguments.length;M<x;M++){S=arguments[M];for(var _ in S)Object.prototype.hasOwnProperty.call(S,_)&&(y[_]=S[_])}return y},a.apply(this,arguments)},l=s.default.useDebugValue,c=s.default.useEffect,m=s.default.useState;function v(g){var y=g.getCurrentValue,S=g.subscribe,M=m(function(){return{getCurrentValue:y,subscribe:S,value:y(),error:null}}),x=M[0],_=M[1];if(x.error)throw x.error;var T=x.value;return(x.getCurrentValue!==y||x.subscribe!==S)&&(T=y(),_({getCurrentValue:y,subscribe:S,value:T,error:null})),l(T),c(function(){var E=!1,C=function(){if(!E){var R=y();_(function(D){return D.getCurrentValue!==y||D.subscribe!==S||D.value===R?D:a(a({},D),{value:R})})}},I=S(C,function(R){return _(function(D){return a(a({},D),{error:R})})});return C(),function(){E=!0,I()}},[y,S]),T}function p(g,y,S){var M=s.default.useState(S),x=M[0],_=M[1],T=s.default.useMemo(function(){var C=x,I=r.liveQuery(g);return{getCurrentValue:function(){return C},subscribe:function(R,D){var k=I.subscribe(function(U){C=U,_(U),R(U)},D);return k.unsubscribe.bind(k)}}},y||[]),E=v(T);return E}t.useLiveQuery=p,Object.defineProperty(t,"__esModule",{value:!0})})})(f3,f3.exports);var Wx,c9=new Uint8Array(16);function f9(){if(!Wx&&(Wx=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Wx))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Wx(c9)}var d9=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function h9(n){return typeof n=="string"&&d9.test(n)}var ni=[];for(var $M=0;$M<256;++$M)ni.push(($M+256).toString(16).substr(1));function p9(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(ni[n[e+0]]+ni[n[e+1]]+ni[n[e+2]]+ni[n[e+3]]+"-"+ni[n[e+4]]+ni[n[e+5]]+"-"+ni[n[e+6]]+ni[n[e+7]]+"-"+ni[n[e+8]]+ni[n[e+9]]+"-"+ni[n[e+10]]+ni[n[e+11]]+ni[n[e+12]]+ni[n[e+13]]+ni[n[e+14]]+ni[n[e+15]]).toLowerCase();if(!h9(t))throw TypeError("Stringified UUID is invalid");return t}function Ure(n,e,t){n=n||{};var r=n.random||(n.rng||f9)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){t=t||0;for(var i=0;i<16;++i)e[t+i]=r[i];return e}return p9(r)}var ZM={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(n,e){(function(){var t,r="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",a="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",c=500,m="__lodash_placeholder__",v=1,p=2,g=4,y=1,S=2,M=1,x=2,_=4,T=8,E=16,C=32,I=64,R=128,D=256,k=512,U=30,B="...",$=800,K=16,ie=1,Q=2,re=3,ue=1/0,Pe=9007199254740991,Ue=17976931348623157e292,Ve=0/0,te=4294967295,me=te-1,J=te>>>1,V=[["ary",R],["bind",M],["bindKey",x],["curry",T],["curryRight",E],["flip",k],["partial",C],["partialRight",I],["rearg",D]],j="[object Arguments]",Y="[object Array]",de="[object AsyncFunction]",ye="[object Boolean]",ge="[object Date]",be="[object DOMException]",De="[object Error]",ee="[object Function]",pe="[object GeneratorFunction]",ve="[object Map]",Le="[object Number]",He="[object Null]",W="[object Object]",G="[object Promise]",xe="[object Proxy]",Ae="[object RegExp]",Te="[object Set]",We="[object String]",Ye="[object Symbol]",et="[object Undefined]",st="[object WeakMap]",it="[object WeakSet]",oe="[object ArrayBuffer]",Xe="[object DataView]",Ne="[object Float32Array]",ct="[object Float64Array]",ot="[object Int8Array]",ae="[object Int16Array]",Ge="[object Int32Array]",at="[object Uint8Array]",It="[object Uint8ClampedArray]",Ot="[object Uint16Array]",Cn="[object Uint32Array]",vr=/\b__p \+= '';/g,al=/\b(__p \+=) '' \+/g,qr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Xr=/&(?:amp|lt|gt|quot|#39);/g,_o=/[&<>"']/g,Df=RegExp(Xr.source),Of=RegExp(_o.source),Iu=/<%-([\s\S]+?)%>/g,ll=/<%([\s\S]+?)%>/g,Du=/<%=([\s\S]+?)%>/g,ul=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ff=/^\w*$/,kf=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,cl=/[\\^$.*+?()[\]{}|]/g,Nf=RegExp(cl.source),X=/^\s+/,we=/\s/,Ie=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Me=/\{\n\/\* \[wrapped with (.+)\] \*/,Be=/,? & /,Et=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,wt=/[()=,{}\[\]\/\s]/,yt=/\\(\\)?/g,Bt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,en=/\w*$/,Gt=/^[-+]0x[0-9a-f]+$/i,jt=/^0b[01]+$/i,dn=/^\[object .+?Constructor\]$/,no=/^0o[0-7]+$/i,qt=/^(?:0|[1-9]\d*)$/,zo=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Yt=/($^)/,Ir=/['\n\r\u2028\u2029\\]/g,Xt="\\ud800-\\udfff",un="\\u0300-\\u036f",Sr="\\ufe20-\\ufe2f",zt="\\u20d0-\\u20ff",Wn=un+Sr+zt,Zn="\\u2700-\\u27bf",Xs="a-z\\xdf-\\xf6\\xf8-\\xff",ai="\\xac\\xb1\\xd7\\xf7",Bf="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",cy="\\u2000-\\u206f",fy=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ou="A-Z\\xc0-\\xd6\\xd8-\\xde",Pp="\\ufe0e\\ufe0f",zf=ai+Bf+cy+fy,Uo="['\u2019]",e1="["+Xt+"]",Fu="["+zf+"]",fn="["+Wn+"]",_s="\\d+",t1="["+Zn+"]",dy="["+Xs+"]",fl="[^"+Xt+zf+_s+Zn+Xs+Ou+"]",Uf="\\ud83c[\\udffb-\\udfff]",Vf="(?:"+fn+"|"+Uf+")",Ks="[^"+Xt+"]",ku="(?:\\ud83c[\\udde6-\\uddff]){2}",dl="[\\ud800-\\udbff][\\udc00-\\udfff]",Mi="["+Ou+"]",hy="\\u200d",py="(?:"+dy+"|"+fl+")",n1="(?:"+Mi+"|"+fl+")",my="(?:"+Uo+"(?:d|ll|m|re|s|t|ve))?",Hf="(?:"+Uo+"(?:D|LL|M|RE|S|T|VE))?",Gf=Vf+"?",gy="["+Pp+"]?",vy="(?:"+hy+"(?:"+[Ks,ku,dl].join("|")+")"+gy+Gf+")*",Rp="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",r1="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Nu=gy+Gf+vy,yy="(?:"+[t1,ku,dl].join("|")+")"+Nu,xy="(?:"+[Ks+fn+"?",fn,ku,dl,e1].join("|")+")",_y=RegExp(Uo,"g"),wy=RegExp(fn,"g"),Bu=RegExp(Uf+"(?="+Uf+")|"+xy+Nu,"g"),i1=RegExp([Mi+"?"+dy+"+"+my+"(?="+[Fu,Mi,"$"].join("|")+")",n1+"+"+Hf+"(?="+[Fu,Mi+py,"$"].join("|")+")",Mi+"?"+py+"+"+my,Mi+"+"+Hf,r1,Rp,_s,yy].join("|"),"g"),Vo=RegExp("["+hy+Xt+Wn+Pp+"]"),Wf=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Lp=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Sy=-1,Ft={};Ft[Ne]=Ft[ct]=Ft[ot]=Ft[ae]=Ft[Ge]=Ft[at]=Ft[It]=Ft[Ot]=Ft[Cn]=!0,Ft[j]=Ft[Y]=Ft[oe]=Ft[ye]=Ft[Xe]=Ft[ge]=Ft[De]=Ft[ee]=Ft[ve]=Ft[Le]=Ft[W]=Ft[Ae]=Ft[Te]=Ft[We]=Ft[st]=!1;var rn={};rn[j]=rn[Y]=rn[oe]=rn[Xe]=rn[ye]=rn[ge]=rn[Ne]=rn[ct]=rn[ot]=rn[ae]=rn[Ge]=rn[ve]=rn[Le]=rn[W]=rn[Ae]=rn[Te]=rn[We]=rn[Ye]=rn[at]=rn[It]=rn[Ot]=rn[Cn]=!0,rn[De]=rn[ee]=rn[st]=!1;var by={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Ho={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},zu={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},zi={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},My=parseFloat,o1=parseInt,Ey=typeof Fd=="object"&&Fd&&Fd.Object===Object&&Fd,Ui=typeof self=="object"&&self&&self.Object===Object&&self,br=Ey||Ui||Function("return this")(),hl=e&&!e.nodeType&&e,Ys=hl&&!0&&n&&!n.nodeType&&n,Vi=Ys&&Ys.exports===hl,pl=Vi&&Ey.process,Kr=function(){try{var ce=Ys&&Ys.require&&Ys.require("util").types;return ce||pl&&pl.binding&&pl.binding("util")}catch{}}(),$s=Kr&&Kr.isArrayBuffer,Uu=Kr&&Kr.isDate,jf=Kr&&Kr.isMap,Ip=Kr&&Kr.isRegExp,qf=Kr&&Kr.isSet,Dp=Kr&&Kr.isTypedArray;function yr(ce,Ce,Se){switch(Se.length){case 0:return ce.call(Ce);case 1:return ce.call(Ce,Se[0]);case 2:return ce.call(Ce,Se[0],Se[1]);case 3:return ce.call(Ce,Se[0],Se[1],Se[2])}return ce.apply(Ce,Se)}function Hi(ce,Ce,Se,nt){for(var Rt=-1,$t=ce==null?0:ce.length;++Rt<$t;){var zn=ce[Rt];Ce(nt,zn,Se(zn),ce)}return nt}function sr(ce,Ce){for(var Se=-1,nt=ce==null?0:ce.length;++Se<nt&&Ce(ce[Se],Se,ce)!==!1;);return ce}function Op(ce,Ce){for(var Se=ce==null?0:ce.length;Se--&&Ce(ce[Se],Se,ce)!==!1;);return ce}function Fp(ce,Ce){for(var Se=-1,nt=ce==null?0:ce.length;++Se<nt;)if(!Ce(ce[Se],Se,ce))return!1;return!0}function Yr(ce,Ce){for(var Se=-1,nt=ce==null?0:ce.length,Rt=0,$t=[];++Se<nt;){var zn=ce[Se];Ce(zn,Se,ce)&&($t[Rt++]=zn)}return $t}function ro(ce,Ce){var Se=ce==null?0:ce.length;return!!Se&&wo(ce,Ce,0)>-1}function Xf(ce,Ce,Se){for(var nt=-1,Rt=ce==null?0:ce.length;++nt<Rt;)if(Se(Ce,ce[nt]))return!0;return!1}function hn(ce,Ce){for(var Se=-1,nt=ce==null?0:ce.length,Rt=Array(nt);++Se<nt;)Rt[Se]=Ce(ce[Se],Se,ce);return Rt}function Go(ce,Ce){for(var Se=-1,nt=Ce.length,Rt=ce.length;++Se<nt;)ce[Rt+Se]=Ce[Se];return ce}function Kf(ce,Ce,Se,nt){var Rt=-1,$t=ce==null?0:ce.length;for(nt&&$t&&(Se=ce[++Rt]);++Rt<$t;)Se=Ce(Se,ce[Rt],Rt,ce);return Se}function Yf(ce,Ce,Se,nt){var Rt=ce==null?0:ce.length;for(nt&&Rt&&(Se=ce[--Rt]);Rt--;)Se=Ce(Se,ce[Rt],Rt,ce);return Se}function ml(ce,Ce){for(var Se=-1,nt=ce==null?0:ce.length;++Se<nt;)if(Ce(ce[Se],Se,ce))return!0;return!1}var Ty=Jf("length");function Ay(ce){return ce.split("")}function Cy(ce){return ce.match(Et)||[]}function $f(ce,Ce,Se){var nt;return Se(ce,function(Rt,$t,zn){if(Ce(Rt,$t,zn))return nt=$t,!1}),nt}function Zs(ce,Ce,Se,nt){for(var Rt=ce.length,$t=Se+(nt?1:-1);nt?$t--:++$t<Rt;)if(Ce(ce[$t],$t,ce))return $t;return-1}function wo(ce,Ce,Se){return Ce===Ce?jn(ce,Ce,Se):Zs(ce,kp,Se)}function Zf(ce,Ce,Se,nt){for(var Rt=Se-1,$t=ce.length;++Rt<$t;)if(nt(ce[Rt],Ce))return Rt;return-1}function kp(ce){return ce!==ce}function Vu(ce,Ce){var Se=ce==null?0:ce.length;return Se?ws(ce,Ce)/Se:Ve}function Jf(ce){return function(Ce){return Ce==null?t:Ce[ce]}}function Js(ce){return function(Ce){return ce==null?t:ce[Ce]}}function Ei(ce,Ce,Se,nt,Rt){return Rt(ce,function($t,zn,pn){Se=nt?(nt=!1,$t):Ce(Se,$t,zn,pn)}),Se}function Hu(ce,Ce){var Se=ce.length;for(ce.sort(Ce);Se--;)ce[Se]=ce[Se].value;return ce}function ws(ce,Ce){for(var Se,nt=-1,Rt=ce.length;++nt<Rt;){var $t=Ce(ce[nt]);$t!==t&&(Se=Se===t?$t:Se+$t)}return Se}function Gi(ce,Ce){for(var Se=-1,nt=Array(ce);++Se<ce;)nt[Se]=Ce(Se);return nt}function Np(ce,Ce){return hn(Ce,function(Se){return[Se,ce[Se]]})}function Qs(ce){return ce&&ce.slice(0,gl(ce)+1).replace(X,"")}function li(ce){return function(Ce){return ce(Ce)}}function Gu(ce,Ce){return hn(Ce,function(Se){return ce[Se]})}function wn(ce,Ce){return ce.has(Ce)}function Wu(ce,Ce){for(var Se=-1,nt=ce.length;++Se<nt&&wo(Ce,ce[Se],0)>-1;);return Se}function So(ce,Ce){for(var Se=ce.length;Se--&&wo(Ce,ce[Se],0)>-1;);return Se}function ea(ce,Ce){for(var Se=ce.length,nt=0;Se--;)ce[Se]===Ce&&++nt;return nt}var bo=Js(by),Py=Js(Ho);function Ry(ce){return"\\"+zi[ce]}function Bp(ce,Ce){return ce==null?t:ce[Ce]}function ta(ce){return Vo.test(ce)}function Qf(ce){return Wf.test(ce)}function zp(ce){for(var Ce,Se=[];!(Ce=ce.next()).done;)Se.push(Ce.value);return Se}function Ss(ce){var Ce=-1,Se=Array(ce.size);return ce.forEach(function(nt,Rt){Se[++Ce]=[Rt,nt]}),Se}function ed(ce,Ce){return function(Se){return ce(Ce(Se))}}function Wi(ce,Ce){for(var Se=-1,nt=ce.length,Rt=0,$t=[];++Se<nt;){var zn=ce[Se];(zn===Ce||zn===m)&&(ce[Se]=m,$t[Rt++]=Se)}return $t}function $r(ce){var Ce=-1,Se=Array(ce.size);return ce.forEach(function(nt){Se[++Ce]=nt}),Se}function ju(ce){var Ce=-1,Se=Array(ce.size);return ce.forEach(function(nt){Se[++Ce]=[nt,nt]}),Se}function jn(ce,Ce,Se){for(var nt=Se-1,Rt=ce.length;++nt<Rt;)if(ce[nt]===Ce)return nt;return-1}function Dr(ce,Ce,Se){for(var nt=Se+1;nt--;)if(ce[nt]===Ce)return nt;return nt}function Bn(ce){return ta(ce)?Up(ce):Ty(ce)}function ui(ce){return ta(ce)?Vp(ce):Ay(ce)}function gl(ce){for(var Ce=ce.length;Ce--&&we.test(ce.charAt(Ce)););return Ce}var ci=Js(zu);function Up(ce){for(var Ce=Bu.lastIndex=0;Bu.test(ce);)++Ce;return Ce}function Vp(ce){return ce.match(Bu)||[]}function na(ce){return ce.match(i1)||[]}var ra=function ce(Ce){Ce=Ce==null?br:Zr.defaults(br.Object(),Ce,Zr.pick(br,Lp));var Se=Ce.Array,nt=Ce.Date,Rt=Ce.Error,$t=Ce.Function,zn=Ce.Math,pn=Ce.Object,vl=Ce.RegExp,Hp=Ce.String,fi=Ce.TypeError,qu=Se.prototype,td=$t.prototype,ia=pn.prototype,Xu=Ce["__core-js_shared__"],Ku=td.toString,on=ia.hasOwnProperty,Ly=0,Gp=function(){var u=/[^.]+$/.exec(Xu&&Xu.keys&&Xu.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}(),nd=ia.toString,Wp=Ku.call(pn),rd=br._,s1=vl("^"+Ku.call(on).replace(cl,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),id=Vi?Ce.Buffer:t,bs=Ce.Symbol,od=Ce.Uint8Array,ji=id?id.allocUnsafe:t,Mr=ed(pn.getPrototypeOf,pn),jp=pn.create,qp=ia.propertyIsEnumerable,Yu=qu.splice,sd=bs?bs.isConcatSpreadable:t,yl=bs?bs.iterator:t,Wo=bs?bs.toStringTag:t,$u=function(){try{var u=pc(pn,"defineProperty");return u({},"",{}),u}catch{}}(),Xp=Ce.clearTimeout!==br.clearTimeout&&Ce.clearTimeout,Iy=nt&&nt.now!==br.Date.now&&nt.now,ad=Ce.setTimeout!==br.setTimeout&&Ce.setTimeout,Zu=zn.ceil,Ju=zn.floor,ld=pn.getOwnPropertySymbols,Dy=id?id.isBuffer:t,Kp=Ce.isFinite,Yp=qu.join,Oy=ed(pn.keys,pn),vn=zn.max,Sn=zn.min,Qu=nt.now,ec=Ce.parseInt,tc=zn.random,ud=qu.reverse,cd=pc(Ce,"DataView"),jo=pc(Ce,"Map"),$p=pc(Ce,"Promise"),xl=pc(Ce,"Set"),oa=pc(Ce,"WeakMap"),sa=pc(pn,"create"),fd=oa&&new oa,aa={},Fy=mc(cd),a1=mc(jo),ky=mc($p),l1=mc(xl),Ny=mc(oa),dd=bs?bs.prototype:t,_l=dd?dd.valueOf:t,Zp=dd?dd.toString:t;function N(u){if(Qn(u)&&!kt(u)&&!(u instanceof Vt)){if(u instanceof Ti)return u;if(on.call(u,"__wrapped__"))return cP(u)}return new Ti(u)}var la=function(){function u(){}return function(h){if(!Kn(h))return{};if(jp)return jp(h);u.prototype=h;var b=new u;return u.prototype=t,b}}();function nc(){}function Ti(u,h){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!h,this.__index__=0,this.__values__=t}N.templateSettings={escape:Iu,evaluate:ll,interpolate:Du,variable:"",imports:{_:N}},N.prototype=nc.prototype,N.prototype.constructor=N,Ti.prototype=la(nc.prototype),Ti.prototype.constructor=Ti;function Vt(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=te,this.__views__=[]}function Jp(){var u=new Vt(this.__wrapped__);return u.__actions__=Tt(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=Tt(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=Tt(this.__views__),u}function By(){if(this.__filtered__){var u=new Vt(this);u.__dir__=-1,u.__filtered__=!0}else u=this.clone(),u.__dir__*=-1;return u}function Qp(){var u=this.__wrapped__.value(),h=this.__dir__,b=kt(u),P=h<0,O=b?u.length:0,z=p4(0,O,this.__views__),Z=z.start,ne=z.end,he=ne-Z,Fe=P?ne:Z-1,ke=this.__iteratees__,ze=ke.length,Ze=0,dt=Sn(he,this.__takeCount__);if(!b||!P&&O==he&&dt==he)return q(u,this.__actions__);var bt=[];e:for(;he--&&Ze<dt;){Fe+=h;for(var Ht=-1,Mt=u[Fe];++Ht<ze;){var Zt=ke[Ht],tn=Zt.iteratee,so=Zt.type,Ri=tn(Mt);if(so==Q)Mt=Ri;else if(!Ri){if(so==ie)continue e;break e}}bt[Ze++]=Mt}return bt}Vt.prototype=la(nc.prototype),Vt.prototype.constructor=Vt;function Ms(u){var h=-1,b=u==null?0:u.length;for(this.clear();++h<b;){var P=u[h];this.set(P[0],P[1])}}function hd(){this.__data__=sa?sa(null):{},this.size=0}function u1(u){var h=this.has(u)&&delete this.__data__[u];return this.size-=h?1:0,h}function pd(u){var h=this.__data__;if(sa){var b=h[u];return b===l?t:b}return on.call(h,u)?h[u]:t}function md(u){var h=this.__data__;return sa?h[u]!==t:on.call(h,u)}function gd(u,h){var b=this.__data__;return this.size+=this.has(u)?0:1,b[u]=sa&&h===t?l:h,this}Ms.prototype.clear=hd,Ms.prototype.delete=u1,Ms.prototype.get=pd,Ms.prototype.has=md,Ms.prototype.set=gd;function qi(u){var h=-1,b=u==null?0:u.length;for(this.clear();++h<b;){var P=u[h];this.set(P[0],P[1])}}function vd(){this.__data__=[],this.size=0}function rc(u){var h=this.__data__,b=Sl(h,u);if(b<0)return!1;var P=h.length-1;return b==P?h.pop():Yu.call(h,b,1),--this.size,!0}function em(u){var h=this.__data__,b=Sl(h,u);return b<0?t:h[b][1]}function tm(u){return Sl(this.__data__,u)>-1}function nm(u,h){var b=this.__data__,P=Sl(b,u);return P<0?(++this.size,b.push([u,h])):b[P][1]=h,this}qi.prototype.clear=vd,qi.prototype.delete=rc,qi.prototype.get=em,qi.prototype.has=tm,qi.prototype.set=nm;function Mo(u){var h=-1,b=u==null?0:u.length;for(this.clear();++h<b;){var P=u[h];this.set(P[0],P[1])}}function rm(){this.size=0,this.__data__={hash:new Ms,map:new(jo||qi),string:new Ms}}function yd(u){var h=t0(this,u).delete(u);return this.size-=h?1:0,h}function c1(u){return t0(this,u).get(u)}function f1(u){return t0(this,u).has(u)}function xd(u,h){var b=t0(this,u),P=b.size;return b.set(u,h),this.size+=b.size==P?0:1,this}Mo.prototype.clear=rm,Mo.prototype.delete=yd,Mo.prototype.get=c1,Mo.prototype.has=f1,Mo.prototype.set=xd;function qo(u){var h=-1,b=u==null?0:u.length;for(this.__data__=new Mo;++h<b;)this.add(u[h])}function im(u){return this.__data__.set(u,l),this}function xt(u){return this.__data__.has(u)}qo.prototype.add=qo.prototype.push=im,qo.prototype.has=xt;function bn(u){var h=this.__data__=new qi(u);this.size=h.size}function ar(){this.__data__=new qi,this.size=0}function Or(u){var h=this.__data__,b=h.delete(u);return this.size=h.size,b}function ua(u){return this.__data__.get(u)}function om(u){return this.__data__.has(u)}function Er(u,h){var b=this.__data__;if(b instanceof qi){var P=b.__data__;if(!jo||P.length<i-1)return P.push([u,h]),this.size=++b.size,this;b=this.__data__=new Mo(P)}return b.set(u,h),this.size=b.size,this}bn.prototype.clear=ar,bn.prototype.delete=Or,bn.prototype.get=ua,bn.prototype.has=om,bn.prototype.set=Er;function ic(u,h){var b=kt(u),P=!b&&gc(u),O=!b&&!P&&Al(u),z=!b&&!P&&!O&&Dd(u),Z=b||P||O||z,ne=Z?Gi(u.length,Hp):[],he=ne.length;for(var Fe in u)(h||on.call(u,Fe))&&!(Z&&(Fe=="length"||O&&(Fe=="offset"||Fe=="parent")||z&&(Fe=="buffer"||Fe=="byteLength"||Fe=="byteOffset")||_a(Fe,he)))&&ne.push(Fe);return ne}function ca(u){var h=u.length;return h?u[di(0,h-1)]:t}function oc(u,h){return n0(Tt(u),Fr(h,0,u.length))}function wl(u){return n0(Tt(u))}function sc(u,h,b){(b!==t&&!Zo(u[h],b)||b===t&&!(h in u))&&Xi(u,h,b)}function fa(u,h,b){var P=u[h];(!(on.call(u,h)&&Zo(P,b))||b===t&&!(h in u))&&Xi(u,h,b)}function Sl(u,h){for(var b=u.length;b--;)if(Zo(u[b][0],h))return b;return-1}function sm(u,h,b,P){return kr(u,function(O,z,Z){h(P,O,b(O),Z)}),P}function Xo(u,h){return u&&Ar(h,Nr(h),u)}function lt(u,h){return u&&Ar(h,Yi(h),u)}function Xi(u,h,b){h=="__proto__"&&$u?$u(u,h,{configurable:!0,enumerable:!0,value:b,writable:!0}):u[h]=b}function ac(u,h){for(var b=-1,P=h.length,O=Se(P),z=u==null;++b<P;)O[b]=z?t:k1(u,h[b]);return O}function Fr(u,h,b){return u===u&&(b!==t&&(u=u<=b?u:b),h!==t&&(u=u>=h?u:h)),u}function lr(u,h,b,P,O,z){var Z,ne=h&v,he=h&p,Fe=h&g;if(b&&(Z=O?b(u,P,O,z):b(u)),Z!==t)return Z;if(!Kn(u))return u;var ke=kt(u);if(ke){if(Z=g4(u),!ne)return Tt(u,Z)}else{var ze=hi(u),Ze=ze==ee||ze==pe;if(Al(u))return Ci(u,ne);if(ze==W||ze==j||Ze&&!O){if(Z=he||Ze?{}:tP(u),!ne)return he?o4(u,lt(Z,u)):y1(u,Xo(Z,u))}else{if(!rn[ze])return O?u:{};Z=v4(u,ze,ne)}}z||(z=new bn);var dt=z.get(u);if(dt)return dt;z.set(u,Z),RP(u)?u.forEach(function(Mt){Z.add(lr(Mt,h,b,Mt,u,z))}):CP(u)&&u.forEach(function(Mt,Zt){Z.set(Zt,lr(Mt,h,b,Zt,u,z))});var bt=Fe?he?S1:w1:he?Yi:Nr,Ht=ke?t:bt(u);return sr(Ht||u,function(Mt,Zt){Ht&&(Zt=Mt,Mt=u[Zt]),fa(Z,Zt,lr(Mt,h,b,Zt,u,z))}),Z}function lc(u){var h=Nr(u);return function(b){return bl(b,u,h)}}function bl(u,h,b){var P=b.length;if(u==null)return!P;for(u=pn(u);P--;){var O=b[P],z=h[O],Z=u[O];if(Z===t&&!(O in u)||!z(Z))return!1}return!0}function _d(u,h,b){if(typeof u!="function")throw new fi(s);return _m(function(){u.apply(t,b)},h)}function da(u,h,b,P){var O=-1,z=ro,Z=!0,ne=u.length,he=[],Fe=h.length;if(!ne)return he;b&&(h=hn(h,li(b))),P?(z=Xf,Z=!1):h.length>=i&&(z=wn,Z=!1,h=new qo(h));e:for(;++O<ne;){var ke=u[O],ze=b==null?ke:b(ke);if(ke=P||ke!==0?ke:0,Z&&ze===ze){for(var Ze=Fe;Ze--;)if(h[Ze]===ze)continue e;he.push(ke)}else z(h,ze,P)||he.push(ke)}return he}var kr=VC(Tr),Ml=VC(io,!0);function am(u,h){var b=!0;return kr(u,function(P,O,z){return b=!!h(P,O,z),b}),b}function ha(u,h,b){for(var P=-1,O=u.length;++P<O;){var z=u[P],Z=h(z);if(Z!=null&&(ne===t?Z===Z&&!oo(Z):b(Z,ne)))var ne=Z,he=z}return he}function Ko(u,h,b,P){var O=u.length;for(b=Ut(b),b<0&&(b=-b>O?0:O+b),P=P===t||P>O?O:Ut(P),P<0&&(P+=O),P=b>P?0:IP(P);b<P;)u[b++]=h;return u}function uc(u,h){var b=[];return kr(u,function(P,O,z){h(P,O,z)&&b.push(P)}),b}function qn(u,h,b,P,O){var z=-1,Z=u.length;for(b||(b=x4),O||(O=[]);++z<Z;){var ne=u[z];h>0&&b(ne)?h>1?qn(ne,h-1,b,P,O):Go(O,ne):P||(O[O.length]=ne)}return O}var pa=HC(),Jr=HC(!0);function Tr(u,h){return u&&pa(u,h,Nr)}function io(u,h){return u&&Jr(u,h,Nr)}function ma(u,h){return Yr(h,function(b){return wa(u[b])})}function ur(u,h){h=vt(h,u);for(var b=0,P=h.length;u!=null&&b<P;)u=u[Ts(h[b++])];return b&&b==P?u:t}function lm(u,h,b){var P=h(u);return kt(u)?P:Go(P,b(u))}function Jn(u){return u==null?u===t?et:He:Wo&&Wo in pn(u)?h4(u):T4(u)}function cc(u,h){return u>h}function d1(u,h){return u!=null&&on.call(u,h)}function zy(u,h){return u!=null&&h in pn(u)}function Uy(u,h,b){return u>=Sn(h,b)&&u<vn(h,b)}function El(u,h,b){for(var P=b?Xf:ro,O=u[0].length,z=u.length,Z=z,ne=Se(z),he=1/0,Fe=[];Z--;){var ke=u[Z];Z&&h&&(ke=hn(ke,li(h))),he=Sn(ke.length,he),ne[Z]=!b&&(h||O>=120&&ke.length>=120)?new qo(Z&&ke):t}ke=u[0];var ze=-1,Ze=ne[0];e:for(;++ze<O&&Fe.length<he;){var dt=ke[ze],bt=h?h(dt):dt;if(dt=b||dt!==0?dt:0,!(Ze?wn(Ze,bt):P(Fe,bt,b))){for(Z=z;--Z;){var Ht=ne[Z];if(!(Ht?wn(Ht,bt):P(u[Z],bt,b)))continue e}Ze&&Ze.push(bt),Fe.push(dt)}}return Fe}function um(u,h,b,P){return Tr(u,function(O,z,Z){h(P,b(O),z,Z)}),P}function Eo(u,h,b){h=vt(h,u),u=oP(u,h);var P=u==null?u:u[Ts(To(h))];return P==null?t:yr(P,u,b)}function cm(u){return Qn(u)&&Jn(u)==j}function Vy(u){return Qn(u)&&Jn(u)==oe}function fc(u){return Qn(u)&&Jn(u)==ge}function dc(u,h,b,P,O){return u===h?!0:u==null||h==null||!Qn(u)&&!Qn(h)?u!==u&&h!==h:h1(u,h,b,P,dc,O)}function h1(u,h,b,P,O,z){var Z=kt(u),ne=kt(h),he=Z?Y:hi(u),Fe=ne?Y:hi(h);he=he==j?W:he,Fe=Fe==j?W:Fe;var ke=he==W,ze=Fe==W,Ze=he==Fe;if(Ze&&Al(u)){if(!Al(h))return!1;Z=!0,ke=!1}if(Ze&&!ke)return z||(z=new bn),Z||Dd(u)?JC(u,h,b,P,O,z):f4(u,h,he,b,P,O,z);if(!(b&y)){var dt=ke&&on.call(u,"__wrapped__"),bt=ze&&on.call(h,"__wrapped__");if(dt||bt){var Ht=dt?u.value():u,Mt=bt?h.value():h;return z||(z=new bn),O(Ht,Mt,b,P,z)}}return Ze?(z||(z=new bn),d4(u,h,b,P,O,z)):!1}function Hy(u){return Qn(u)&&hi(u)==ve}function wd(u,h,b,P){var O=b.length,z=O,Z=!P;if(u==null)return!z;for(u=pn(u);O--;){var ne=b[O];if(Z&&ne[2]?ne[1]!==u[ne[0]]:!(ne[0]in u))return!1}for(;++O<z;){ne=b[O];var he=ne[0],Fe=u[he],ke=ne[1];if(Z&&ne[2]){if(Fe===t&&!(he in u))return!1}else{var ze=new bn;if(P)var Ze=P(Fe,ke,he,u,h,ze);if(!(Ze===t?dc(ke,Fe,y|S,P,ze):Ze))return!1}}return!0}function Es(u){if(!Kn(u)||w4(u))return!1;var h=wa(u)?s1:dn;return h.test(mc(u))}function p1(u){return Qn(u)&&Jn(u)==Ae}function m1(u){return Qn(u)&&hi(u)==Te}function Yo(u){return Qn(u)&&l0(u.length)&&!!Ft[Jn(u)]}function Gy(u){return typeof u=="function"?u:u==null?$i:typeof u=="object"?kt(u)?jy(u[0],u[1]):Wy(u):GP(u)}function Sd(u){if(!xm(u))return Oy(u);var h=[];for(var b in pn(u))on.call(u,b)&&b!="constructor"&&h.push(b);return h}function g1(u){if(!Kn(u))return E4(u);var h=xm(u),b=[];for(var P in u)P=="constructor"&&(h||!on.call(u,P))||b.push(P);return b}function bd(u,h){return u<h}function $o(u,h){var b=-1,P=Ki(u)?Se(u.length):[];return kr(u,function(O,z,Z){P[++b]=h(O,z,Z)}),P}function Wy(u){var h=M1(u);return h.length==1&&h[0][2]?rP(h[0][0],h[0][1]):function(b){return b===u||wd(b,u,h)}}function jy(u,h){return T1(u)&&nP(h)?rP(Ts(u),h):function(b){var P=k1(b,u);return P===t&&P===h?N1(b,u):dc(h,P,y|S)}}function hc(u,h,b,P,O){u!==h&&pa(h,function(z,Z){if(O||(O=new bn),Kn(z))Md(u,h,Z,b,hc,P,O);else{var ne=P?P(C1(u,Z),z,Z+"",u,h,O):t;ne===t&&(ne=z),sc(u,Z,ne)}},Yi)}function Md(u,h,b,P,O,z,Z){var ne=C1(u,b),he=C1(h,b),Fe=Z.get(he);if(Fe){sc(u,b,Fe);return}var ke=z?z(ne,he,b+"",u,h,Z):t,ze=ke===t;if(ze){var Ze=kt(he),dt=!Ze&&Al(he),bt=!Ze&&!dt&&Dd(he);ke=he,Ze||dt||bt?kt(ne)?ke=ne:cr(ne)?ke=Tt(ne):dt?(ze=!1,ke=Ci(he,!0)):bt?(ze=!1,ke=mt(he,!0)):ke=[]:wm(he)||gc(he)?(ke=ne,gc(ne)?ke=DP(ne):(!Kn(ne)||wa(ne))&&(ke=tP(he))):ze=!1}ze&&(Z.set(he,ke),O(ke,he,P,z,Z),Z.delete(he)),sc(u,b,ke)}function Ed(u,h){var b=u.length;if(!!b)return h+=h<0?b:0,_a(h,b)?u[h]:t}function fm(u,h,b){h.length?h=hn(h,function(z){return kt(z)?function(Z){return ur(Z,z.length===1?z[0]:z)}:z}):h=[$i];var P=-1;h=hn(h,li(St()));var O=$o(u,function(z,Z,ne){var he=hn(h,function(Fe){return Fe(z)});return{criteria:he,index:++P,value:z}});return Hu(O,function(z,Z){return Lt(z,Z,b)})}function dm(u,h){return hm(u,h,function(b,P){return N1(u,P)})}function hm(u,h,b){for(var P=-1,O=h.length,z={};++P<O;){var Z=h[P],ne=ur(u,Z);b(ne,Z)&&ga(z,vt(Z,u),ne)}return z}function Td(u){return function(h){return ur(h,u)}}function Ad(u,h,b,P){var O=P?Zf:wo,z=-1,Z=h.length,ne=u;for(u===h&&(h=Tt(h)),b&&(ne=hn(u,li(b)));++z<Z;)for(var he=0,Fe=h[z],ke=b?b(Fe):Fe;(he=O(ne,ke,he,P))>-1;)ne!==u&&Yu.call(ne,he,1),Yu.call(u,he,1);return u}function qy(u,h){for(var b=u?h.length:0,P=b-1;b--;){var O=h[b];if(b==P||O!==z){var z=O;_a(O)?Yu.call(u,O,1):A(u,O)}}return u}function di(u,h){return u+Ju(tc()*(h-u+1))}function pm(u,h,b,P){for(var O=-1,z=vn(Zu((h-u)/(b||1)),0),Z=Se(z);z--;)Z[P?z:++O]=u,u+=b;return Z}function mm(u,h){var b="";if(!u||h<1||h>Pe)return b;do h%2&&(b+=u),h=Ju(h/2),h&&(u+=u);while(h);return b}function At(u,h){return P1(iP(u,h,$i),u+"")}function Cd(u){return ca(Od(u))}function Tl(u,h){var b=Od(u);return n0(b,Fr(h,0,b.length))}function ga(u,h,b,P){if(!Kn(u))return u;h=vt(h,u);for(var O=-1,z=h.length,Z=z-1,ne=u;ne!=null&&++O<z;){var he=Ts(h[O]),Fe=b;if(he==="__proto__"||he==="constructor"||he==="prototype")return u;if(O!=Z){var ke=ne[he];Fe=P?P(ke,he,ne):t,Fe===t&&(Fe=Kn(ke)?ke:_a(h[O+1])?[]:{})}fa(ne,he,Fe),ne=ne[he]}return u}var Pd=fd?function(u,h){return fd.set(u,h),u}:$i,gm=$u?function(u,h){return $u(u,"toString",{configurable:!0,enumerable:!1,value:z1(h),writable:!0})}:$i;function v1(u){return n0(Od(u))}function Ai(u,h,b){var P=-1,O=u.length;h<0&&(h=-h>O?0:O+h),b=b>O?O:b,b<0&&(b+=O),O=h>b?0:b-h>>>0,h>>>=0;for(var z=Se(O);++P<O;)z[P]=u[P+h];return z}function Xy(u,h){var b;return kr(u,function(P,O,z){return b=h(P,O,z),!b}),!!b}function va(u,h,b){var P=0,O=u==null?P:u.length;if(typeof h=="number"&&h===h&&O<=J){for(;P<O;){var z=P+O>>>1,Z=u[z];Z!==null&&!oo(Z)&&(b?Z<=h:Z<h)?P=z+1:O=z}return O}return vm(u,h,$i,b)}function vm(u,h,b,P){var O=0,z=u==null?0:u.length;if(z===0)return 0;h=b(h);for(var Z=h!==h,ne=h===null,he=oo(h),Fe=h===t;O<z;){var ke=Ju((O+z)/2),ze=b(u[ke]),Ze=ze!==t,dt=ze===null,bt=ze===ze,Ht=oo(ze);if(Z)var Mt=P||bt;else Fe?Mt=bt&&(P||Ze):ne?Mt=bt&&Ze&&(P||!dt):he?Mt=bt&&Ze&&!dt&&(P||!Ht):dt||Ht?Mt=!1:Mt=P?ze<=h:ze<h;Mt?O=ke+1:z=ke}return Sn(z,me)}function Ky(u,h){for(var b=-1,P=u.length,O=0,z=[];++b<P;){var Z=u[b],ne=h?h(Z):Z;if(!b||!Zo(ne,he)){var he=ne;z[O++]=Z===0?0:Z}}return z}function f(u){return typeof u=="number"?u:oo(u)?Ve:+u}function d(u){if(typeof u=="string")return u;if(kt(u))return hn(u,d)+"";if(oo(u))return Zp?Zp.call(u):"";var h=u+"";return h=="0"&&1/u==-ue?"-0":h}function w(u,h,b){var P=-1,O=ro,z=u.length,Z=!0,ne=[],he=ne;if(b)Z=!1,O=Xf;else if(z>=i){var Fe=h?null:u4(u);if(Fe)return $r(Fe);Z=!1,O=wn,he=new qo}else he=h?[]:ne;e:for(;++P<z;){var ke=u[P],ze=h?h(ke):ke;if(ke=b||ke!==0?ke:0,Z&&ze===ze){for(var Ze=he.length;Ze--;)if(he[Ze]===ze)continue e;h&&he.push(ze),ne.push(ke)}else O(he,ze,b)||(he!==ne&&he.push(ze),ne.push(ke))}return ne}function A(u,h){return h=vt(h,u),u=oP(u,h),u==null||delete u[Ts(To(h))]}function L(u,h,b,P){return ga(u,h,b(ur(u,h)),P)}function F(u,h,b,P){for(var O=u.length,z=P?O:-1;(P?z--:++z<O)&&h(u[z],z,u););return b?Ai(u,P?0:z,P?z+1:O):Ai(u,P?z+1:0,P?O:z)}function q(u,h){var b=u;return b instanceof Vt&&(b=b.value()),Kf(h,function(P,O){return O.func.apply(O.thisArg,Go([P],O.args))},b)}function le(u,h,b){var P=u.length;if(P<2)return P?w(u[0]):[];for(var O=-1,z=Se(P);++O<P;)for(var Z=u[O],ne=-1;++ne<P;)ne!=O&&(z[O]=da(z[O]||Z,u[ne],h,b));return w(qn(z,1),h,b)}function Ee(u,h,b){for(var P=-1,O=u.length,z=h.length,Z={};++P<O;){var ne=P<z?h[P]:t;b(Z,u[P],ne)}return Z}function Ke(u){return cr(u)?u:[]}function pt(u){return typeof u=="function"?u:$i}function vt(u,h){return kt(u)?u:T1(u,h)?[u]:uP(mn(u))}var tt=At;function Qt(u,h,b){var P=u.length;return b=b===t?P:b,!h&&b>=P?u:Ai(u,h,b)}var Mn=Xp||function(u){return br.clearTimeout(u)};function Ci(u,h){if(h)return u.slice();var b=u.length,P=ji?ji(b):new u.constructor(b);return u.copy(P),P}function _e(u){var h=new u.constructor(u.byteLength);return new od(h).set(new od(u)),h}function fe(u,h){var b=h?_e(u.buffer):u.buffer;return new u.constructor(b,u.byteOffset,u.byteLength)}function Re(u){var h=new u.constructor(u.source,en.exec(u));return h.lastIndex=u.lastIndex,h}function Qe(u){return _l?pn(_l.call(u)):{}}function mt(u,h){var b=h?_e(u.buffer):u.buffer;return new u.constructor(b,u.byteOffset,u.length)}function yn(u,h){if(u!==h){var b=u!==t,P=u===null,O=u===u,z=oo(u),Z=h!==t,ne=h===null,he=h===h,Fe=oo(h);if(!ne&&!Fe&&!z&&u>h||z&&Z&&he&&!ne&&!Fe||P&&Z&&he||!b&&he||!O)return 1;if(!P&&!z&&!Fe&&u<h||Fe&&b&&O&&!P&&!z||ne&&b&&O||!Z&&O||!he)return-1}return 0}function Lt(u,h,b){for(var P=-1,O=u.criteria,z=h.criteria,Z=O.length,ne=b.length;++P<Z;){var he=yn(O[P],z[P]);if(he){if(P>=ne)return he;var Fe=b[P];return he*(Fe=="desc"?-1:1)}}return u.index-h.index}function sn(u,h,b,P){for(var O=-1,z=u.length,Z=b.length,ne=-1,he=h.length,Fe=vn(z-Z,0),ke=Se(he+Fe),ze=!P;++ne<he;)ke[ne]=h[ne];for(;++O<Z;)(ze||O<z)&&(ke[b[O]]=u[O]);for(;Fe--;)ke[ne++]=u[O++];return ke}function Xn(u,h,b,P){for(var O=-1,z=u.length,Z=-1,ne=b.length,he=-1,Fe=h.length,ke=vn(z-ne,0),ze=Se(ke+Fe),Ze=!P;++O<ke;)ze[O]=u[O];for(var dt=O;++he<Fe;)ze[dt+he]=h[he];for(;++Z<ne;)(Ze||O<z)&&(ze[dt+b[Z]]=u[O++]);return ze}function Tt(u,h){var b=-1,P=u.length;for(h||(h=Se(P));++b<P;)h[b]=u[b];return h}function Ar(u,h,b,P){var O=!b;b||(b={});for(var z=-1,Z=h.length;++z<Z;){var ne=h[z],he=P?P(b[ne],u[ne],ne,b,u):t;he===t&&(he=u[ne]),O?Xi(b,ne,he):fa(b,ne,he)}return b}function y1(u,h){return Ar(u,E1(u),h)}function o4(u,h){return Ar(u,QC(u),h)}function Yy(u,h){return function(b,P){var O=kt(b)?Hi:sm,z=h?h():{};return O(b,u,St(P,2),z)}}function Rd(u){return At(function(h,b){var P=-1,O=b.length,z=O>1?b[O-1]:t,Z=O>2?b[2]:t;for(z=u.length>3&&typeof z=="function"?(O--,z):t,Z&&Pi(b[0],b[1],Z)&&(z=O<3?t:z,O=1),h=pn(h);++P<O;){var ne=b[P];ne&&u(h,ne,P,z)}return h})}function VC(u,h){return function(b,P){if(b==null)return b;if(!Ki(b))return u(b,P);for(var O=b.length,z=h?O:-1,Z=pn(b);(h?z--:++z<O)&&P(Z[z],z,Z)!==!1;);return b}}function HC(u){return function(h,b,P){for(var O=-1,z=pn(h),Z=P(h),ne=Z.length;ne--;){var he=Z[u?ne:++O];if(b(z[he],he,z)===!1)break}return h}}function s4(u,h,b){var P=h&M,O=ym(u);function z(){var Z=this&&this!==br&&this instanceof z?O:u;return Z.apply(P?b:this,arguments)}return z}function GC(u){return function(h){h=mn(h);var b=ta(h)?ui(h):t,P=b?b[0]:h.charAt(0),O=b?Qt(b,1).join(""):h.slice(1);return P[u]()+O}}function Ld(u){return function(h){return Kf(VP(UP(h).replace(_y,"")),u,"")}}function ym(u){return function(){var h=arguments;switch(h.length){case 0:return new u;case 1:return new u(h[0]);case 2:return new u(h[0],h[1]);case 3:return new u(h[0],h[1],h[2]);case 4:return new u(h[0],h[1],h[2],h[3]);case 5:return new u(h[0],h[1],h[2],h[3],h[4]);case 6:return new u(h[0],h[1],h[2],h[3],h[4],h[5]);case 7:return new u(h[0],h[1],h[2],h[3],h[4],h[5],h[6])}var b=la(u.prototype),P=u.apply(b,h);return Kn(P)?P:b}}function a4(u,h,b){var P=ym(u);function O(){for(var z=arguments.length,Z=Se(z),ne=z,he=Id(O);ne--;)Z[ne]=arguments[ne];var Fe=z<3&&Z[0]!==he&&Z[z-1]!==he?[]:Wi(Z,he);if(z-=Fe.length,z<b)return KC(u,h,$y,O.placeholder,t,Z,Fe,t,t,b-z);var ke=this&&this!==br&&this instanceof O?P:u;return yr(ke,this,Z)}return O}function WC(u){return function(h,b,P){var O=pn(h);if(!Ki(h)){var z=St(b,3);h=Nr(h),b=function(ne){return z(O[ne],ne,O)}}var Z=u(h,b,P);return Z>-1?O[z?h[Z]:Z]:t}}function jC(u){return xa(function(h){var b=h.length,P=b,O=Ti.prototype.thru;for(u&&h.reverse();P--;){var z=h[P];if(typeof z!="function")throw new fi(s);if(O&&!Z&&e0(z)=="wrapper")var Z=new Ti([],!0)}for(P=Z?P:b;++P<b;){z=h[P];var ne=e0(z),he=ne=="wrapper"?b1(z):t;he&&A1(he[0])&&he[1]==(R|T|C|D)&&!he[4].length&&he[9]==1?Z=Z[e0(he[0])].apply(Z,he[3]):Z=z.length==1&&A1(z)?Z[ne]():Z.thru(z)}return function(){var Fe=arguments,ke=Fe[0];if(Z&&Fe.length==1&&kt(ke))return Z.plant(ke).value();for(var ze=0,Ze=b?h[ze].apply(this,Fe):ke;++ze<b;)Ze=h[ze].call(this,Ze);return Ze}})}function $y(u,h,b,P,O,z,Z,ne,he,Fe){var ke=h&R,ze=h&M,Ze=h&x,dt=h&(T|E),bt=h&k,Ht=Ze?t:ym(u);function Mt(){for(var Zt=arguments.length,tn=Se(Zt),so=Zt;so--;)tn[so]=arguments[so];if(dt)var Ri=Id(Mt),ao=ea(tn,Ri);if(P&&(tn=sn(tn,P,O,dt)),z&&(tn=Xn(tn,z,Z,dt)),Zt-=ao,dt&&Zt<Fe){var fr=Wi(tn,Ri);return KC(u,h,$y,Mt.placeholder,b,tn,fr,ne,he,Fe-Zt)}var Jo=ze?b:this,ba=Ze?Jo[u]:u;return Zt=tn.length,ne?tn=A4(tn,ne):bt&&Zt>1&&tn.reverse(),ke&&he<Zt&&(tn.length=he),this&&this!==br&&this instanceof Mt&&(ba=Ht||ym(ba)),ba.apply(Jo,tn)}return Mt}function qC(u,h){return function(b,P){return um(b,u,h(P),{})}}function Zy(u,h){return function(b,P){var O;if(b===t&&P===t)return h;if(b!==t&&(O=b),P!==t){if(O===t)return P;typeof b=="string"||typeof P=="string"?(b=d(b),P=d(P)):(b=f(b),P=f(P)),O=u(b,P)}return O}}function x1(u){return xa(function(h){return h=hn(h,li(St())),At(function(b){var P=this;return u(h,function(O){return yr(O,P,b)})})})}function Jy(u,h){h=h===t?" ":d(h);var b=h.length;if(b<2)return b?mm(h,u):h;var P=mm(h,Zu(u/Bn(h)));return ta(h)?Qt(ui(P),0,u).join(""):P.slice(0,u)}function l4(u,h,b,P){var O=h&M,z=ym(u);function Z(){for(var ne=-1,he=arguments.length,Fe=-1,ke=P.length,ze=Se(ke+he),Ze=this&&this!==br&&this instanceof Z?z:u;++Fe<ke;)ze[Fe]=P[Fe];for(;he--;)ze[Fe++]=arguments[++ne];return yr(Ze,O?b:this,ze)}return Z}function XC(u){return function(h,b,P){return P&&typeof P!="number"&&Pi(h,b,P)&&(b=P=t),h=Sa(h),b===t?(b=h,h=0):b=Sa(b),P=P===t?h<b?1:-1:Sa(P),pm(h,b,P,u)}}function Qy(u){return function(h,b){return typeof h=="string"&&typeof b=="string"||(h=Ao(h),b=Ao(b)),u(h,b)}}function KC(u,h,b,P,O,z,Z,ne,he,Fe){var ke=h&T,ze=ke?Z:t,Ze=ke?t:Z,dt=ke?z:t,bt=ke?t:z;h|=ke?C:I,h&=~(ke?I:C),h&_||(h&=~(M|x));var Ht=[u,h,O,dt,ze,bt,Ze,ne,he,Fe],Mt=b.apply(t,Ht);return A1(u)&&sP(Mt,Ht),Mt.placeholder=P,aP(Mt,u,h)}function _1(u){var h=zn[u];return function(b,P){if(b=Ao(b),P=P==null?0:Sn(Ut(P),292),P&&Kp(b)){var O=(mn(b)+"e").split("e"),z=h(O[0]+"e"+(+O[1]+P));return O=(mn(z)+"e").split("e"),+(O[0]+"e"+(+O[1]-P))}return h(b)}}var u4=xl&&1/$r(new xl([,-0]))[1]==ue?function(u){return new xl(u)}:H1;function YC(u){return function(h){var b=hi(h);return b==ve?Ss(h):b==Te?ju(h):Np(h,u(h))}}function ya(u,h,b,P,O,z,Z,ne){var he=h&x;if(!he&&typeof u!="function")throw new fi(s);var Fe=P?P.length:0;if(Fe||(h&=~(C|I),P=O=t),Z=Z===t?Z:vn(Ut(Z),0),ne=ne===t?ne:Ut(ne),Fe-=O?O.length:0,h&I){var ke=P,ze=O;P=O=t}var Ze=he?t:b1(u),dt=[u,h,b,P,O,ke,ze,z,Z,ne];if(Ze&&M4(dt,Ze),u=dt[0],h=dt[1],b=dt[2],P=dt[3],O=dt[4],ne=dt[9]=dt[9]===t?he?0:u.length:vn(dt[9]-Fe,0),!ne&&h&(T|E)&&(h&=~(T|E)),!h||h==M)var bt=s4(u,h,b);else h==T||h==E?bt=a4(u,h,ne):(h==C||h==(M|C))&&!O.length?bt=l4(u,h,b,P):bt=$y.apply(t,dt);var Ht=Ze?Pd:sP;return aP(Ht(bt,dt),u,h)}function $C(u,h,b,P){return u===t||Zo(u,ia[b])&&!on.call(P,b)?h:u}function ZC(u,h,b,P,O,z){return Kn(u)&&Kn(h)&&(z.set(h,u),hc(u,h,t,ZC,z),z.delete(h)),u}function c4(u){return wm(u)?t:u}function JC(u,h,b,P,O,z){var Z=b&y,ne=u.length,he=h.length;if(ne!=he&&!(Z&&he>ne))return!1;var Fe=z.get(u),ke=z.get(h);if(Fe&&ke)return Fe==h&&ke==u;var ze=-1,Ze=!0,dt=b&S?new qo:t;for(z.set(u,h),z.set(h,u);++ze<ne;){var bt=u[ze],Ht=h[ze];if(P)var Mt=Z?P(Ht,bt,ze,h,u,z):P(bt,Ht,ze,u,h,z);if(Mt!==t){if(Mt)continue;Ze=!1;break}if(dt){if(!ml(h,function(Zt,tn){if(!wn(dt,tn)&&(bt===Zt||O(bt,Zt,b,P,z)))return dt.push(tn)})){Ze=!1;break}}else if(!(bt===Ht||O(bt,Ht,b,P,z))){Ze=!1;break}}return z.delete(u),z.delete(h),Ze}function f4(u,h,b,P,O,z,Z){switch(b){case Xe:if(u.byteLength!=h.byteLength||u.byteOffset!=h.byteOffset)return!1;u=u.buffer,h=h.buffer;case oe:return!(u.byteLength!=h.byteLength||!z(new od(u),new od(h)));case ye:case ge:case Le:return Zo(+u,+h);case De:return u.name==h.name&&u.message==h.message;case Ae:case We:return u==h+"";case ve:var ne=Ss;case Te:var he=P&y;if(ne||(ne=$r),u.size!=h.size&&!he)return!1;var Fe=Z.get(u);if(Fe)return Fe==h;P|=S,Z.set(u,h);var ke=JC(ne(u),ne(h),P,O,z,Z);return Z.delete(u),ke;case Ye:if(_l)return _l.call(u)==_l.call(h)}return!1}function d4(u,h,b,P,O,z){var Z=b&y,ne=w1(u),he=ne.length,Fe=w1(h),ke=Fe.length;if(he!=ke&&!Z)return!1;for(var ze=he;ze--;){var Ze=ne[ze];if(!(Z?Ze in h:on.call(h,Ze)))return!1}var dt=z.get(u),bt=z.get(h);if(dt&&bt)return dt==h&&bt==u;var Ht=!0;z.set(u,h),z.set(h,u);for(var Mt=Z;++ze<he;){Ze=ne[ze];var Zt=u[Ze],tn=h[Ze];if(P)var so=Z?P(tn,Zt,Ze,h,u,z):P(Zt,tn,Ze,u,h,z);if(!(so===t?Zt===tn||O(Zt,tn,b,P,z):so)){Ht=!1;break}Mt||(Mt=Ze=="constructor")}if(Ht&&!Mt){var Ri=u.constructor,ao=h.constructor;Ri!=ao&&"constructor"in u&&"constructor"in h&&!(typeof Ri=="function"&&Ri instanceof Ri&&typeof ao=="function"&&ao instanceof ao)&&(Ht=!1)}return z.delete(u),z.delete(h),Ht}function xa(u){return P1(iP(u,t,hP),u+"")}function w1(u){return lm(u,Nr,E1)}function S1(u){return lm(u,Yi,QC)}var b1=fd?function(u){return fd.get(u)}:H1;function e0(u){for(var h=u.name+"",b=aa[h],P=on.call(aa,h)?b.length:0;P--;){var O=b[P],z=O.func;if(z==null||z==u)return O.name}return h}function Id(u){var h=on.call(N,"placeholder")?N:u;return h.placeholder}function St(){var u=N.iteratee||U1;return u=u===U1?Gy:u,arguments.length?u(arguments[0],arguments[1]):u}function t0(u,h){var b=u.__data__;return _4(h)?b[typeof h=="string"?"string":"hash"]:b.map}function M1(u){for(var h=Nr(u),b=h.length;b--;){var P=h[b],O=u[P];h[b]=[P,O,nP(O)]}return h}function pc(u,h){var b=Bp(u,h);return Es(b)?b:t}function h4(u){var h=on.call(u,Wo),b=u[Wo];try{u[Wo]=t;var P=!0}catch{}var O=nd.call(u);return P&&(h?u[Wo]=b:delete u[Wo]),O}var E1=ld?function(u){return u==null?[]:(u=pn(u),Yr(ld(u),function(h){return qp.call(u,h)}))}:G1,QC=ld?function(u){for(var h=[];u;)Go(h,E1(u)),u=Mr(u);return h}:G1,hi=Jn;(cd&&hi(new cd(new ArrayBuffer(1)))!=Xe||jo&&hi(new jo)!=ve||$p&&hi($p.resolve())!=G||xl&&hi(new xl)!=Te||oa&&hi(new oa)!=st)&&(hi=function(u){var h=Jn(u),b=h==W?u.constructor:t,P=b?mc(b):"";if(P)switch(P){case Fy:return Xe;case a1:return ve;case ky:return G;case l1:return Te;case Ny:return st}return h});function p4(u,h,b){for(var P=-1,O=b.length;++P<O;){var z=b[P],Z=z.size;switch(z.type){case"drop":u+=Z;break;case"dropRight":h-=Z;break;case"take":h=Sn(h,u+Z);break;case"takeRight":u=vn(u,h-Z);break}}return{start:u,end:h}}function m4(u){var h=u.match(Me);return h?h[1].split(Be):[]}function eP(u,h,b){h=vt(h,u);for(var P=-1,O=h.length,z=!1;++P<O;){var Z=Ts(h[P]);if(!(z=u!=null&&b(u,Z)))break;u=u[Z]}return z||++P!=O?z:(O=u==null?0:u.length,!!O&&l0(O)&&_a(Z,O)&&(kt(u)||gc(u)))}function g4(u){var h=u.length,b=new u.constructor(h);return h&&typeof u[0]=="string"&&on.call(u,"index")&&(b.index=u.index,b.input=u.input),b}function tP(u){return typeof u.constructor=="function"&&!xm(u)?la(Mr(u)):{}}function v4(u,h,b){var P=u.constructor;switch(h){case oe:return _e(u);case ye:case ge:return new P(+u);case Xe:return fe(u,b);case Ne:case ct:case ot:case ae:case Ge:case at:case It:case Ot:case Cn:return mt(u,b);case ve:return new P;case Le:case We:return new P(u);case Ae:return Re(u);case Te:return new P;case Ye:return Qe(u)}}function y4(u,h){var b=h.length;if(!b)return u;var P=b-1;return h[P]=(b>1?"& ":"")+h[P],h=h.join(b>2?", ":" "),u.replace(Ie,`{
/* [wrapped with `+h+`] */
`)}function x4(u){return kt(u)||gc(u)||!!(sd&&u&&u[sd])}function _a(u,h){var b=typeof u;return h=h==null?Pe:h,!!h&&(b=="number"||b!="symbol"&&qt.test(u))&&u>-1&&u%1==0&&u<h}function Pi(u,h,b){if(!Kn(b))return!1;var P=typeof h;return(P=="number"?Ki(b)&&_a(h,b.length):P=="string"&&h in b)?Zo(b[h],u):!1}function T1(u,h){if(kt(u))return!1;var b=typeof u;return b=="number"||b=="symbol"||b=="boolean"||u==null||oo(u)?!0:Ff.test(u)||!ul.test(u)||h!=null&&u in pn(h)}function _4(u){var h=typeof u;return h=="string"||h=="number"||h=="symbol"||h=="boolean"?u!=="__proto__":u===null}function A1(u){var h=e0(u),b=N[h];if(typeof b!="function"||!(h in Vt.prototype))return!1;if(u===b)return!0;var P=b1(b);return!!P&&u===P[0]}function w4(u){return!!Gp&&Gp in u}var S4=Xu?wa:W1;function xm(u){var h=u&&u.constructor,b=typeof h=="function"&&h.prototype||ia;return u===b}function nP(u){return u===u&&!Kn(u)}function rP(u,h){return function(b){return b==null?!1:b[u]===h&&(h!==t||u in pn(b))}}function b4(u){var h=s0(u,function(P){return b.size===c&&b.clear(),P}),b=h.cache;return h}function M4(u,h){var b=u[1],P=h[1],O=b|P,z=O<(M|x|R),Z=P==R&&b==T||P==R&&b==D&&u[7].length<=h[8]||P==(R|D)&&h[7].length<=h[8]&&b==T;if(!(z||Z))return u;P&M&&(u[2]=h[2],O|=b&M?0:_);var ne=h[3];if(ne){var he=u[3];u[3]=he?sn(he,ne,h[4]):ne,u[4]=he?Wi(u[3],m):h[4]}return ne=h[5],ne&&(he=u[5],u[5]=he?Xn(he,ne,h[6]):ne,u[6]=he?Wi(u[5],m):h[6]),ne=h[7],ne&&(u[7]=ne),P&R&&(u[8]=u[8]==null?h[8]:Sn(u[8],h[8])),u[9]==null&&(u[9]=h[9]),u[0]=h[0],u[1]=O,u}function E4(u){var h=[];if(u!=null)for(var b in pn(u))h.push(b);return h}function T4(u){return nd.call(u)}function iP(u,h,b){return h=vn(h===t?u.length-1:h,0),function(){for(var P=arguments,O=-1,z=vn(P.length-h,0),Z=Se(z);++O<z;)Z[O]=P[h+O];O=-1;for(var ne=Se(h+1);++O<h;)ne[O]=P[O];return ne[h]=b(Z),yr(u,this,ne)}}function oP(u,h){return h.length<2?u:ur(u,Ai(h,0,-1))}function A4(u,h){for(var b=u.length,P=Sn(h.length,b),O=Tt(u);P--;){var z=h[P];u[P]=_a(z,b)?O[z]:t}return u}function C1(u,h){if(!(h==="constructor"&&typeof u[h]=="function")&&h!="__proto__")return u[h]}var sP=lP(Pd),_m=ad||function(u,h){return br.setTimeout(u,h)},P1=lP(gm);function aP(u,h,b){var P=h+"";return P1(u,y4(P,C4(m4(P),b)))}function lP(u){var h=0,b=0;return function(){var P=Qu(),O=K-(P-b);if(b=P,O>0){if(++h>=$)return arguments[0]}else h=0;return u.apply(t,arguments)}}function n0(u,h){var b=-1,P=u.length,O=P-1;for(h=h===t?P:h;++b<h;){var z=di(b,O),Z=u[z];u[z]=u[b],u[b]=Z}return u.length=h,u}var uP=b4(function(u){var h=[];return u.charCodeAt(0)===46&&h.push(""),u.replace(kf,function(b,P,O,z){h.push(O?z.replace(yt,"$1"):P||b)}),h});function Ts(u){if(typeof u=="string"||oo(u))return u;var h=u+"";return h=="0"&&1/u==-ue?"-0":h}function mc(u){if(u!=null){try{return Ku.call(u)}catch{}try{return u+""}catch{}}return""}function C4(u,h){return sr(V,function(b){var P="_."+b[0];h&b[1]&&!ro(u,P)&&u.push(P)}),u.sort()}function cP(u){if(u instanceof Vt)return u.clone();var h=new Ti(u.__wrapped__,u.__chain__);return h.__actions__=Tt(u.__actions__),h.__index__=u.__index__,h.__values__=u.__values__,h}function P4(u,h,b){(b?Pi(u,h,b):h===t)?h=1:h=vn(Ut(h),0);var P=u==null?0:u.length;if(!P||h<1)return[];for(var O=0,z=0,Z=Se(Zu(P/h));O<P;)Z[z++]=Ai(u,O,O+=h);return Z}function R4(u){for(var h=-1,b=u==null?0:u.length,P=0,O=[];++h<b;){var z=u[h];z&&(O[P++]=z)}return O}function L4(){var u=arguments.length;if(!u)return[];for(var h=Se(u-1),b=arguments[0],P=u;P--;)h[P-1]=arguments[P];return Go(kt(b)?Tt(b):[b],qn(h,1))}var I4=At(function(u,h){return cr(u)?da(u,qn(h,1,cr,!0)):[]}),D4=At(function(u,h){var b=To(h);return cr(b)&&(b=t),cr(u)?da(u,qn(h,1,cr,!0),St(b,2)):[]}),O4=At(function(u,h){var b=To(h);return cr(b)&&(b=t),cr(u)?da(u,qn(h,1,cr,!0),t,b):[]});function F4(u,h,b){var P=u==null?0:u.length;return P?(h=b||h===t?1:Ut(h),Ai(u,h<0?0:h,P)):[]}function k4(u,h,b){var P=u==null?0:u.length;return P?(h=b||h===t?1:Ut(h),h=P-h,Ai(u,0,h<0?0:h)):[]}function N4(u,h){return u&&u.length?F(u,St(h,3),!0,!0):[]}function B4(u,h){return u&&u.length?F(u,St(h,3),!0):[]}function z4(u,h,b,P){var O=u==null?0:u.length;return O?(b&&typeof b!="number"&&Pi(u,h,b)&&(b=0,P=O),Ko(u,h,b,P)):[]}function fP(u,h,b){var P=u==null?0:u.length;if(!P)return-1;var O=b==null?0:Ut(b);return O<0&&(O=vn(P+O,0)),Zs(u,St(h,3),O)}function dP(u,h,b){var P=u==null?0:u.length;if(!P)return-1;var O=P-1;return b!==t&&(O=Ut(b),O=b<0?vn(P+O,0):Sn(O,P-1)),Zs(u,St(h,3),O,!0)}function hP(u){var h=u==null?0:u.length;return h?qn(u,1):[]}function U4(u){var h=u==null?0:u.length;return h?qn(u,ue):[]}function V4(u,h){var b=u==null?0:u.length;return b?(h=h===t?1:Ut(h),qn(u,h)):[]}function H4(u){for(var h=-1,b=u==null?0:u.length,P={};++h<b;){var O=u[h];P[O[0]]=O[1]}return P}function pP(u){return u&&u.length?u[0]:t}function G4(u,h,b){var P=u==null?0:u.length;if(!P)return-1;var O=b==null?0:Ut(b);return O<0&&(O=vn(P+O,0)),wo(u,h,O)}function W4(u){var h=u==null?0:u.length;return h?Ai(u,0,-1):[]}var j4=At(function(u){var h=hn(u,Ke);return h.length&&h[0]===u[0]?El(h):[]}),q4=At(function(u){var h=To(u),b=hn(u,Ke);return h===To(b)?h=t:b.pop(),b.length&&b[0]===u[0]?El(b,St(h,2)):[]}),X4=At(function(u){var h=To(u),b=hn(u,Ke);return h=typeof h=="function"?h:t,h&&b.pop(),b.length&&b[0]===u[0]?El(b,t,h):[]});function K4(u,h){return u==null?"":Yp.call(u,h)}function To(u){var h=u==null?0:u.length;return h?u[h-1]:t}function Y4(u,h,b){var P=u==null?0:u.length;if(!P)return-1;var O=P;return b!==t&&(O=Ut(b),O=O<0?vn(P+O,0):Sn(O,P-1)),h===h?Dr(u,h,O):Zs(u,kp,O,!0)}function $4(u,h){return u&&u.length?Ed(u,Ut(h)):t}var Z4=At(mP);function mP(u,h){return u&&u.length&&h&&h.length?Ad(u,h):u}function J4(u,h,b){return u&&u.length&&h&&h.length?Ad(u,h,St(b,2)):u}function Q4(u,h,b){return u&&u.length&&h&&h.length?Ad(u,h,t,b):u}var eU=xa(function(u,h){var b=u==null?0:u.length,P=ac(u,h);return qy(u,hn(h,function(O){return _a(O,b)?+O:O}).sort(yn)),P});function tU(u,h){var b=[];if(!(u&&u.length))return b;var P=-1,O=[],z=u.length;for(h=St(h,3);++P<z;){var Z=u[P];h(Z,P,u)&&(b.push(Z),O.push(P))}return qy(u,O),b}function R1(u){return u==null?u:ud.call(u)}function nU(u,h,b){var P=u==null?0:u.length;return P?(b&&typeof b!="number"&&Pi(u,h,b)?(h=0,b=P):(h=h==null?0:Ut(h),b=b===t?P:Ut(b)),Ai(u,h,b)):[]}function rU(u,h){return va(u,h)}function iU(u,h,b){return vm(u,h,St(b,2))}function oU(u,h){var b=u==null?0:u.length;if(b){var P=va(u,h);if(P<b&&Zo(u[P],h))return P}return-1}function sU(u,h){return va(u,h,!0)}function aU(u,h,b){return vm(u,h,St(b,2),!0)}function lU(u,h){var b=u==null?0:u.length;if(b){var P=va(u,h,!0)-1;if(Zo(u[P],h))return P}return-1}function uU(u){return u&&u.length?Ky(u):[]}function cU(u,h){return u&&u.length?Ky(u,St(h,2)):[]}function fU(u){var h=u==null?0:u.length;return h?Ai(u,1,h):[]}function dU(u,h,b){return u&&u.length?(h=b||h===t?1:Ut(h),Ai(u,0,h<0?0:h)):[]}function hU(u,h,b){var P=u==null?0:u.length;return P?(h=b||h===t?1:Ut(h),h=P-h,Ai(u,h<0?0:h,P)):[]}function pU(u,h){return u&&u.length?F(u,St(h,3),!1,!0):[]}function mU(u,h){return u&&u.length?F(u,St(h,3)):[]}var gU=At(function(u){return w(qn(u,1,cr,!0))}),vU=At(function(u){var h=To(u);return cr(h)&&(h=t),w(qn(u,1,cr,!0),St(h,2))}),yU=At(function(u){var h=To(u);return h=typeof h=="function"?h:t,w(qn(u,1,cr,!0),t,h)});function xU(u){return u&&u.length?w(u):[]}function _U(u,h){return u&&u.length?w(u,St(h,2)):[]}function wU(u,h){return h=typeof h=="function"?h:t,u&&u.length?w(u,t,h):[]}function L1(u){if(!(u&&u.length))return[];var h=0;return u=Yr(u,function(b){if(cr(b))return h=vn(b.length,h),!0}),Gi(h,function(b){return hn(u,Jf(b))})}function gP(u,h){if(!(u&&u.length))return[];var b=L1(u);return h==null?b:hn(b,function(P){return yr(h,t,P)})}var SU=At(function(u,h){return cr(u)?da(u,h):[]}),bU=At(function(u){return le(Yr(u,cr))}),MU=At(function(u){var h=To(u);return cr(h)&&(h=t),le(Yr(u,cr),St(h,2))}),EU=At(function(u){var h=To(u);return h=typeof h=="function"?h:t,le(Yr(u,cr),t,h)}),TU=At(L1);function AU(u,h){return Ee(u||[],h||[],fa)}function CU(u,h){return Ee(u||[],h||[],ga)}var PU=At(function(u){var h=u.length,b=h>1?u[h-1]:t;return b=typeof b=="function"?(u.pop(),b):t,gP(u,b)});function vP(u){var h=N(u);return h.__chain__=!0,h}function RU(u,h){return h(u),u}function r0(u,h){return h(u)}var LU=xa(function(u){var h=u.length,b=h?u[0]:0,P=this.__wrapped__,O=function(z){return ac(z,u)};return h>1||this.__actions__.length||!(P instanceof Vt)||!_a(b)?this.thru(O):(P=P.slice(b,+b+(h?1:0)),P.__actions__.push({func:r0,args:[O],thisArg:t}),new Ti(P,this.__chain__).thru(function(z){return h&&!z.length&&z.push(t),z}))});function IU(){return vP(this)}function DU(){return new Ti(this.value(),this.__chain__)}function OU(){this.__values__===t&&(this.__values__=LP(this.value()));var u=this.__index__>=this.__values__.length,h=u?t:this.__values__[this.__index__++];return{done:u,value:h}}function FU(){return this}function kU(u){for(var h,b=this;b instanceof nc;){var P=cP(b);P.__index__=0,P.__values__=t,h?O.__wrapped__=P:h=P;var O=P;b=b.__wrapped__}return O.__wrapped__=u,h}function NU(){var u=this.__wrapped__;if(u instanceof Vt){var h=u;return this.__actions__.length&&(h=new Vt(this)),h=h.reverse(),h.__actions__.push({func:r0,args:[R1],thisArg:t}),new Ti(h,this.__chain__)}return this.thru(R1)}function BU(){return q(this.__wrapped__,this.__actions__)}var zU=Yy(function(u,h,b){on.call(u,b)?++u[b]:Xi(u,b,1)});function UU(u,h,b){var P=kt(u)?Fp:am;return b&&Pi(u,h,b)&&(h=t),P(u,St(h,3))}function VU(u,h){var b=kt(u)?Yr:uc;return b(u,St(h,3))}var HU=WC(fP),GU=WC(dP);function WU(u,h){return qn(i0(u,h),1)}function jU(u,h){return qn(i0(u,h),ue)}function qU(u,h,b){return b=b===t?1:Ut(b),qn(i0(u,h),b)}function yP(u,h){var b=kt(u)?sr:kr;return b(u,St(h,3))}function xP(u,h){var b=kt(u)?Op:Ml;return b(u,St(h,3))}var XU=Yy(function(u,h,b){on.call(u,b)?u[b].push(h):Xi(u,b,[h])});function KU(u,h,b,P){u=Ki(u)?u:Od(u),b=b&&!P?Ut(b):0;var O=u.length;return b<0&&(b=vn(O+b,0)),u0(u)?b<=O&&u.indexOf(h,b)>-1:!!O&&wo(u,h,b)>-1}var YU=At(function(u,h,b){var P=-1,O=typeof h=="function",z=Ki(u)?Se(u.length):[];return kr(u,function(Z){z[++P]=O?yr(h,Z,b):Eo(Z,h,b)}),z}),$U=Yy(function(u,h,b){Xi(u,b,h)});function i0(u,h){var b=kt(u)?hn:$o;return b(u,St(h,3))}function ZU(u,h,b,P){return u==null?[]:(kt(h)||(h=h==null?[]:[h]),b=P?t:b,kt(b)||(b=b==null?[]:[b]),fm(u,h,b))}var JU=Yy(function(u,h,b){u[b?0:1].push(h)},function(){return[[],[]]});function QU(u,h,b){var P=kt(u)?Kf:Ei,O=arguments.length<3;return P(u,St(h,4),b,O,kr)}function eV(u,h,b){var P=kt(u)?Yf:Ei,O=arguments.length<3;return P(u,St(h,4),b,O,Ml)}function tV(u,h){var b=kt(u)?Yr:uc;return b(u,a0(St(h,3)))}function nV(u){var h=kt(u)?ca:Cd;return h(u)}function rV(u,h,b){(b?Pi(u,h,b):h===t)?h=1:h=Ut(h);var P=kt(u)?oc:Tl;return P(u,h)}function iV(u){var h=kt(u)?wl:v1;return h(u)}function oV(u){if(u==null)return 0;if(Ki(u))return u0(u)?Bn(u):u.length;var h=hi(u);return h==ve||h==Te?u.size:Sd(u).length}function sV(u,h,b){var P=kt(u)?ml:Xy;return b&&Pi(u,h,b)&&(h=t),P(u,St(h,3))}var aV=At(function(u,h){if(u==null)return[];var b=h.length;return b>1&&Pi(u,h[0],h[1])?h=[]:b>2&&Pi(h[0],h[1],h[2])&&(h=[h[0]]),fm(u,qn(h,1),[])}),o0=Iy||function(){return br.Date.now()};function lV(u,h){if(typeof h!="function")throw new fi(s);return u=Ut(u),function(){if(--u<1)return h.apply(this,arguments)}}function _P(u,h,b){return h=b?t:h,h=u&&h==null?u.length:h,ya(u,R,t,t,t,t,h)}function wP(u,h){var b;if(typeof h!="function")throw new fi(s);return u=Ut(u),function(){return--u>0&&(b=h.apply(this,arguments)),u<=1&&(h=t),b}}var I1=At(function(u,h,b){var P=M;if(b.length){var O=Wi(b,Id(I1));P|=C}return ya(u,P,h,b,O)}),SP=At(function(u,h,b){var P=M|x;if(b.length){var O=Wi(b,Id(SP));P|=C}return ya(h,P,u,b,O)});function bP(u,h,b){h=b?t:h;var P=ya(u,T,t,t,t,t,t,h);return P.placeholder=bP.placeholder,P}function MP(u,h,b){h=b?t:h;var P=ya(u,E,t,t,t,t,t,h);return P.placeholder=MP.placeholder,P}function EP(u,h,b){var P,O,z,Z,ne,he,Fe=0,ke=!1,ze=!1,Ze=!0;if(typeof u!="function")throw new fi(s);h=Ao(h)||0,Kn(b)&&(ke=!!b.leading,ze="maxWait"in b,z=ze?vn(Ao(b.maxWait)||0,h):z,Ze="trailing"in b?!!b.trailing:Ze);function dt(fr){var Jo=P,ba=O;return P=O=t,Fe=fr,Z=u.apply(ba,Jo),Z}function bt(fr){return Fe=fr,ne=_m(Zt,h),ke?dt(fr):Z}function Ht(fr){var Jo=fr-he,ba=fr-Fe,WP=h-Jo;return ze?Sn(WP,z-ba):WP}function Mt(fr){var Jo=fr-he,ba=fr-Fe;return he===t||Jo>=h||Jo<0||ze&&ba>=z}function Zt(){var fr=o0();if(Mt(fr))return tn(fr);ne=_m(Zt,Ht(fr))}function tn(fr){return ne=t,Ze&&P?dt(fr):(P=O=t,Z)}function so(){ne!==t&&Mn(ne),Fe=0,P=he=O=ne=t}function Ri(){return ne===t?Z:tn(o0())}function ao(){var fr=o0(),Jo=Mt(fr);if(P=arguments,O=this,he=fr,Jo){if(ne===t)return bt(he);if(ze)return Mn(ne),ne=_m(Zt,h),dt(he)}return ne===t&&(ne=_m(Zt,h)),Z}return ao.cancel=so,ao.flush=Ri,ao}var uV=At(function(u,h){return _d(u,1,h)}),cV=At(function(u,h,b){return _d(u,Ao(h)||0,b)});function fV(u){return ya(u,k)}function s0(u,h){if(typeof u!="function"||h!=null&&typeof h!="function")throw new fi(s);var b=function(){var P=arguments,O=h?h.apply(this,P):P[0],z=b.cache;if(z.has(O))return z.get(O);var Z=u.apply(this,P);return b.cache=z.set(O,Z)||z,Z};return b.cache=new(s0.Cache||Mo),b}s0.Cache=Mo;function a0(u){if(typeof u!="function")throw new fi(s);return function(){var h=arguments;switch(h.length){case 0:return!u.call(this);case 1:return!u.call(this,h[0]);case 2:return!u.call(this,h[0],h[1]);case 3:return!u.call(this,h[0],h[1],h[2])}return!u.apply(this,h)}}function dV(u){return wP(2,u)}var hV=tt(function(u,h){h=h.length==1&&kt(h[0])?hn(h[0],li(St())):hn(qn(h,1),li(St()));var b=h.length;return At(function(P){for(var O=-1,z=Sn(P.length,b);++O<z;)P[O]=h[O].call(this,P[O]);return yr(u,this,P)})}),D1=At(function(u,h){var b=Wi(h,Id(D1));return ya(u,C,t,h,b)}),TP=At(function(u,h){var b=Wi(h,Id(TP));return ya(u,I,t,h,b)}),pV=xa(function(u,h){return ya(u,D,t,t,t,h)});function mV(u,h){if(typeof u!="function")throw new fi(s);return h=h===t?h:Ut(h),At(u,h)}function gV(u,h){if(typeof u!="function")throw new fi(s);return h=h==null?0:vn(Ut(h),0),At(function(b){var P=b[h],O=Qt(b,0,h);return P&&Go(O,P),yr(u,this,O)})}function vV(u,h,b){var P=!0,O=!0;if(typeof u!="function")throw new fi(s);return Kn(b)&&(P="leading"in b?!!b.leading:P,O="trailing"in b?!!b.trailing:O),EP(u,h,{leading:P,maxWait:h,trailing:O})}function yV(u){return _P(u,1)}function xV(u,h){return D1(pt(h),u)}function _V(){if(!arguments.length)return[];var u=arguments[0];return kt(u)?u:[u]}function wV(u){return lr(u,g)}function SV(u,h){return h=typeof h=="function"?h:t,lr(u,g,h)}function bV(u){return lr(u,v|g)}function MV(u,h){return h=typeof h=="function"?h:t,lr(u,v|g,h)}function EV(u,h){return h==null||bl(u,h,Nr(h))}function Zo(u,h){return u===h||u!==u&&h!==h}var TV=Qy(cc),AV=Qy(function(u,h){return u>=h}),gc=cm(function(){return arguments}())?cm:function(u){return Qn(u)&&on.call(u,"callee")&&!qp.call(u,"callee")},kt=Se.isArray,CV=$s?li($s):Vy;function Ki(u){return u!=null&&l0(u.length)&&!wa(u)}function cr(u){return Qn(u)&&Ki(u)}function PV(u){return u===!0||u===!1||Qn(u)&&Jn(u)==ye}var Al=Dy||W1,RV=Uu?li(Uu):fc;function LV(u){return Qn(u)&&u.nodeType===1&&!wm(u)}function IV(u){if(u==null)return!0;if(Ki(u)&&(kt(u)||typeof u=="string"||typeof u.splice=="function"||Al(u)||Dd(u)||gc(u)))return!u.length;var h=hi(u);if(h==ve||h==Te)return!u.size;if(xm(u))return!Sd(u).length;for(var b in u)if(on.call(u,b))return!1;return!0}function DV(u,h){return dc(u,h)}function OV(u,h,b){b=typeof b=="function"?b:t;var P=b?b(u,h):t;return P===t?dc(u,h,t,b):!!P}function O1(u){if(!Qn(u))return!1;var h=Jn(u);return h==De||h==be||typeof u.message=="string"&&typeof u.name=="string"&&!wm(u)}function FV(u){return typeof u=="number"&&Kp(u)}function wa(u){if(!Kn(u))return!1;var h=Jn(u);return h==ee||h==pe||h==de||h==xe}function AP(u){return typeof u=="number"&&u==Ut(u)}function l0(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=Pe}function Kn(u){var h=typeof u;return u!=null&&(h=="object"||h=="function")}function Qn(u){return u!=null&&typeof u=="object"}var CP=jf?li(jf):Hy;function kV(u,h){return u===h||wd(u,h,M1(h))}function NV(u,h,b){return b=typeof b=="function"?b:t,wd(u,h,M1(h),b)}function BV(u){return PP(u)&&u!=+u}function zV(u){if(S4(u))throw new Rt(o);return Es(u)}function UV(u){return u===null}function VV(u){return u==null}function PP(u){return typeof u=="number"||Qn(u)&&Jn(u)==Le}function wm(u){if(!Qn(u)||Jn(u)!=W)return!1;var h=Mr(u);if(h===null)return!0;var b=on.call(h,"constructor")&&h.constructor;return typeof b=="function"&&b instanceof b&&Ku.call(b)==Wp}var F1=Ip?li(Ip):p1;function HV(u){return AP(u)&&u>=-Pe&&u<=Pe}var RP=qf?li(qf):m1;function u0(u){return typeof u=="string"||!kt(u)&&Qn(u)&&Jn(u)==We}function oo(u){return typeof u=="symbol"||Qn(u)&&Jn(u)==Ye}var Dd=Dp?li(Dp):Yo;function GV(u){return u===t}function WV(u){return Qn(u)&&hi(u)==st}function jV(u){return Qn(u)&&Jn(u)==it}var qV=Qy(bd),XV=Qy(function(u,h){return u<=h});function LP(u){if(!u)return[];if(Ki(u))return u0(u)?ui(u):Tt(u);if(yl&&u[yl])return zp(u[yl]());var h=hi(u),b=h==ve?Ss:h==Te?$r:Od;return b(u)}function Sa(u){if(!u)return u===0?u:0;if(u=Ao(u),u===ue||u===-ue){var h=u<0?-1:1;return h*Ue}return u===u?u:0}function Ut(u){var h=Sa(u),b=h%1;return h===h?b?h-b:h:0}function IP(u){return u?Fr(Ut(u),0,te):0}function Ao(u){if(typeof u=="number")return u;if(oo(u))return Ve;if(Kn(u)){var h=typeof u.valueOf=="function"?u.valueOf():u;u=Kn(h)?h+"":h}if(typeof u!="string")return u===0?u:+u;u=Qs(u);var b=jt.test(u);return b||no.test(u)?o1(u.slice(2),b?2:8):Gt.test(u)?Ve:+u}function DP(u){return Ar(u,Yi(u))}function KV(u){return u?Fr(Ut(u),-Pe,Pe):u===0?u:0}function mn(u){return u==null?"":d(u)}var YV=Rd(function(u,h){if(xm(h)||Ki(h)){Ar(h,Nr(h),u);return}for(var b in h)on.call(h,b)&&fa(u,b,h[b])}),OP=Rd(function(u,h){Ar(h,Yi(h),u)}),c0=Rd(function(u,h,b,P){Ar(h,Yi(h),u,P)}),$V=Rd(function(u,h,b,P){Ar(h,Nr(h),u,P)}),ZV=xa(ac);function JV(u,h){var b=la(u);return h==null?b:Xo(b,h)}var QV=At(function(u,h){u=pn(u);var b=-1,P=h.length,O=P>2?h[2]:t;for(O&&Pi(h[0],h[1],O)&&(P=1);++b<P;)for(var z=h[b],Z=Yi(z),ne=-1,he=Z.length;++ne<he;){var Fe=Z[ne],ke=u[Fe];(ke===t||Zo(ke,ia[Fe])&&!on.call(u,Fe))&&(u[Fe]=z[Fe])}return u}),eH=At(function(u){return u.push(t,ZC),yr(FP,t,u)});function tH(u,h){return $f(u,St(h,3),Tr)}function nH(u,h){return $f(u,St(h,3),io)}function rH(u,h){return u==null?u:pa(u,St(h,3),Yi)}function iH(u,h){return u==null?u:Jr(u,St(h,3),Yi)}function oH(u,h){return u&&Tr(u,St(h,3))}function sH(u,h){return u&&io(u,St(h,3))}function aH(u){return u==null?[]:ma(u,Nr(u))}function lH(u){return u==null?[]:ma(u,Yi(u))}function k1(u,h,b){var P=u==null?t:ur(u,h);return P===t?b:P}function uH(u,h){return u!=null&&eP(u,h,d1)}function N1(u,h){return u!=null&&eP(u,h,zy)}var cH=qC(function(u,h,b){h!=null&&typeof h.toString!="function"&&(h=nd.call(h)),u[h]=b},z1($i)),fH=qC(function(u,h,b){h!=null&&typeof h.toString!="function"&&(h=nd.call(h)),on.call(u,h)?u[h].push(b):u[h]=[b]},St),dH=At(Eo);function Nr(u){return Ki(u)?ic(u):Sd(u)}function Yi(u){return Ki(u)?ic(u,!0):g1(u)}function hH(u,h){var b={};return h=St(h,3),Tr(u,function(P,O,z){Xi(b,h(P,O,z),P)}),b}function pH(u,h){var b={};return h=St(h,3),Tr(u,function(P,O,z){Xi(b,O,h(P,O,z))}),b}var mH=Rd(function(u,h,b){hc(u,h,b)}),FP=Rd(function(u,h,b,P){hc(u,h,b,P)}),gH=xa(function(u,h){var b={};if(u==null)return b;var P=!1;h=hn(h,function(z){return z=vt(z,u),P||(P=z.length>1),z}),Ar(u,S1(u),b),P&&(b=lr(b,v|p|g,c4));for(var O=h.length;O--;)A(b,h[O]);return b});function vH(u,h){return kP(u,a0(St(h)))}var yH=xa(function(u,h){return u==null?{}:dm(u,h)});function kP(u,h){if(u==null)return{};var b=hn(S1(u),function(P){return[P]});return h=St(h),hm(u,b,function(P,O){return h(P,O[0])})}function xH(u,h,b){h=vt(h,u);var P=-1,O=h.length;for(O||(O=1,u=t);++P<O;){var z=u==null?t:u[Ts(h[P])];z===t&&(P=O,z=b),u=wa(z)?z.call(u):z}return u}function _H(u,h,b){return u==null?u:ga(u,h,b)}function wH(u,h,b,P){return P=typeof P=="function"?P:t,u==null?u:ga(u,h,b,P)}var NP=YC(Nr),BP=YC(Yi);function SH(u,h,b){var P=kt(u),O=P||Al(u)||Dd(u);if(h=St(h,4),b==null){var z=u&&u.constructor;O?b=P?new z:[]:Kn(u)?b=wa(z)?la(Mr(u)):{}:b={}}return(O?sr:Tr)(u,function(Z,ne,he){return h(b,Z,ne,he)}),b}function bH(u,h){return u==null?!0:A(u,h)}function MH(u,h,b){return u==null?u:L(u,h,pt(b))}function EH(u,h,b,P){return P=typeof P=="function"?P:t,u==null?u:L(u,h,pt(b),P)}function Od(u){return u==null?[]:Gu(u,Nr(u))}function TH(u){return u==null?[]:Gu(u,Yi(u))}function AH(u,h,b){return b===t&&(b=h,h=t),b!==t&&(b=Ao(b),b=b===b?b:0),h!==t&&(h=Ao(h),h=h===h?h:0),Fr(Ao(u),h,b)}function CH(u,h,b){return h=Sa(h),b===t?(b=h,h=0):b=Sa(b),u=Ao(u),Uy(u,h,b)}function PH(u,h,b){if(b&&typeof b!="boolean"&&Pi(u,h,b)&&(h=b=t),b===t&&(typeof h=="boolean"?(b=h,h=t):typeof u=="boolean"&&(b=u,u=t)),u===t&&h===t?(u=0,h=1):(u=Sa(u),h===t?(h=u,u=0):h=Sa(h)),u>h){var P=u;u=h,h=P}if(b||u%1||h%1){var O=tc();return Sn(u+O*(h-u+My("1e-"+((O+"").length-1))),h)}return di(u,h)}var RH=Ld(function(u,h,b){return h=h.toLowerCase(),u+(b?zP(h):h)});function zP(u){return B1(mn(u).toLowerCase())}function UP(u){return u=mn(u),u&&u.replace(zo,bo).replace(wy,"")}function LH(u,h,b){u=mn(u),h=d(h);var P=u.length;b=b===t?P:Fr(Ut(b),0,P);var O=b;return b-=h.length,b>=0&&u.slice(b,O)==h}function IH(u){return u=mn(u),u&&Of.test(u)?u.replace(_o,Py):u}function DH(u){return u=mn(u),u&&Nf.test(u)?u.replace(cl,"\\$&"):u}var OH=Ld(function(u,h,b){return u+(b?"-":"")+h.toLowerCase()}),FH=Ld(function(u,h,b){return u+(b?" ":"")+h.toLowerCase()}),kH=GC("toLowerCase");function NH(u,h,b){u=mn(u),h=Ut(h);var P=h?Bn(u):0;if(!h||P>=h)return u;var O=(h-P)/2;return Jy(Ju(O),b)+u+Jy(Zu(O),b)}function BH(u,h,b){u=mn(u),h=Ut(h);var P=h?Bn(u):0;return h&&P<h?u+Jy(h-P,b):u}function zH(u,h,b){u=mn(u),h=Ut(h);var P=h?Bn(u):0;return h&&P<h?Jy(h-P,b)+u:u}function UH(u,h,b){return b||h==null?h=0:h&&(h=+h),ec(mn(u).replace(X,""),h||0)}function VH(u,h,b){return(b?Pi(u,h,b):h===t)?h=1:h=Ut(h),mm(mn(u),h)}function HH(){var u=arguments,h=mn(u[0]);return u.length<3?h:h.replace(u[1],u[2])}var GH=Ld(function(u,h,b){return u+(b?"_":"")+h.toLowerCase()});function WH(u,h,b){return b&&typeof b!="number"&&Pi(u,h,b)&&(h=b=t),b=b===t?te:b>>>0,b?(u=mn(u),u&&(typeof h=="string"||h!=null&&!F1(h))&&(h=d(h),!h&&ta(u))?Qt(ui(u),0,b):u.split(h,b)):[]}var jH=Ld(function(u,h,b){return u+(b?" ":"")+B1(h)});function qH(u,h,b){return u=mn(u),b=b==null?0:Fr(Ut(b),0,u.length),h=d(h),u.slice(b,b+h.length)==h}function XH(u,h,b){var P=N.templateSettings;b&&Pi(u,h,b)&&(h=t),u=mn(u),h=c0({},h,P,$C);var O=c0({},h.imports,P.imports,$C),z=Nr(O),Z=Gu(O,z),ne,he,Fe=0,ke=h.interpolate||Yt,ze="__p += '",Ze=vl((h.escape||Yt).source+"|"+ke.source+"|"+(ke===Du?Bt:Yt).source+"|"+(h.evaluate||Yt).source+"|$","g"),dt="//# sourceURL="+(on.call(h,"sourceURL")?(h.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Sy+"]")+`
`;u.replace(Ze,function(Mt,Zt,tn,so,Ri,ao){return tn||(tn=so),ze+=u.slice(Fe,ao).replace(Ir,Ry),Zt&&(ne=!0,ze+=`' +
__e(`+Zt+`) +
'`),Ri&&(he=!0,ze+=`';
`+Ri+`;
__p += '`),tn&&(ze+=`' +
((__t = (`+tn+`)) == null ? '' : __t) +
'`),Fe=ao+Mt.length,Mt}),ze+=`';
`;var bt=on.call(h,"variable")&&h.variable;if(!bt)ze=`with (obj) {
`+ze+`
}
`;else if(wt.test(bt))throw new Rt(a);ze=(he?ze.replace(vr,""):ze).replace(al,"$1").replace(qr,"$1;"),ze="function("+(bt||"obj")+`) {
`+(bt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ne?", __e = _.escape":"")+(he?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ze+`return __p
}`;var Ht=HP(function(){return $t(z,dt+"return "+ze).apply(t,Z)});if(Ht.source=ze,O1(Ht))throw Ht;return Ht}function KH(u){return mn(u).toLowerCase()}function YH(u){return mn(u).toUpperCase()}function $H(u,h,b){if(u=mn(u),u&&(b||h===t))return Qs(u);if(!u||!(h=d(h)))return u;var P=ui(u),O=ui(h),z=Wu(P,O),Z=So(P,O)+1;return Qt(P,z,Z).join("")}function ZH(u,h,b){if(u=mn(u),u&&(b||h===t))return u.slice(0,gl(u)+1);if(!u||!(h=d(h)))return u;var P=ui(u),O=So(P,ui(h))+1;return Qt(P,0,O).join("")}function JH(u,h,b){if(u=mn(u),u&&(b||h===t))return u.replace(X,"");if(!u||!(h=d(h)))return u;var P=ui(u),O=Wu(P,ui(h));return Qt(P,O).join("")}function QH(u,h){var b=U,P=B;if(Kn(h)){var O="separator"in h?h.separator:O;b="length"in h?Ut(h.length):b,P="omission"in h?d(h.omission):P}u=mn(u);var z=u.length;if(ta(u)){var Z=ui(u);z=Z.length}if(b>=z)return u;var ne=b-Bn(P);if(ne<1)return P;var he=Z?Qt(Z,0,ne).join(""):u.slice(0,ne);if(O===t)return he+P;if(Z&&(ne+=he.length-ne),F1(O)){if(u.slice(ne).search(O)){var Fe,ke=he;for(O.global||(O=vl(O.source,mn(en.exec(O))+"g")),O.lastIndex=0;Fe=O.exec(ke);)var ze=Fe.index;he=he.slice(0,ze===t?ne:ze)}}else if(u.indexOf(d(O),ne)!=ne){var Ze=he.lastIndexOf(O);Ze>-1&&(he=he.slice(0,Ze))}return he+P}function e5(u){return u=mn(u),u&&Df.test(u)?u.replace(Xr,ci):u}var t5=Ld(function(u,h,b){return u+(b?" ":"")+h.toUpperCase()}),B1=GC("toUpperCase");function VP(u,h,b){return u=mn(u),h=b?t:h,h===t?Qf(u)?na(u):Cy(u):u.match(h)||[]}var HP=At(function(u,h){try{return yr(u,t,h)}catch(b){return O1(b)?b:new Rt(b)}}),n5=xa(function(u,h){return sr(h,function(b){b=Ts(b),Xi(u,b,I1(u[b],u))}),u});function r5(u){var h=u==null?0:u.length,b=St();return u=h?hn(u,function(P){if(typeof P[1]!="function")throw new fi(s);return[b(P[0]),P[1]]}):[],At(function(P){for(var O=-1;++O<h;){var z=u[O];if(yr(z[0],this,P))return yr(z[1],this,P)}})}function i5(u){return lc(lr(u,v))}function z1(u){return function(){return u}}function o5(u,h){return u==null||u!==u?h:u}var s5=jC(),a5=jC(!0);function $i(u){return u}function U1(u){return Gy(typeof u=="function"?u:lr(u,v))}function l5(u){return Wy(lr(u,v))}function u5(u,h){return jy(u,lr(h,v))}var c5=At(function(u,h){return function(b){return Eo(b,u,h)}}),f5=At(function(u,h){return function(b){return Eo(u,b,h)}});function V1(u,h,b){var P=Nr(h),O=ma(h,P);b==null&&!(Kn(h)&&(O.length||!P.length))&&(b=h,h=u,u=this,O=ma(h,Nr(h)));var z=!(Kn(b)&&"chain"in b)||!!b.chain,Z=wa(u);return sr(O,function(ne){var he=h[ne];u[ne]=he,Z&&(u.prototype[ne]=function(){var Fe=this.__chain__;if(z||Fe){var ke=u(this.__wrapped__),ze=ke.__actions__=Tt(this.__actions__);return ze.push({func:he,args:arguments,thisArg:u}),ke.__chain__=Fe,ke}return he.apply(u,Go([this.value()],arguments))})}),u}function d5(){return br._===this&&(br._=rd),this}function H1(){}function h5(u){return u=Ut(u),At(function(h){return Ed(h,u)})}var p5=x1(hn),m5=x1(Fp),g5=x1(ml);function GP(u){return T1(u)?Jf(Ts(u)):Td(u)}function v5(u){return function(h){return u==null?t:ur(u,h)}}var y5=XC(),x5=XC(!0);function G1(){return[]}function W1(){return!1}function _5(){return{}}function w5(){return""}function S5(){return!0}function b5(u,h){if(u=Ut(u),u<1||u>Pe)return[];var b=te,P=Sn(u,te);h=St(h),u-=te;for(var O=Gi(P,h);++b<u;)h(b);return O}function M5(u){return kt(u)?hn(u,Ts):oo(u)?[u]:Tt(uP(mn(u)))}function E5(u){var h=++Ly;return mn(u)+h}var T5=Zy(function(u,h){return u+h},0),A5=_1("ceil"),C5=Zy(function(u,h){return u/h},1),P5=_1("floor");function R5(u){return u&&u.length?ha(u,$i,cc):t}function L5(u,h){return u&&u.length?ha(u,St(h,2),cc):t}function I5(u){return Vu(u,$i)}function D5(u,h){return Vu(u,St(h,2))}function O5(u){return u&&u.length?ha(u,$i,bd):t}function F5(u,h){return u&&u.length?ha(u,St(h,2),bd):t}var k5=Zy(function(u,h){return u*h},1),N5=_1("round"),B5=Zy(function(u,h){return u-h},0);function z5(u){return u&&u.length?ws(u,$i):0}function U5(u,h){return u&&u.length?ws(u,St(h,2)):0}return N.after=lV,N.ary=_P,N.assign=YV,N.assignIn=OP,N.assignInWith=c0,N.assignWith=$V,N.at=ZV,N.before=wP,N.bind=I1,N.bindAll=n5,N.bindKey=SP,N.castArray=_V,N.chain=vP,N.chunk=P4,N.compact=R4,N.concat=L4,N.cond=r5,N.conforms=i5,N.constant=z1,N.countBy=zU,N.create=JV,N.curry=bP,N.curryRight=MP,N.debounce=EP,N.defaults=QV,N.defaultsDeep=eH,N.defer=uV,N.delay=cV,N.difference=I4,N.differenceBy=D4,N.differenceWith=O4,N.drop=F4,N.dropRight=k4,N.dropRightWhile=N4,N.dropWhile=B4,N.fill=z4,N.filter=VU,N.flatMap=WU,N.flatMapDeep=jU,N.flatMapDepth=qU,N.flatten=hP,N.flattenDeep=U4,N.flattenDepth=V4,N.flip=fV,N.flow=s5,N.flowRight=a5,N.fromPairs=H4,N.functions=aH,N.functionsIn=lH,N.groupBy=XU,N.initial=W4,N.intersection=j4,N.intersectionBy=q4,N.intersectionWith=X4,N.invert=cH,N.invertBy=fH,N.invokeMap=YU,N.iteratee=U1,N.keyBy=$U,N.keys=Nr,N.keysIn=Yi,N.map=i0,N.mapKeys=hH,N.mapValues=pH,N.matches=l5,N.matchesProperty=u5,N.memoize=s0,N.merge=mH,N.mergeWith=FP,N.method=c5,N.methodOf=f5,N.mixin=V1,N.negate=a0,N.nthArg=h5,N.omit=gH,N.omitBy=vH,N.once=dV,N.orderBy=ZU,N.over=p5,N.overArgs=hV,N.overEvery=m5,N.overSome=g5,N.partial=D1,N.partialRight=TP,N.partition=JU,N.pick=yH,N.pickBy=kP,N.property=GP,N.propertyOf=v5,N.pull=Z4,N.pullAll=mP,N.pullAllBy=J4,N.pullAllWith=Q4,N.pullAt=eU,N.range=y5,N.rangeRight=x5,N.rearg=pV,N.reject=tV,N.remove=tU,N.rest=mV,N.reverse=R1,N.sampleSize=rV,N.set=_H,N.setWith=wH,N.shuffle=iV,N.slice=nU,N.sortBy=aV,N.sortedUniq=uU,N.sortedUniqBy=cU,N.split=WH,N.spread=gV,N.tail=fU,N.take=dU,N.takeRight=hU,N.takeRightWhile=pU,N.takeWhile=mU,N.tap=RU,N.throttle=vV,N.thru=r0,N.toArray=LP,N.toPairs=NP,N.toPairsIn=BP,N.toPath=M5,N.toPlainObject=DP,N.transform=SH,N.unary=yV,N.union=gU,N.unionBy=vU,N.unionWith=yU,N.uniq=xU,N.uniqBy=_U,N.uniqWith=wU,N.unset=bH,N.unzip=L1,N.unzipWith=gP,N.update=MH,N.updateWith=EH,N.values=Od,N.valuesIn=TH,N.without=SU,N.words=VP,N.wrap=xV,N.xor=bU,N.xorBy=MU,N.xorWith=EU,N.zip=TU,N.zipObject=AU,N.zipObjectDeep=CU,N.zipWith=PU,N.entries=NP,N.entriesIn=BP,N.extend=OP,N.extendWith=c0,V1(N,N),N.add=T5,N.attempt=HP,N.camelCase=RH,N.capitalize=zP,N.ceil=A5,N.clamp=AH,N.clone=wV,N.cloneDeep=bV,N.cloneDeepWith=MV,N.cloneWith=SV,N.conformsTo=EV,N.deburr=UP,N.defaultTo=o5,N.divide=C5,N.endsWith=LH,N.eq=Zo,N.escape=IH,N.escapeRegExp=DH,N.every=UU,N.find=HU,N.findIndex=fP,N.findKey=tH,N.findLast=GU,N.findLastIndex=dP,N.findLastKey=nH,N.floor=P5,N.forEach=yP,N.forEachRight=xP,N.forIn=rH,N.forInRight=iH,N.forOwn=oH,N.forOwnRight=sH,N.get=k1,N.gt=TV,N.gte=AV,N.has=uH,N.hasIn=N1,N.head=pP,N.identity=$i,N.includes=KU,N.indexOf=G4,N.inRange=CH,N.invoke=dH,N.isArguments=gc,N.isArray=kt,N.isArrayBuffer=CV,N.isArrayLike=Ki,N.isArrayLikeObject=cr,N.isBoolean=PV,N.isBuffer=Al,N.isDate=RV,N.isElement=LV,N.isEmpty=IV,N.isEqual=DV,N.isEqualWith=OV,N.isError=O1,N.isFinite=FV,N.isFunction=wa,N.isInteger=AP,N.isLength=l0,N.isMap=CP,N.isMatch=kV,N.isMatchWith=NV,N.isNaN=BV,N.isNative=zV,N.isNil=VV,N.isNull=UV,N.isNumber=PP,N.isObject=Kn,N.isObjectLike=Qn,N.isPlainObject=wm,N.isRegExp=F1,N.isSafeInteger=HV,N.isSet=RP,N.isString=u0,N.isSymbol=oo,N.isTypedArray=Dd,N.isUndefined=GV,N.isWeakMap=WV,N.isWeakSet=jV,N.join=K4,N.kebabCase=OH,N.last=To,N.lastIndexOf=Y4,N.lowerCase=FH,N.lowerFirst=kH,N.lt=qV,N.lte=XV,N.max=R5,N.maxBy=L5,N.mean=I5,N.meanBy=D5,N.min=O5,N.minBy=F5,N.stubArray=G1,N.stubFalse=W1,N.stubObject=_5,N.stubString=w5,N.stubTrue=S5,N.multiply=k5,N.nth=$4,N.noConflict=d5,N.noop=H1,N.now=o0,N.pad=NH,N.padEnd=BH,N.padStart=zH,N.parseInt=UH,N.random=PH,N.reduce=QU,N.reduceRight=eV,N.repeat=VH,N.replace=HH,N.result=xH,N.round=N5,N.runInContext=ce,N.sample=nV,N.size=oV,N.snakeCase=GH,N.some=sV,N.sortedIndex=rU,N.sortedIndexBy=iU,N.sortedIndexOf=oU,N.sortedLastIndex=sU,N.sortedLastIndexBy=aU,N.sortedLastIndexOf=lU,N.startCase=jH,N.startsWith=qH,N.subtract=B5,N.sum=z5,N.sumBy=U5,N.template=XH,N.times=b5,N.toFinite=Sa,N.toInteger=Ut,N.toLength=IP,N.toLower=KH,N.toNumber=Ao,N.toSafeInteger=KV,N.toString=mn,N.toUpper=YH,N.trim=$H,N.trimEnd=ZH,N.trimStart=JH,N.truncate=QH,N.unescape=e5,N.uniqueId=E5,N.upperCase=t5,N.upperFirst=B1,N.each=yP,N.eachRight=xP,N.first=pP,V1(N,function(){var u={};return Tr(N,function(h,b){on.call(N.prototype,b)||(u[b]=h)}),u}(),{chain:!1}),N.VERSION=r,sr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){N[u].placeholder=N}),sr(["drop","take"],function(u,h){Vt.prototype[u]=function(b){b=b===t?1:vn(Ut(b),0);var P=this.__filtered__&&!h?new Vt(this):this.clone();return P.__filtered__?P.__takeCount__=Sn(b,P.__takeCount__):P.__views__.push({size:Sn(b,te),type:u+(P.__dir__<0?"Right":"")}),P},Vt.prototype[u+"Right"]=function(b){return this.reverse()[u](b).reverse()}}),sr(["filter","map","takeWhile"],function(u,h){var b=h+1,P=b==ie||b==re;Vt.prototype[u]=function(O){var z=this.clone();return z.__iteratees__.push({iteratee:St(O,3),type:b}),z.__filtered__=z.__filtered__||P,z}}),sr(["head","last"],function(u,h){var b="take"+(h?"Right":"");Vt.prototype[u]=function(){return this[b](1).value()[0]}}),sr(["initial","tail"],function(u,h){var b="drop"+(h?"":"Right");Vt.prototype[u]=function(){return this.__filtered__?new Vt(this):this[b](1)}}),Vt.prototype.compact=function(){return this.filter($i)},Vt.prototype.find=function(u){return this.filter(u).head()},Vt.prototype.findLast=function(u){return this.reverse().find(u)},Vt.prototype.invokeMap=At(function(u,h){return typeof u=="function"?new Vt(this):this.map(function(b){return Eo(b,u,h)})}),Vt.prototype.reject=function(u){return this.filter(a0(St(u)))},Vt.prototype.slice=function(u,h){u=Ut(u);var b=this;return b.__filtered__&&(u>0||h<0)?new Vt(b):(u<0?b=b.takeRight(-u):u&&(b=b.drop(u)),h!==t&&(h=Ut(h),b=h<0?b.dropRight(-h):b.take(h-u)),b)},Vt.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},Vt.prototype.toArray=function(){return this.take(te)},Tr(Vt.prototype,function(u,h){var b=/^(?:filter|find|map|reject)|While$/.test(h),P=/^(?:head|last)$/.test(h),O=N[P?"take"+(h=="last"?"Right":""):h],z=P||/^find/.test(h);!O||(N.prototype[h]=function(){var Z=this.__wrapped__,ne=P?[1]:arguments,he=Z instanceof Vt,Fe=ne[0],ke=he||kt(Z),ze=function(Zt){var tn=O.apply(N,Go([Zt],ne));return P&&Ze?tn[0]:tn};ke&&b&&typeof Fe=="function"&&Fe.length!=1&&(he=ke=!1);var Ze=this.__chain__,dt=!!this.__actions__.length,bt=z&&!Ze,Ht=he&&!dt;if(!z&&ke){Z=Ht?Z:new Vt(this);var Mt=u.apply(Z,ne);return Mt.__actions__.push({func:r0,args:[ze],thisArg:t}),new Ti(Mt,Ze)}return bt&&Ht?u.apply(this,ne):(Mt=this.thru(ze),bt?P?Mt.value()[0]:Mt.value():Mt)})}),sr(["pop","push","shift","sort","splice","unshift"],function(u){var h=qu[u],b=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",P=/^(?:pop|shift)$/.test(u);N.prototype[u]=function(){var O=arguments;if(P&&!this.__chain__){var z=this.value();return h.apply(kt(z)?z:[],O)}return this[b](function(Z){return h.apply(kt(Z)?Z:[],O)})}}),Tr(Vt.prototype,function(u,h){var b=N[h];if(b){var P=b.name+"";on.call(aa,P)||(aa[P]=[]),aa[P].push({name:h,func:b})}}),aa[$y(t,x).name]=[{name:"wrapper",func:t}],Vt.prototype.clone=Jp,Vt.prototype.reverse=By,Vt.prototype.value=Qp,N.prototype.at=LU,N.prototype.chain=IU,N.prototype.commit=DU,N.prototype.next=OU,N.prototype.plant=kU,N.prototype.reverse=NU,N.prototype.toJSON=N.prototype.valueOf=N.prototype.value=BU,N.prototype.first=N.prototype.head,yl&&(N.prototype[yl]=FU),N},Zr=ra();Ys?((Ys.exports=Zr)._=Zr,hl._=Zr):br._=Zr}).call(Fd)})(ZM,ZM.exports);var m9=["account","achiever","acoustics","act","action","activity","actor","addition","adjustment","advertisement","advice","aftermath","afternoon","afterthought","agreement","air","airplane","airport","alarm","amount","amusement","anger","angle","animal","ants","apparatus","apparel","appliance","approval","arch","argument","arithmetic","arm","army","art","attack","attraction","authority","back","badge","bag","bait","balance","ball","base","baseball","basin","basket","basketball","bat","bath","battle","bead","bear","bed","bedroom","beds","bee","beef","beginner","behavior","belief","believe","bell","bells","berry","bike","bikes","bird","birds","birth","birthday","bit","bite","blade","blood","blow","board","boat","bomb","bone","book","books","boot","border","bottle","boundary","box","brake","branch","brass","breath","brick","bridge","bubble","bucket","building","bulb","burst","bushes","business","butter","button","cabbage","cable","cactus","cake","cakes","calculator","calendar","camera","camp","can","cannon","canvas","cap","caption","car","card","care","carpenter","carriage","cars","cart","cast","cat","cats","cattle","cause","cave","celery","cellar","cemetery","cent","chalk","chance","change","channel","cheese","cherries","cherry","chess","chicken","chickens","chin","church","circle","clam","class","cloth","clover","club","coach","coal","coast","coat","cobweb","coil","collar","color","committee","company","comparison","competition","condition","connection","control","cook","copper","corn","cough","country","cover","cow","cows","crack","cracker","crate","crayon","cream","creator","creature","credit","crib","crime","crook","crow","crowd","crown","cub","cup","current","curtain","curve","cushion","day","death","debt","decision","deer","degree","design","desire","desk","destruction","detail","development","digestion","dime","dinner","dinosaurs","direction","dirt","discovery","discussion","distance","distribution","division","dock","doctor","dog","dogs","doll","dolls","donkey","door","downtown","drain","drawer","dress","drink","driving","drop","duck","ducks","dust","ear","earth","earthquake","edge","education","effect","egg","eggnog","eggs","elbow","end","engine","error","event","example","exchange","existence","expansion","experience","expert","eye","eyes","face","fact","fairies","fall","fang","farm","fear","feeling","field","finger","fire","fish","flag","flame","flavor","flesh","flight","flock","floor","flower","flowers","fly","fog","fold","food","foot","force","fork","form","fowl","frame","friction","friend","friends","frog","frogs","front","fruit","fuel","furniture","gate","geese","ghost","giants","giraffe","glass","glove","gold","government","governor","grade","grain","grape","grass","grip","ground","group","growth","guide","guitar","gun","hair","haircut","hall","hammer","hand","hands","harbor","harmony","hat","head","health","heat","hill","history","hobbies","hole","holiday","home","honey","hook","hope","horn","horse","horses","hose","hospital","hot","hour","house","houses","humor","hydrant","ice","icicle","idea","impulse","income","increase","industry","ink","insect","instrument","insurance","interest","invention","iron","island","jail","jam","jar","jeans","jelly","jellyfish","jewel","join","judge","juice","jump","kettle","key","kick","kiss","kittens","kitty","knee","knife","knot","knowledge","laborer","lace","ladybug","lake","lamp","land","language","laugh","leather","leg","legs","letter","letters","lettuce","level","library","limit","line","linen","lip","liquid","loaf","lock","locket","look","loss","love","low","lumber","lunch","lunchroom","machine","magic","maid","mailbox","marble","mark","market","mask","mass","match","meal","measure","meat","meeting","memory","metal","mice","middle","milk","mind","mine","minister","mint","minute","mist","mitten","money","month","moon","morning","mother","motion","mountain","mouth","move","muscle","name","nation","neck","need","needle","nerve","nest","night","noise","north","nose","note","notebook","number","nut","oatmeal","observation","ocean","offer","office","oil","orange","oranges","order","oven","page","pail","pan","pancake","paper","parcel","part","partner","party","passenger","payment","peace","pear","pen","pencil","person","pest","pet","pets","pickle","picture","pie","pies","pig","pigs","pin","pipe","pizzas","place","plane","planes","plant","plantation","plants","plastic","plate","play","playground","pleasure","plot","plough","pocket","point","poison","pollution","popcorn","porter","position","pot","potato","powder","power","price","produce","profit","property","prose","protest","pull","pump","punishment","purpose","push","quarter","quartz","question","quicksand","quiet","quill","quilt","quince","quiver","rabbit","rabbits","rail","railway","rain","rainstorm","rake","range","rat","rate","ray","reaction","reading","reason","receipt","recess","record","regret","relation","religion","representative","request","respect","rest","reward","rhythm","rice","riddle","rifle","ring","rings","river","road","robin","rock","rod","roll","roof","room","root","rose","route","rub","rule","run","sack","sail","salt","sand","scale","scarecrow","scarf","scene","scent","school","science","scissors","screw","sea","seashore","seat","secretary","seed","selection","self","sense","servant","shade","shake","shame","shape","sheep","sheet","shelf","ship","shirt","shock","shoe","shoes","shop","show","side","sidewalk","sign","silk","silver","sink","size","skate","skin","skirt","sky","slave","sleep","sleet","slip","slope","smash","smell","smile","smoke","snail","snails","snake","snakes","sneeze","snow","soap","society","sock","soda","sofa","song","songs","sort","sound","soup","space","spade","spark","spiders","sponge","spoon","spot","spring","spy","square","squirrel","stage","stamp","star","start","statement","station","steam","steel","stem","step","stew","stick","sticks","stitch","stocking","stomach","stone","stop","store","story","stove","stranger","straw","stream","street","stretch","string","structure","substance","sugar","suggestion","suit","summer","sun","support","surprise","sweater","swim","swing","system","table","tail","talk","tank","taste","tax","teaching","team","teeth","temper","tendency","tent","territory","test","texture","theory","thing","things","thought","thread","thrill","throat","throne","thumb","thunder","ticket","tiger","time","tin","title","toad","toe","toes","tomatoes","tongue","tooth","toothbrush","toothpaste","top","touch","town","toy","toys","trade","trail","train","trains","tramp","transport","tray","treatment","tree","trees","trick","trip","trouble","trousers","truck","trucks","tub","turkey","turn","twig","twist","umbrella","underwear","unit","use","vacation","value","van","vase","vegetable","veil","vein","verse","vessel","vest","view","visitor","voice","volcano","volleyball","voyage","walk","wall","war","wash","waste","watch","water","wave","waves","wax","way","wealth","weather","week","weight","wheel","whip","whistle","wilderness","wind","window","wine","wing","winter","wire","wish","wood","wool","word","work","worm","wound","wren","wrench","wrist","writer","writing","yak","yam","yard","yarn","year","yoke","zebra","zephyr","zinc","zipper","zoo"],g9=["abandoned","abashed","aberrant","abhorrent","abiding","abject","ablaze","able","abounding","abrasive","abrupt","absent","absorbed","absorbing","abstracted","absurd","abundant","acceptable","accessible","accidental","accurate","acidic","acoustic","acrid","actionable","active","actual","adamant","adaptable","adept","adhesive","adjoining","adorable","adroit","adventurous","affable","affectionate","afraid","aggressive","agile","agonizing","agreeable","airy","alert","alive","alleged","alluring","aloof","amazing","ambiguous","ambitious","amiable","ample","amused","amusing","ancient","angry","animated","annoyed","annoying","anxious","apathetic","apt","aquatic","ardent","aromatic","arrogant","ashamed","aspiring","assorted","astonishing","astute","attractive","august","auspicious","automatic","available","average","avid","aware","awesome","awful","axiomatic","bad","balmy","barbarous","bashful","bawdy","beautiful","befitting","belligerent","beneficial","benevolent","bent","berserk","best","better","bewildered","big","billowing","billowy","bitter","bizarre","blessed","bloody","blue","blushing","boiling","bold","boorish","bored","boring","boss","bouncy","boundless","brainy","brash","brave","brawny","breakable","breezy","brief","bright","brisk","broad","broken","bumpy","burly","bustling","busy","cagey","calculating","callous","calm","can","canny","capable","capricious","cared","careful","careless","caring","casual","cautious","ceaseless","celestial","certain","changeable","charming","cheap","cheerful","chemical","chic","chief","childlike","chilly","chivalrous","choice","chosen","chubby","chummy","chunky","civic","civil","clammy","classy","clean","clear","clever","cloistered","close","closed","cloudy","clumsy","cluttered","cogent","coherent","cold","colorful","colossal","combative","comfortable","common","complete","complex","composed","concerned","condemned","confused","conscious","cooing","cool","cooperative","coordinated","cosmic","courageous","cowardly","cozy","crabby","craven","crazy","creepy","crooked","crowded","cruel","cuddly","cultured","cumbersome","curious","curly","curved","curvy","cut","cute","cynical","daffy","daily","dainty","damaged","damaging","damp","dandy","dangerous","dapper","daring","dark","dashing","dazzling","dead","deadpan","deafening","dear","debonair","decent","decisive","decorous","deep","deeply","defeated","defective","defiant","deft","delicate","delicious","delightful","delirious","deluxe","demonic","dependent","deranged","descriptive","deserted","detailed","determined","devilish","devout","didactic","different","difficult","diligent","direct","direful","dirty","disagreeable","disastrous","discreet","disgusted","disgusting","disillusioned","dispensable","distinct","disturbed","divergent","divine","dizzy","domineering","doted","doting","doubtful","drab","draconian","dramatic","dreamy","dreary","driven","dry","dull","dusty","dynamic","dysfunctional","eager","early","earsplitting","earthy","easy","eatable","economic","educated","efficacious","efficient","eight","elastic","elated","electric","elegant","elfin","elite","embarrassed","eminent","empty","enchanted","enchanting","encouraging","end","endurable","energetic","energized","enigmatic","enormous","entertaining","enthusiastic","envious","equable","equal","erect","erratic","ethereal","evanescent","evasive","even","evil","exact","excellent","excited","exciting","exclusive","exotic","expensive","expert","exuberant","exultant","fabulous","faded","faint","fair","faithful","fallacious","false","famed","familiar","famous","fanatical","fancy","fantastic","far","fascinated","fast","faulty","fearful","fearless","feigned","fertile","festive","few","fierce","fiery","filthy","fine","finicky","first","fit","fixed","flagrant","flaky","flashy","flat","flawless","fleet","flimsy","flippant","flowery","flowing","fluent","fluffy","fluttering","flying","foamy","fond","foolish","for","foregoing","forgetful","forlorn","fortunate","fragile","frail","frank","frantic","free","freezing","frequent","fresh","fretful","friendly","frightened","frightening","full","fumbling","fun","functional","funny","furry","furtive","fuscia","future","futuristic","fuzzy","gabby","gainful","gamy","gaping","garrulous","gas","gaudy","general","genial","gentle","giant","giddy","gifted","gigantic","giving","glad","glamorous","gleaming","glib","glistening","glorious","glossy","gnarly","godly","gold","golden","good","goodly","goofy","gorgeous","graceful","grand","grandiose","grateful","gratis","gray","greasy","great","greedy","green","grey","grieving","groovy","grotesque","grouchy","grubby","gruesome","grumpy","guarded","guided","guiltless","gullible","gusty","gutsy","guttural","habitual","half","hallowed","haloed","halting","handsome","handsomely","handy","hanging","hapless","happy","hard","hardy","harmonious","harsh","heady","healthy","heartbreaking","hearty","heavenly","heavy","hellish","helpful","helpless","heroic","hesitant","hideous","high","highfalutin","hilarious","hip","hissing","historical","holistic","hollow","holy","homely","honest","honorable","horrible","hospitable","hot","huge","hulking","human","humane","humble","humdrum","humorous","hungry","hunky","hurried","hurt","hushed","husky","hypnotic","hysterical","icky","icy","ideal","ignorant","ill","illegal","illustrious","imaginary","immense","imminent","immune","impartial","imperfect","impolite","important","imported","impossible","incandescent","incompetent","inconclusive","incredible","indigo","industrious","inexpensive","infamous","innate","innocent","inquisitive","insidious","instinctive","intelligent","interesting","internal","invincible","irate","irritating","itchy","jaded","jagged","jazzed","jazzy","jealous","jittery","jolly","jovial","joyful","joyous","jubilant","judicious","juicy","jumbled","jumpy","just","kaput","keen","khaki","kind","kindhearted","kindly","kingly","knotty","knowing","knowledgeable","known","labored","lackadaisical","lacking","lame","lamentable","languid","large","last","late","laughable","lavish","lawful","lazy","lean","legal","legit","lethal","level","lewd","light","like","likeable","likely","limber","limitless","limping","literate","little","lively","living","lonely","long","longing","loose","lopsided","loud","lousy","loutish","loved","lovely","loving","low","lowly","loyal","lucid","lucky","ludicrous","lumpy","lush","luxuriant","lying","lyrical","macabre","macho","maddening","madly","magenta","magical","magnificent","main","majestic","major","makeshift","malicious","mammoth","maniacal","many","marked","married","marvelous","massive","material","materialistic","max","maxed","mean","measly","meaty","medical","meek","mellow","melodic","melted","merciful","mere","merry","messy","mighty","military","milky","mindless","miniature","minor","mint","mirthful","miscreant","misty","mixed","moaning","modern","modest","moldy","momentous","money","moonlit","moral","motionless","mountainous","moving","mucho","muddled","mundane","murky","mushy","mute","mutual","mysterious","naive","nappy","narrow","nasty","native","natural","naughty","nauseating","near","neat","nebulous","necessary","needed","needless","needy","neighborly","nervous","new","next","nice","nifty","nimble","nippy","noble","noiseless","noisy","nonchalant","nondescript","nonstop","normal","nostalgic","nosy","noted","novel","noxious","null","numberless","numero","numerous","nutritious","nutty","oafish","obedient","obeisant","obnoxious","obscene","obsequious","observant","obsolete","obtainable","oceanic","odd","offbeat","okay","omniscient","onerous","open","opposite","optimal","orange","ordinary","organic","ossified","outgoing","outrageous","outstanding","oval","overconfident","overjoyed","overrated","overt","overwrought","pacific","painful","painstaking","pale","paltry","panicky","panoramic","parallel","parched","parsimonious","past","pastoral","pathetic","peaceful","peachy","penitent","peppy","perfect","periodic","permissible","perpetual","petite","phobic","physical","picayune","pink","piquant","pithy","placid","plain","plant","plastic","plausible","pleasant","plucky","plum","poetic","pointless","poised","polite","political","posh","possessive","possible","potent","powerful","precious","premium","present","pretty","previous","pricey","prickly","prime","primo","private","prized","pro","probable","productive","profuse","prompt","proper","protective","proud","psychedelic","psychotic","public","puffy","pumped","punchy","puny","pure","purple","purring","pushy","puzzled","puzzling","quack","quaint","quarrelsome","questionable","quick","quickest","quiet","quirky","quixotic","quizzical","rabid","racial","rad","radioactive","ragged","rainy","rambunctious","rampant","rapid","rare","raspy","ratty","reach","ready","real","rebel","receptive","recondite","red","redundant","reflective","regal","regular","relieved","remarkable","reminiscent","repulsive","resilient","resolute","resonant","responsible","rhetorical","rich","right","righteous","rightful","rigid","ripe","ritzy","roasted","robust","romantic","roomy","rooted","rosy","rotten","rough","round","royal","ruddy","rude","rugged","rural","rustic","ruthless","sable","sad","safe","salty","same","sassy","satisfying","saucy","savory","savvy","scandalous","scarce","scared","scary","scattered","scenic","scientific","scintillating","scrawny","screeching","second","secret","secretive","sedate","seemly","selective","selfish","sensitive","separate","serene","serious","shaggy","shaky","shallow","sharp","shiny","shivering","shocking","short","showy","shrewd","shrill","shut","shy","sick","silent","silky","silly","simple","simplistic","sincere","skillful","skinny","sleek","sleepy","slick","slim","slimy","slippery","sloppy","slow","small","smart","smelly","smiley","smiling","smoggy","smooth","snappy","snazzy","sneaky","snobbish","snotty","snowy","snugly","social","soft","soggy","sole","solid","solitary","somber","sophisticated","sordid","sore","sound","sour","spacial","sparkling","special","spectacular","spicy","spiffy","spiky","spiritual","spiteful","splendid","spooky","spotless","spotted","spotty","spry","spurious","squalid","square","squealing","squeamish","stable","staking","stale","standing","star","stark","statuesque","steadfast","steady","steep","stereotyped","sticky","stiff","stimulating","stingy","stoic","stormy","straight","strange","striped","strong","stunning","stupendous","sturdy","suave","subdued","subsequent","substantial","subtle","successful","succinct","sudden","sulky","sunny","sunset","super","superb","superficial","supreme","sure","swank","swanky","sweet","swell","sweltering","swift","symptomatic","synonymous","taboo","tacit","tacky","talented","tall","tame","tan","tangible","tangy","tart","tasteful","tasteless","tasty","tawdry","teal","tearful","tedious","teeny","telling","temporary","tender","tense","tenuous","terrible","terrific","tested","testy","thankful","therapeutic","thin","thinkable","third","thoughtful","thoughtless","threatening","thriving","thundering","tidy","timely","tiny","tired","tiresome","toothsome","top","tops","torpid","tough","touted","towering","tranquil","trashy","tremendous","tricky","trim","trite","tropical","troubled","truculent","true","trusty","truthful","try","typical","ubiquitous","ultra","unable","unaccountable","unadvised","unarmed","unbecoming","unbiased","uncovered","understood","undisturbed","unequal","unequaled","uneven","unhealthy","uninterested","unique","united","unkempt","unknown","unnatural","unruly","unsightly","unsuitable","untidy","unused","unusual","unwavering","unwieldy","unwritten","upbeat","uplifting","uppity","upset","uptight","urbane","usable","used","useful","utmost","utopian","utter","uttermost","vacuous","vagabond","vague","valid","valuable","various","vast","vengeful","venomous","verdant","versed","vestal","viable","victorious","vigorous","violent","violet","vital","vivacious","vivid","vocal","vogue","voiceless","volatile","voracious","wacky","waggish","waiting","wakeful","wandering","wanted","wanting","warlike","warm","wary","wasteful","watery","weak","wealthy","weary","wet","whimsical","whispering","whole","wholesale","wicked","wide","wiggly","wild","willing","windy","winged","wired","wiry","wise","wistful","witty","woebegone","wonderful","wooden","woozy","workable","worried","worthy","wrathful","wretched","wrong","wry","yielding","young","youthful","yummy","zany","zealous","zesty","zippy","zonked"];const tu=ZM.exports,oI=m9,sI=g9;var Vre=JM;JM.generate=JM;function JM(n){var e={number:!1,words:2,alliterative:!1};n=tu.merge(e,n||{});var t=v9(n);return{raw:t,dashed:t.join("-"),spaced:t.join(" ")}}function v9(n){var e=[];return tu.times(n.words-1,function(){n.alliterative&&e.length?e.push(tu.sample(aI(sI,e[0].substring(0,1)))):e.push(tu.sample(sI).toLowerCase())}),n.alliterative?e.push(tu.sample(aI(oI,e[0].substring(0,1)))):e.push(tu.sample(oI).toLowerCase()),n.number&&e.push(tu.random(1,9999)),e}function aI(n,e){var t=e.toLowerCase();return tu.filter(n,function(r){return r.substring(0,1).toLowerCase()===t})}var y9="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",x9=y9,_9=x9;function lI(){}function uI(){}uI.resetWarningCache=lI;var w9=function(){function n(r,i,o,s,a,l){if(l!==_9){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}n.isRequired=n;function e(){return n}var t={array:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:uI,resetWarningCache:lI};return t.PropTypes=t,t};w9();var nu=J1.createContext(null);function S9(n){n()}var cI=S9,b9=function(e){return cI=e},M9=function(){return cI};function E9(){var n=M9(),e=null,t=null;return{clear:function(){e=null,t=null},notify:function(){n(function(){for(var i=e;i;)i.callback(),i=i.next})},get:function(){for(var i=[],o=e;o;)i.push(o),o=o.next;return i},subscribe:function(i){var o=!0,s=t={callback:i,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!o||e===null||(o=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var fI={notify:function(){},get:function(){return[]}};function dI(n,e){var t,r=fI;function i(v){return l(),r.subscribe(v)}function o(){r.notify()}function s(){m.onStateChange&&m.onStateChange()}function a(){return Boolean(t)}function l(){t||(t=e?e.addNestedSub(s):n.subscribe(s),r=E9())}function c(){t&&(t(),t=void 0,r.clear(),r=fI)}var m={addNestedSub:i,notifyNestedSubs:o,handleChangeWrapper:s,isSubscribed:a,trySubscribe:l,tryUnsubscribe:c,getListeners:function(){return r}};return m}var QM=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined"?se.exports.useLayoutEffect:se.exports.useEffect;function Hre(n){var e=n.store,t=n.context,r=n.children,i=se.exports.useMemo(function(){var a=dI(e);return a.onStateChange=a.notifyNestedSubs,{store:e,subscription:a}},[e]),o=se.exports.useMemo(function(){return e.getState()},[e]);QM(function(){var a=i.subscription;return a.trySubscribe(),o!==e.getState()&&a.notifyNestedSubs(),function(){a.tryUnsubscribe(),a.onStateChange=null}},[i,o]);var s=t||nu;return c3(s.Provider,{value:i,children:r})}var hI={exports:{}},xn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vr=typeof Symbol=="function"&&Symbol.for,eE=Vr?Symbol.for("react.element"):60103,tE=Vr?Symbol.for("react.portal"):60106,jx=Vr?Symbol.for("react.fragment"):60107,qx=Vr?Symbol.for("react.strict_mode"):60108,Xx=Vr?Symbol.for("react.profiler"):60114,Kx=Vr?Symbol.for("react.provider"):60109,Yx=Vr?Symbol.for("react.context"):60110,nE=Vr?Symbol.for("react.async_mode"):60111,$x=Vr?Symbol.for("react.concurrent_mode"):60111,Zx=Vr?Symbol.for("react.forward_ref"):60112,Jx=Vr?Symbol.for("react.suspense"):60113,T9=Vr?Symbol.for("react.suspense_list"):60120,Qx=Vr?Symbol.for("react.memo"):60115,e_=Vr?Symbol.for("react.lazy"):60116,A9=Vr?Symbol.for("react.block"):60121,C9=Vr?Symbol.for("react.fundamental"):60117,P9=Vr?Symbol.for("react.responder"):60118,R9=Vr?Symbol.for("react.scope"):60119;function fo(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case eE:switch(n=n.type,n){case nE:case $x:case jx:case Xx:case qx:case Jx:return n;default:switch(n=n&&n.$$typeof,n){case Yx:case Zx:case e_:case Qx:case Kx:return n;default:return e}}case tE:return e}}}function pI(n){return fo(n)===$x}xn.AsyncMode=nE;xn.ConcurrentMode=$x;xn.ContextConsumer=Yx;xn.ContextProvider=Kx;xn.Element=eE;xn.ForwardRef=Zx;xn.Fragment=jx;xn.Lazy=e_;xn.Memo=Qx;xn.Portal=tE;xn.Profiler=Xx;xn.StrictMode=qx;xn.Suspense=Jx;xn.isAsyncMode=function(n){return pI(n)||fo(n)===nE};xn.isConcurrentMode=pI;xn.isContextConsumer=function(n){return fo(n)===Yx};xn.isContextProvider=function(n){return fo(n)===Kx};xn.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===eE};xn.isForwardRef=function(n){return fo(n)===Zx};xn.isFragment=function(n){return fo(n)===jx};xn.isLazy=function(n){return fo(n)===e_};xn.isMemo=function(n){return fo(n)===Qx};xn.isPortal=function(n){return fo(n)===tE};xn.isProfiler=function(n){return fo(n)===Xx};xn.isStrictMode=function(n){return fo(n)===qx};xn.isSuspense=function(n){return fo(n)===Jx};xn.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===jx||n===$x||n===Xx||n===qx||n===Jx||n===T9||typeof n=="object"&&n!==null&&(n.$$typeof===e_||n.$$typeof===Qx||n.$$typeof===Kx||n.$$typeof===Yx||n.$$typeof===Zx||n.$$typeof===C9||n.$$typeof===P9||n.$$typeof===R9||n.$$typeof===A9)};xn.typeOf=fo;hI.exports=xn;var mI=hI.exports,L9={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},I9={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},gI={};gI[mI.ForwardRef]=L9;gI[mI.Memo]=I9;var Rn={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t_=60103,n_=60106,zg=60107,Ug=60108,Vg=60114,Hg=60109,Gg=60110,Wg=60112,jg=60113,rE=60120,qg=60115,Xg=60116,vI=60121,yI=60122,xI=60117,_I=60129,wI=60131;if(typeof Symbol=="function"&&Symbol.for){var ri=Symbol.for;t_=ri("react.element"),n_=ri("react.portal"),zg=ri("react.fragment"),Ug=ri("react.strict_mode"),Vg=ri("react.profiler"),Hg=ri("react.provider"),Gg=ri("react.context"),Wg=ri("react.forward_ref"),jg=ri("react.suspense"),rE=ri("react.suspense_list"),qg=ri("react.memo"),Xg=ri("react.lazy"),vI=ri("react.block"),yI=ri("react.server.block"),xI=ri("react.fundamental"),_I=ri("react.debug_trace_mode"),wI=ri("react.legacy_hidden")}function rs(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case t_:switch(n=n.type,n){case zg:case Vg:case Ug:case jg:case rE:return n;default:switch(n=n&&n.$$typeof,n){case Gg:case Wg:case Xg:case qg:case Hg:return n;default:return e}}case n_:return e}}}var D9=Hg,O9=t_,F9=Wg,k9=zg,N9=Xg,B9=qg,z9=n_,U9=Vg,V9=Ug,H9=jg;Rn.ContextConsumer=Gg;Rn.ContextProvider=D9;Rn.Element=O9;Rn.ForwardRef=F9;Rn.Fragment=k9;Rn.Lazy=N9;Rn.Memo=B9;Rn.Portal=z9;Rn.Profiler=U9;Rn.StrictMode=V9;Rn.Suspense=H9;Rn.isAsyncMode=function(){return!1};Rn.isConcurrentMode=function(){return!1};Rn.isContextConsumer=function(n){return rs(n)===Gg};Rn.isContextProvider=function(n){return rs(n)===Hg};Rn.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===t_};Rn.isForwardRef=function(n){return rs(n)===Wg};Rn.isFragment=function(n){return rs(n)===zg};Rn.isLazy=function(n){return rs(n)===Xg};Rn.isMemo=function(n){return rs(n)===qg};Rn.isPortal=function(n){return rs(n)===n_};Rn.isProfiler=function(n){return rs(n)===Vg};Rn.isStrictMode=function(n){return rs(n)===Ug};Rn.isSuspense=function(n){return rs(n)===jg};Rn.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===zg||n===Vg||n===_I||n===Ug||n===jg||n===rE||n===wI||typeof n=="object"&&n!==null&&(n.$$typeof===Xg||n.$$typeof===qg||n.$$typeof===Hg||n.$$typeof===Gg||n.$$typeof===Wg||n.$$typeof===xI||n.$$typeof===vI||n[0]===yI)};Rn.typeOf=rs;function SI(){var n=se.exports.useContext(nu);return n}function bI(n){n===void 0&&(n=nu);var e=n===nu?SI:function(){return se.exports.useContext(n)};return function(){var r=e(),i=r.store;return i}}var G9=bI();function W9(n){n===void 0&&(n=nu);var e=n===nu?G9:bI(n);return function(){var r=e();return r.dispatch}}var Gre=W9(),j9=function(e,t){return e===t};function q9(n,e,t,r){var i=se.exports.useReducer(function(y){return y+1},0),o=i[1],s=se.exports.useMemo(function(){return dI(t,r)},[t,r]),a=se.exports.useRef(),l=se.exports.useRef(),c=se.exports.useRef(),m=se.exports.useRef(),v=t.getState(),p;try{if(n!==l.current||v!==c.current||a.current){var g=n(v);m.current===void 0||!e(g,m.current)?p=g:p=m.current}else p=m.current}catch(y){throw a.current&&(y.message+=`
The error may be correlated with this previous error:
`+a.current.stack+`

`),y}return QM(function(){l.current=n,c.current=v,m.current=p,a.current=void 0}),QM(function(){function y(){try{var S=t.getState();if(S===c.current)return;var M=l.current(S);if(e(M,m.current))return;m.current=M,c.current=S}catch(x){a.current=x}o()}return s.onStateChange=y,s.trySubscribe(),y(),function(){return s.tryUnsubscribe()}},[t,s]),p}function X9(n){n===void 0&&(n=nu);var e=n===nu?SI:function(){return se.exports.useContext(n)};return function(r,i){i===void 0&&(i=j9);var o=e(),s=o.store,a=o.subscription,l=q9(r,i,s,a);return se.exports.useDebugValue(l),l}}var Wre=X9();b9(Bd.exports.unstable_batchedUpdates);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var iE=function(n,e){return iE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},iE(n,e)};function MI(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");iE(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var qe=function(){return qe=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},qe.apply(this,arguments)};function ko(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function K9(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function nr(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(s)throw s.error}}return o}function is(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))}var Na=function(n){return{isEnabled:function(e){return n.some(function(t){return!!e[t]})}}},Kg={measureLayout:Na(["layout","layoutId","drag"]),animation:Na(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:Na(["exit"]),drag:Na(["drag","dragControls"]),focus:Na(["whileFocus"]),hover:Na(["whileHover","onHoverStart","onHoverEnd"]),tap:Na(["whileTap","onTap","onTapStart","onTapCancel"]),pan:Na(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:Na(["whileInView","onViewportEnter","onViewportLeave"])};function Y9(n){for(var e in n)n[e]!==null&&(e==="projectionNodeConstructor"?Kg.projectionNodeConstructor=n[e]:Kg[e].Component=n[e])}var $9=function(){},r_=function(){},EI=se.exports.createContext({strict:!1}),TI=Object.keys(Kg),Z9=TI.length;function J9(n,e,t){var r=[];if(se.exports.useContext(EI),!e)return null;for(var i=0;i<Z9;i++){var o=TI[i],s=Kg[o],a=s.isEnabled,l=s.Component;a(n)&&l&&r.push(se.exports.createElement(l,qe({key:o},n,{visualElement:e})))}return r}var oE=se.exports.createContext({transformPagePoint:function(n){return n},isStatic:!1}),i_=se.exports.createContext({});function Q9(){return se.exports.useContext(i_).visualElement}var Yg=se.exports.createContext(null),$g=typeof window!="undefined",AI=$g?se.exports.useLayoutEffect:se.exports.useEffect;function e7(n,e,t,r){var i=se.exports.useContext(EI),o=Q9(),s=se.exports.useContext(Yg),a=se.exports.useRef(void 0);r||(r=i.renderer),!a.current&&r&&(a.current=r(n,{visualState:e,parent:o,props:t,presenceId:s==null?void 0:s.id,blockInitialAnimation:(s==null?void 0:s.initial)===!1}));var l=a.current;return AI(function(){l==null||l.syncRender()}),se.exports.useEffect(function(){var c;(c=l==null?void 0:l.animationState)===null||c===void 0||c.animateChanges()}),AI(function(){return function(){return l==null?void 0:l.notifyUnmount()}},[]),l}function Mh(n){return typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function t7(n,e,t){return se.exports.useCallback(function(r){var i;r&&((i=n.mount)===null||i===void 0||i.call(n,r)),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):Mh(t)&&(t.current=r))},[e])}function CI(n){return Array.isArray(n)}function os(n){return typeof n=="string"||CI(n)}function n7(n){var e={};return n.forEachValue(function(t,r){return e[r]=t.get()}),e}function r7(n){var e={};return n.forEachValue(function(t,r){return e[r]=t.getVelocity()}),e}function PI(n,e,t,r,i){var o;return r===void 0&&(r={}),i===void 0&&(i={}),typeof e=="function"&&(e=e(t!=null?t:n.custom,r,i)),typeof e=="string"&&(e=(o=n.variants)===null||o===void 0?void 0:o[e]),typeof e=="function"&&(e=e(t!=null?t:n.custom,r,i)),e}function o_(n,e,t){var r=n.getProps();return PI(r,e,t!=null?t:r.custom,n7(n),r7(n))}function s_(n){var e;return typeof((e=n.animate)===null||e===void 0?void 0:e.start)=="function"||os(n.initial)||os(n.animate)||os(n.whileHover)||os(n.whileDrag)||os(n.whileTap)||os(n.whileFocus)||os(n.exit)}function RI(n){return Boolean(s_(n)||n.variants)}function i7(n,e){if(s_(n)){var t=n.initial,r=n.animate;return{initial:t===!1||os(t)?t:void 0,animate:os(r)?r:void 0}}return n.inherit!==!1?e:{}}function o7(n){var e=i7(n,se.exports.useContext(i_)),t=e.initial,r=e.animate;return se.exports.useMemo(function(){return{initial:t,animate:r}},[LI(t),LI(r)])}function LI(n){return Array.isArray(n)?n.join(" "):n}function Vc(n){var e=se.exports.useRef(null);return e.current===null&&(e.current=n()),e.current}const II=1/60*1e3,s7=typeof performance!="undefined"?()=>performance.now():()=>Date.now(),DI=typeof window!="undefined"?n=>window.requestAnimationFrame(n):n=>setTimeout(()=>n(s7()),II);function a7(n){let e=[],t=[],r=0,i=!1,o=!1;const s=new WeakSet,a={schedule:(l,c=!1,m=!1)=>{const v=m&&i,p=v?e:t;return c&&s.add(l),p.indexOf(l)===-1&&(p.push(l),v&&i&&(r=e.length)),l},cancel:l=>{const c=t.indexOf(l);c!==-1&&t.splice(c,1),s.delete(l)},process:l=>{if(i){o=!0;return}if(i=!0,[e,t]=[t,e],t.length=0,r=e.length,r)for(let c=0;c<r;c++){const m=e[c];m(l),s.has(m)&&(a.schedule(m),n())}i=!1,o&&(o=!1,a.process(l))}};return a}const l7=40;let sE=!0,Zg=!1,aE=!1;const Eh={delta:0,timestamp:0},Jg=["read","update","preRender","render","postRender"],a_=Jg.reduce((n,e)=>(n[e]=a7(()=>Zg=!0),n),{}),ss=Jg.reduce((n,e)=>{const t=a_[e];return n[e]=(r,i=!1,o=!1)=>(Zg||c7(),t.schedule(r,i,o)),n},{}),Th=Jg.reduce((n,e)=>(n[e]=a_[e].cancel,n),{}),lE=Jg.reduce((n,e)=>(n[e]=()=>a_[e].process(Eh),n),{}),u7=n=>a_[n].process(Eh),OI=n=>{Zg=!1,Eh.delta=sE?II:Math.max(Math.min(n-Eh.timestamp,l7),1),Eh.timestamp=n,aE=!0,Jg.forEach(u7),aE=!1,Zg&&(sE=!1,DI(OI))},c7=()=>{Zg=!0,sE=!0,aE||DI(OI)},l_=()=>Eh,u_=(n,e,t)=>Math.min(Math.max(t,n),e),uE=.001,f7=.01,FI=10,d7=.05,h7=1;function p7({duration:n=800,bounce:e=.25,velocity:t=0,mass:r=1}){let i,o;$9(n<=FI*1e3);let s=1-e;s=u_(d7,h7,s),n=u_(f7,FI,n/1e3),s<1?(i=c=>{const m=c*s,v=m*n,p=m-t,g=cE(c,s),y=Math.exp(-v);return uE-p/g*y},o=c=>{const v=c*s*n,p=v*t+t,g=Math.pow(s,2)*Math.pow(c,2)*n,y=Math.exp(-v),S=cE(Math.pow(c,2),s);return(-i(c)+uE>0?-1:1)*((p-g)*y)/S}):(i=c=>{const m=Math.exp(-c*n),v=(c-t)*n+1;return-uE+m*v},o=c=>{const m=Math.exp(-c*n),v=(t-c)*(n*n);return m*v});const a=5/n,l=g7(i,o,a);if(n=n*1e3,isNaN(l))return{stiffness:100,damping:10,duration:n};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:s*2*Math.sqrt(r*c),duration:n}}}const m7=12;function g7(n,e,t){let r=t;for(let i=1;i<m7;i++)r=r-n(r)/e(r);return r}function cE(n,e){return n*Math.sqrt(1-e*e)}const v7=["duration","bounce"],y7=["stiffness","damping","mass"];function kI(n,e){return e.some(t=>n[t]!==void 0)}function x7(n){let e=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},n);if(!kI(n,y7)&&kI(n,v7)){const t=p7(n);e=Object.assign(Object.assign(Object.assign({},e),t),{velocity:0,mass:1}),e.isResolvedFromDuration=!0}return e}function fE(n){var{from:e=0,to:t=1,restSpeed:r=2,restDelta:i}=n,o=ko(n,["from","to","restSpeed","restDelta"]);const s={done:!1,value:e};let{stiffness:a,damping:l,mass:c,velocity:m,duration:v,isResolvedFromDuration:p}=x7(o),g=NI,y=NI;function S(){const M=m?-(m/1e3):0,x=t-e,_=l/(2*Math.sqrt(a*c)),T=Math.sqrt(a/c)/1e3;if(i===void 0&&(i=Math.min(Math.abs(t-e)/100,.4)),_<1){const E=cE(T,_);g=C=>{const I=Math.exp(-_*T*C);return t-I*((M+_*T*x)/E*Math.sin(E*C)+x*Math.cos(E*C))},y=C=>{const I=Math.exp(-_*T*C);return _*T*I*(Math.sin(E*C)*(M+_*T*x)/E+x*Math.cos(E*C))-I*(Math.cos(E*C)*(M+_*T*x)-E*x*Math.sin(E*C))}}else if(_===1)g=E=>t-Math.exp(-T*E)*(x+(M+T*x)*E);else{const E=T*Math.sqrt(_*_-1);g=C=>{const I=Math.exp(-_*T*C),R=Math.min(E*C,300);return t-I*((M+_*T*x)*Math.sinh(R)+E*x*Math.cosh(R))/E}}}return S(),{next:M=>{const x=g(M);if(p)s.done=M>=v;else{const _=y(M)*1e3,T=Math.abs(_)<=r,E=Math.abs(t-x)<=i;s.done=T&&E}return s.value=s.done?t:x,s},flipTarget:()=>{m=-m,[e,t]=[t,e],S()}}}fE.needsInterpolation=(n,e)=>typeof n=="string"||typeof e=="string";const NI=n=>0,Qg=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r},rr=(n,e,t)=>-t*n+t*e+n,BI=(n,e)=>t=>Math.max(Math.min(t,e),n),ev=n=>n%1?Number(n.toFixed(5)):n,tv=/(-)?([\d]*\.?[\d])+/g,dE=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))/gi,_7=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))$/i;function nv(n){return typeof n=="string"}const Hc={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},rv=Object.assign(Object.assign({},Hc),{transform:BI(0,1)}),c_=Object.assign(Object.assign({},Hc),{default:1}),iv=n=>({test:e=>nv(e)&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),ru=iv("deg"),iu=iv("%"),Pt=iv("px"),w7=iv("vh"),S7=iv("vw"),zI=Object.assign(Object.assign({},iu),{parse:n=>iu.parse(n)/100,transform:n=>iu.transform(n*100)}),hE=(n,e)=>t=>Boolean(nv(t)&&_7.test(t)&&t.startsWith(n)||e&&Object.prototype.hasOwnProperty.call(t,e)),UI=(n,e,t)=>r=>{if(!nv(r))return r;const[i,o,s,a]=r.match(tv);return{[n]:parseFloat(i),[e]:parseFloat(o),[t]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},Gc={test:hE("hsl","hue"),parse:UI("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+iu.transform(ev(e))+", "+iu.transform(ev(t))+", "+ev(rv.transform(r))+")"},b7=BI(0,255),pE=Object.assign(Object.assign({},Hc),{transform:n=>Math.round(b7(n))}),ou={test:hE("rgb","red"),parse:UI("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+pE.transform(n)+", "+pE.transform(e)+", "+pE.transform(t)+", "+ev(rv.transform(r))+")"};function M7(n){let e="",t="",r="",i="";return n.length>5?(e=n.substr(1,2),t=n.substr(3,2),r=n.substr(5,2),i=n.substr(7,2)):(e=n.substr(1,1),t=n.substr(2,1),r=n.substr(3,1),i=n.substr(4,1),e+=e,t+=t,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const mE={test:hE("#"),parse:M7,transform:ou.transform},ki={test:n=>ou.test(n)||mE.test(n)||Gc.test(n),parse:n=>ou.test(n)?ou.parse(n):Gc.test(n)?Gc.parse(n):mE.parse(n),transform:n=>nv(n)?n:n.hasOwnProperty("red")?ou.transform(n):Gc.transform(n)},VI="${c}",HI="${n}";function E7(n){var e,t,r,i;return isNaN(n)&&nv(n)&&((t=(e=n.match(tv))===null||e===void 0?void 0:e.length)!==null&&t!==void 0?t:0)+((i=(r=n.match(dE))===null||r===void 0?void 0:r.length)!==null&&i!==void 0?i:0)>0}function GI(n){typeof n=="number"&&(n=`${n}`);const e=[];let t=0;const r=n.match(dE);r&&(t=r.length,n=n.replace(dE,VI),e.push(...r.map(ki.parse)));const i=n.match(tv);return i&&(n=n.replace(tv,HI),e.push(...i.map(Hc.parse))),{values:e,numColors:t,tokenised:n}}function WI(n){return GI(n).values}function jI(n){const{values:e,numColors:t,tokenised:r}=GI(n),i=e.length;return o=>{let s=r;for(let a=0;a<i;a++)s=s.replace(a<t?VI:HI,a<t?ki.transform(o[a]):ev(o[a]));return s}}const T7=n=>typeof n=="number"?0:n;function A7(n){const e=WI(n);return jI(n)(e.map(T7))}const Ba={test:E7,parse:WI,createTransformer:jI,getAnimatableNone:A7},C7=new Set(["brightness","contrast","saturate","opacity"]);function P7(n){let[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(tv)||[];if(!r)return n;const i=t.replace(r,"");let o=C7.has(e)?1:0;return r!==t&&(o*=100),e+"("+o+i+")"}const R7=/([a-z-]*)\(.*?\)/g,gE=Object.assign(Object.assign({},Ba),{getAnimatableNone:n=>{const e=n.match(R7);return e?e.map(P7).join(" "):n}});function vE(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function qI({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let i=0,o=0,s=0;if(!e)i=o=s=t;else{const a=t<.5?t*(1+e):t+e-t*e,l=2*t-a;i=vE(l,a,n+1/3),o=vE(l,a,n),s=vE(l,a,n-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(s*255),alpha:r}}const L7=(n,e,t)=>{const r=n*n,i=e*e;return Math.sqrt(Math.max(0,t*(i-r)+r))},I7=[mE,ou,Gc],XI=n=>I7.find(e=>e.test(n)),KI=(n,e)=>{let t=XI(n),r=XI(e),i=t.parse(n),o=r.parse(e);t===Gc&&(i=qI(i),t=ou),r===Gc&&(o=qI(o),r=ou);const s=Object.assign({},i);return a=>{for(const l in s)l!=="alpha"&&(s[l]=L7(i[l],o[l],a));return s.alpha=rr(i.alpha,o.alpha,a),t.transform(s)}},yE=n=>typeof n=="number",D7=(n,e)=>t=>e(n(t)),f_=(...n)=>n.reduce(D7);function YI(n,e){return yE(n)?t=>rr(n,e,t):ki.test(n)?KI(n,e):JI(n,e)}const $I=(n,e)=>{const t=[...n],r=t.length,i=n.map((o,s)=>YI(o,e[s]));return o=>{for(let s=0;s<r;s++)t[s]=i[s](o);return t}},O7=(n,e)=>{const t=Object.assign(Object.assign({},n),e),r={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(r[i]=YI(n[i],e[i]));return i=>{for(const o in r)t[o]=r[o](i);return t}};function ZI(n){const e=Ba.parse(n),t=e.length;let r=0,i=0,o=0;for(let s=0;s<t;s++)r||typeof e[s]=="number"?r++:e[s].hue!==void 0?o++:i++;return{parsed:e,numNumbers:r,numRGB:i,numHSL:o}}const JI=(n,e)=>{const t=Ba.createTransformer(e),r=ZI(n),i=ZI(e);return r.numHSL===i.numHSL&&r.numRGB===i.numRGB&&r.numNumbers>=i.numNumbers?f_($I(r.parsed,i.parsed),t):s=>`${s>0?e:n}`},F7=(n,e)=>t=>rr(n,e,t);function k7(n){if(typeof n=="number")return F7;if(typeof n=="string")return ki.test(n)?KI:JI;if(Array.isArray(n))return $I;if(typeof n=="object")return O7}function N7(n,e,t){const r=[],i=t||k7(n[0]),o=n.length-1;for(let s=0;s<o;s++){let a=i(n[s],n[s+1]);if(e){const l=Array.isArray(e)?e[s]:e;a=f_(l,a)}r.push(a)}return r}function B7([n,e],[t]){return r=>t(Qg(n,e,r))}function z7(n,e){const t=n.length,r=t-1;return i=>{let o=0,s=!1;if(i<=n[0]?s=!0:i>=n[r]&&(o=r-1,s=!0),!s){let l=1;for(;l<t&&!(n[l]>i||l===r);l++);o=l-1}const a=Qg(n[o],n[o+1],i);return e[o](a)}}function QI(n,e,{clamp:t=!0,ease:r,mixer:i}={}){const o=n.length;r_(o===e.length),r_(!r||!Array.isArray(r)||r.length===o-1),n[0]>n[o-1]&&(n=[].concat(n),e=[].concat(e),n.reverse(),e.reverse());const s=N7(e,r,i),a=o===2?B7(n,s):z7(n,s);return t?l=>a(u_(n[0],n[o-1],l)):a}const d_=n=>e=>1-n(1-e),xE=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,U7=n=>e=>Math.pow(e,n),eD=n=>e=>e*e*((n+1)*e-n),V7=n=>{const e=eD(n);return t=>(t*=2)<1?.5*e(t):.5*(2-Math.pow(2,-10*(t-1)))},tD=1.525,H7=4/11,G7=8/11,W7=9/10,_E=n=>n,wE=U7(2),j7=d_(wE),nD=xE(wE),rD=n=>1-Math.sin(Math.acos(n)),SE=d_(rD),q7=xE(SE),bE=eD(tD),X7=d_(bE),K7=xE(bE),Y7=V7(tD),$7=4356/361,Z7=35442/1805,J7=16061/1805,h_=n=>{if(n===1||n===0)return n;const e=n*n;return n<H7?7.5625*e:n<G7?9.075*e-9.9*n+3.4:n<W7?$7*e-Z7*n+J7:10.8*n*n-20.52*n+10.72},Q7=d_(h_),ej=n=>n<.5?.5*(1-h_(1-n*2)):.5*h_(n*2-1)+.5;function tj(n,e){return n.map(()=>e||nD).splice(0,n.length-1)}function nj(n){const e=n.length;return n.map((t,r)=>r!==0?r/(e-1):0)}function rj(n,e){return n.map(t=>t*e)}function p_({from:n=0,to:e=1,ease:t,offset:r,duration:i=300}){const o={done:!1,value:n},s=Array.isArray(e)?e:[n,e],a=rj(r&&r.length===s.length?r:nj(s),i);function l(){return QI(a,s,{ease:Array.isArray(t)?t:tj(s,t)})}let c=l();return{next:m=>(o.value=c(m),o.done=m>=i,o),flipTarget:()=>{s.reverse(),c=l()}}}function ij({velocity:n=0,from:e=0,power:t=.8,timeConstant:r=350,restDelta:i=.5,modifyTarget:o}){const s={done:!1,value:e};let a=t*n;const l=e+a,c=o===void 0?l:o(l);return c!==l&&(a=c-e),{next:m=>{const v=-a*Math.exp(-m/r);return s.done=!(v>i||v<-i),s.value=s.done?c:c+v,s},flipTarget:()=>{}}}const iD={keyframes:p_,spring:fE,decay:ij};function oj(n){if(Array.isArray(n.to))return p_;if(iD[n.type])return iD[n.type];const e=new Set(Object.keys(n));return e.has("ease")||e.has("duration")&&!e.has("dampingRatio")?p_:e.has("dampingRatio")||e.has("stiffness")||e.has("mass")||e.has("damping")||e.has("restSpeed")||e.has("restDelta")?fE:p_}function oD(n,e,t=0){return n-e-t}function sj(n,e,t=0,r=!0){return r?oD(e+-n,e,t):e-(n-e)+t}function aj(n,e,t,r){return r?n>=e+t:n<=-t}const lj=n=>{const e=({delta:t})=>n(t);return{start:()=>ss.update(e,!0),stop:()=>Th.update(e)}};function sD(n){var e,t,{from:r,autoplay:i=!0,driver:o=lj,elapsed:s=0,repeat:a=0,repeatType:l="loop",repeatDelay:c=0,onPlay:m,onStop:v,onComplete:p,onRepeat:g,onUpdate:y}=n,S=ko(n,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:M}=S,x,_=0,T=S.duration,E,C=!1,I=!0,R;const D=oj(S);((t=(e=D).needsInterpolation)===null||t===void 0?void 0:t.call(e,r,M))&&(R=QI([0,100],[r,M],{clamp:!1}),r=0,M=100);const k=D(Object.assign(Object.assign({},S),{from:r,to:M}));function U(){_++,l==="reverse"?(I=_%2==0,s=sj(s,T,c,I)):(s=oD(s,T,c),l==="mirror"&&k.flipTarget()),C=!1,g&&g()}function B(){x.stop(),p&&p()}function $(ie){if(I||(ie=-ie),s+=ie,!C){const Q=k.next(Math.max(0,s));E=Q.value,R&&(E=R(E)),C=I?Q.done:s<=0}y==null||y(E),C&&(_===0&&(T!=null||(T=s)),_<a?aj(s,T,c,I)&&U():B())}function K(){m==null||m(),x=o($),x.start()}return i&&K(),{stop:()=>{v==null||v(),x.stop()}}}function aD(n,e){return e?n*(1e3/e):0}function uj({from:n=0,velocity:e=0,min:t,max:r,power:i=.8,timeConstant:o=750,bounceStiffness:s=500,bounceDamping:a=10,restDelta:l=1,modifyTarget:c,driver:m,onUpdate:v,onComplete:p,onStop:g}){let y;function S(T){return t!==void 0&&T<t||r!==void 0&&T>r}function M(T){return t===void 0?r:r===void 0||Math.abs(t-T)<Math.abs(r-T)?t:r}function x(T){y==null||y.stop(),y=sD(Object.assign(Object.assign({},T),{driver:m,onUpdate:E=>{var C;v==null||v(E),(C=T.onUpdate)===null||C===void 0||C.call(T,E)},onComplete:p,onStop:g}))}function _(T){x(Object.assign({type:"spring",stiffness:s,damping:a,restDelta:l},T))}if(S(n))_({from:n,velocity:e,to:M(n)});else{let T=i*e+n;typeof c!="undefined"&&(T=c(T));const E=M(T),C=E===t?-1:1;let I,R;const D=k=>{I=R,R=k,e=aD(k-I,l_().delta),(C===1&&k>E||C===-1&&k<E)&&_({from:k,to:E,velocity:e})};x({type:"decay",from:n,velocity:e,timeConstant:o,power:i,restDelta:l,modifyTarget:c,onUpdate:S(T)?D:void 0})}return{stop:()=>y==null?void 0:y.stop()}}const ME=n=>n.hasOwnProperty("x")&&n.hasOwnProperty("y"),lD=n=>ME(n)&&n.hasOwnProperty("z"),m_=(n,e)=>Math.abs(n-e);function uD(n,e){if(yE(n)&&yE(e))return m_(n,e);if(ME(n)&&ME(e)){const t=m_(n.x,e.x),r=m_(n.y,e.y),i=lD(n)&&lD(e)?m_(n.z,e.z):0;return Math.sqrt(Math.pow(t,2)+Math.pow(r,2)+Math.pow(i,2))}}const cD=(n,e)=>1-3*e+3*n,fD=(n,e)=>3*e-6*n,dD=n=>3*n,g_=(n,e,t)=>((cD(e,t)*n+fD(e,t))*n+dD(e))*n,hD=(n,e,t)=>3*cD(e,t)*n*n+2*fD(e,t)*n+dD(e),cj=1e-7,fj=10;function dj(n,e,t,r,i){let o,s,a=0;do s=e+(t-e)/2,o=g_(s,r,i)-n,o>0?t=s:e=s;while(Math.abs(o)>cj&&++a<fj);return s}const hj=8,pj=.001;function mj(n,e,t,r){for(let i=0;i<hj;++i){const o=hD(e,t,r);if(o===0)return e;e-=(g_(e,t,r)-n)/o}return e}const v_=11,y_=1/(v_-1);function gj(n,e,t,r){if(n===e&&t===r)return _E;const i=new Float32Array(v_);for(let s=0;s<v_;++s)i[s]=g_(s*y_,n,t);function o(s){let a=0,l=1;const c=v_-1;for(;l!==c&&i[l]<=s;++l)a+=y_;--l;const m=(s-i[l])/(i[l+1]-i[l]),v=a+m*y_,p=hD(v,n,t);return p>=pj?mj(s,v,n,t):p===0?v:dj(s,a,a+y_,n,t)}return s=>s===0||s===1?s:g_(o(s),e,r)}function EE(n,e){n.indexOf(e)===-1&&n.push(e)}function TE(n,e){var t=n.indexOf(e);t>-1&&n.splice(t,1)}var ov=function(){function n(){this.subscriptions=[]}return n.prototype.add=function(e){var t=this;return EE(this.subscriptions,e),function(){return TE(t.subscriptions,e)}},n.prototype.notify=function(e,t,r){var i=this.subscriptions.length;if(!!i)if(i===1)this.subscriptions[0](e,t,r);else for(var o=0;o<i;o++){var s=this.subscriptions[o];s&&s(e,t,r)}},n.prototype.getSize=function(){return this.subscriptions.length},n.prototype.clear=function(){this.subscriptions.length=0},n}(),vj=function(n){return!isNaN(parseFloat(n))},yj=function(){function n(e){var t=this;this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new ov,this.velocityUpdateSubscribers=new ov,this.renderSubscribers=new ov,this.canTrackVelocity=!1,this.updateAndNotify=function(r,i){i===void 0&&(i=!0),t.prev=t.current,t.current=r;var o=l_(),s=o.delta,a=o.timestamp;t.lastUpdated!==a&&(t.timeDelta=s,t.lastUpdated=a,ss.postRender(t.scheduleVelocityCheck)),t.prev!==t.current&&t.updateSubscribers.notify(t.current),t.velocityUpdateSubscribers.getSize()&&t.velocityUpdateSubscribers.notify(t.getVelocity()),i&&t.renderSubscribers.notify(t.current)},this.scheduleVelocityCheck=function(){return ss.postRender(t.velocityCheck)},this.velocityCheck=function(r){var i=r.timestamp;i!==t.lastUpdated&&(t.prev=t.current,t.velocityUpdateSubscribers.notify(t.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=vj(this.current)}return n.prototype.onChange=function(e){return this.updateSubscribers.add(e)},n.prototype.clearListeners=function(){this.updateSubscribers.clear()},n.prototype.onRenderRequest=function(e){return e(this.get()),this.renderSubscribers.add(e)},n.prototype.attach=function(e){this.passiveEffect=e},n.prototype.set=function(e,t){t===void 0&&(t=!0),!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)},n.prototype.get=function(){return this.current},n.prototype.getPrevious=function(){return this.prev},n.prototype.getVelocity=function(){return this.canTrackVelocity?aD(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0},n.prototype.start=function(e){var t=this;return this.stop(),new Promise(function(r){t.hasAnimated=!0,t.stopAnimation=e(r)}).then(function(){return t.clearAnimation()})},n.prototype.stop=function(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()},n.prototype.isAnimating=function(){return!!this.stopAnimation},n.prototype.clearAnimation=function(){this.stopAnimation=null},n.prototype.destroy=function(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()},n}();function Wc(n){return new yj(n)}var za=function(n){return Boolean(n!==null&&typeof n=="object"&&n.getVelocity)},x_=function(n){return n*1e3},xj={linear:_E,easeIn:wE,easeInOut:nD,easeOut:j7,circIn:rD,circInOut:q7,circOut:SE,backIn:bE,backInOut:K7,backOut:X7,anticipate:Y7,bounceIn:Q7,bounceInOut:ej,bounceOut:h_},pD=function(n){if(Array.isArray(n)){r_(n.length===4);var e=nr(n,4),t=e[0],r=e[1],i=e[2],o=e[3];return gj(t,r,i,o)}else if(typeof n=="string")return xj[n];return n},_j=function(n){return Array.isArray(n)&&typeof n[0]!="number"},mD=function(n,e){return n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&Ba.test(e)&&!e.startsWith("url("))},sv=function(n){return Array.isArray(n)},jc=function(){return{type:"spring",stiffness:500,damping:25,restSpeed:10}},__=function(n){return{type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}},AE=function(){return{type:"keyframes",ease:"linear",duration:.3}},wj=function(n){return{type:"keyframes",duration:.8,values:n}},gD={x:jc,y:jc,z:jc,rotate:jc,rotateX:jc,rotateY:jc,rotateZ:jc,scaleX:__,scaleY:__,scale:__,opacity:AE,backgroundColor:AE,color:AE,default:__},Sj=function(n,e){var t;return sv(e)?t=wj:t=gD[n]||gD.default,qe({to:e},t(e))},vD=qe(qe({},Hc),{transform:Math.round}),yD={borderWidth:Pt,borderTopWidth:Pt,borderRightWidth:Pt,borderBottomWidth:Pt,borderLeftWidth:Pt,borderRadius:Pt,radius:Pt,borderTopLeftRadius:Pt,borderTopRightRadius:Pt,borderBottomRightRadius:Pt,borderBottomLeftRadius:Pt,width:Pt,maxWidth:Pt,height:Pt,maxHeight:Pt,size:Pt,top:Pt,right:Pt,bottom:Pt,left:Pt,padding:Pt,paddingTop:Pt,paddingRight:Pt,paddingBottom:Pt,paddingLeft:Pt,margin:Pt,marginTop:Pt,marginRight:Pt,marginBottom:Pt,marginLeft:Pt,rotate:ru,rotateX:ru,rotateY:ru,rotateZ:ru,scale:c_,scaleX:c_,scaleY:c_,scaleZ:c_,skew:ru,skewX:ru,skewY:ru,distance:Pt,translateX:Pt,translateY:Pt,translateZ:Pt,x:Pt,y:Pt,z:Pt,perspective:Pt,transformPerspective:Pt,opacity:rv,originX:zI,originY:zI,originZ:Pt,zIndex:vD,fillOpacity:rv,strokeOpacity:rv,numOctaves:vD},bj=qe(qe({},yD),{color:ki,backgroundColor:ki,outlineColor:ki,fill:ki,stroke:ki,borderColor:ki,borderTopColor:ki,borderRightColor:ki,borderBottomColor:ki,borderLeftColor:ki,filter:gE,WebkitFilter:gE}),CE=function(n){return bj[n]};function PE(n,e){var t,r=CE(n);return r!==gE&&(r=Ba),(t=r.getAnimatableNone)===null||t===void 0?void 0:t.call(r,e)}var Mj={current:!1},Ej=function(n){return Boolean(n&&typeof n=="object"&&n.mix&&n.toValue)},xD=function(n){return sv(n)?n[n.length-1]||0:n};function Tj(n){n.when,n.delay,n.delayChildren,n.staggerChildren,n.staggerDirection,n.repeat,n.repeatType,n.repeatDelay,n.from;var e=ko(n,["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from"]);return!!Object.keys(e).length}function Aj(n){var e=n.ease,t=n.times,r=n.yoyo,i=n.flip,o=n.loop,s=ko(n,["ease","times","yoyo","flip","loop"]),a=qe({},s);return t&&(a.offset=t),s.duration&&(a.duration=x_(s.duration)),s.repeatDelay&&(a.repeatDelay=x_(s.repeatDelay)),e&&(a.ease=_j(e)?e.map(pD):pD(e)),s.type==="tween"&&(a.type="keyframes"),(r||o||i)&&(r?a.repeatType="reverse":o?a.repeatType="loop":i&&(a.repeatType="mirror"),a.repeat=o||r||i||s.repeat),s.type!=="spring"&&(a.type="keyframes"),a}function Cj(n,e){var t,r,i=RE(n,e)||{};return(r=(t=i.delay)!==null&&t!==void 0?t:n.delay)!==null&&r!==void 0?r:0}function Pj(n){return Array.isArray(n.to)&&n.to[0]===null&&(n.to=is([],nr(n.to),!1),n.to[0]=n.from),n}function Rj(n,e,t){var r;return Array.isArray(e.to)&&((r=n.duration)!==null&&r!==void 0||(n.duration=.8)),Pj(e),Tj(n)||(n=qe(qe({},n),Sj(t,e.to))),qe(qe({},e),Aj(n))}function Lj(n,e,t,r,i){var o,s=RE(r,n),a=(o=s.from)!==null&&o!==void 0?o:e.get(),l=mD(n,t);a==="none"&&l&&typeof t=="string"?a=PE(n,t):_D(a)&&typeof t=="string"?a=wD(t):!Array.isArray(t)&&_D(t)&&typeof a=="string"&&(t=wD(a));var c=mD(n,a);function m(){var p={from:a,to:t,velocity:e.getVelocity(),onComplete:i,onUpdate:function(g){return e.set(g)}};return s.type==="inertia"||s.type==="decay"?uj(qe(qe({},p),s)):sD(qe(qe({},Rj(s,p,n)),{onUpdate:function(g){var y;p.onUpdate(g),(y=s.onUpdate)===null||y===void 0||y.call(s,g)},onComplete:function(){var g;p.onComplete(),(g=s.onComplete)===null||g===void 0||g.call(s)}}))}function v(){var p,g,y=xD(t);return e.set(y),i(),(p=s==null?void 0:s.onUpdate)===null||p===void 0||p.call(s,y),(g=s==null?void 0:s.onComplete)===null||g===void 0||g.call(s),{stop:function(){}}}return!c||!l||s.type===!1?v:m}function _D(n){return n===0||typeof n=="string"&&parseFloat(n)===0&&n.indexOf(" ")===-1}function wD(n){return typeof n=="number"?0:PE("",n)}function RE(n,e){return n[e]||n.default||n}function LE(n,e,t,r){return r===void 0&&(r={}),Mj.current&&(r={type:!1}),e.start(function(i){var o,s,a=Lj(n,e,t,r,i),l=Cj(r,n),c=function(){return s=a()};return l?o=setTimeout(c,x_(l)):c(),function(){clearTimeout(o),s==null||s.stop()}})}function Ij(n,e,t){t===void 0&&(t={});var r=za(n)?n:Wc(n);return LE("",r,e,t),{stop:function(){return r.stop()},isAnimating:function(){return r.isAnimating()}}}var SD=["TopLeft","TopRight","BottomLeft","BottomRight"],Dj=SD.length;function Oj(n,e,t,r,i,o){var s,a,l,c;i?(n.opacity=rr(0,(s=t.opacity)!==null&&s!==void 0?s:1,Fj(r)),n.opacityExit=rr((a=e.opacity)!==null&&a!==void 0?a:1,0,kj(r))):o&&(n.opacity=rr((l=e.opacity)!==null&&l!==void 0?l:1,(c=t.opacity)!==null&&c!==void 0?c:1,r));for(var m=0;m<Dj;m++){var v="border".concat(SD[m],"Radius"),p=bD(e,v),g=bD(t,v);if(!(p===void 0&&g===void 0)&&(p||(p=0),g||(g=0),typeof p=="number"&&typeof g=="number")){var y=Math.max(rr(p,g,r),0);n[v]=y}}(e.rotate||t.rotate)&&(n.rotate=rr(e.rotate||0,t.rotate||0,r))}function bD(n,e){var t;return(t=n[e])!==null&&t!==void 0?t:n.borderRadius}var Fj=MD(0,.5,SE),kj=MD(.5,.95,_E);function MD(n,e,t){return function(r){return r<n?0:r>e?1:t(Qg(n,e,r))}}function ED(n,e){n.min=e.min,n.max=e.max}function Ns(n,e){ED(n.x,e.x),ED(n.y,e.y)}function IE(n){return n===void 0||n===1}function TD(n){var e=n.scale,t=n.scaleX,r=n.scaleY;return!IE(e)||!IE(t)||!IE(r)}function su(n){return TD(n)||AD(n.x)||AD(n.y)||n.z||n.rotate||n.rotateX||n.rotateY}function AD(n){return n&&n!=="0%"}function w_(n,e,t){var r=n-t,i=e*r;return t+i}function CD(n,e,t,r,i){return i!==void 0&&(n=w_(n,i,r)),w_(n,t,r)+e}function DE(n,e,t,r,i){e===void 0&&(e=0),t===void 0&&(t=1),n.min=CD(n.min,e,t,r,i),n.max=CD(n.max,e,t,r,i)}function PD(n,e){var t=e.x,r=e.y;DE(n.x,t.translate,t.scale,t.originPoint),DE(n.y,r.translate,r.scale,r.originPoint)}function Nj(n,e,t,r){var i,o;r===void 0&&(r=!1);var s=t.length;if(!!s){e.x=e.y=1;for(var a,l,c=0;c<s;c++)a=t[c],l=a.projectionDelta,((o=(i=a.instance)===null||i===void 0?void 0:i.style)===null||o===void 0?void 0:o.display)!=="contents"&&(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Ch(n,{x:-a.scroll.x,y:-a.scroll.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,PD(n,l)),r&&su(a.latestValues)&&Ch(n,a.latestValues))}}function Ah(n,e){n.min=n.min+e,n.max=n.max+e}function RD(n,e,t){var r=nr(t,3),i=r[0],o=r[1],s=r[2],a=e[s]!==void 0?e[s]:.5,l=rr(n.min,n.max,a);DE(n,e[i],e[o],l,e.scale)}var Bj=["x","scaleX","originX"],zj=["y","scaleY","originY"];function Ch(n,e){RD(n.x,e,Bj),RD(n.y,e,zj)}function Ua(n){return n.max-n.min}function LD(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=.01),uD(n,e)<t}function ID(n,e,t,r){r===void 0&&(r=.5),n.origin=r,n.originPoint=rr(e.min,e.max,n.origin),n.scale=Ua(t)/Ua(e),(LD(n.scale,1,1e-4)||isNaN(n.scale))&&(n.scale=1),n.translate=rr(t.min,t.max,n.origin)-n.originPoint,(LD(n.translate)||isNaN(n.translate))&&(n.translate=0)}function av(n,e,t,r){ID(n.x,e.x,t.x,r==null?void 0:r.originX),ID(n.y,e.y,t.y,r==null?void 0:r.originY)}function DD(n,e,t){n.min=t.min+e.min,n.max=n.min+Ua(e)}function Uj(n,e,t){DD(n.x,e.x,t.x),DD(n.y,e.y,t.y)}function OD(n,e,t){n.min=e.min-t.min,n.max=n.min+Ua(e)}function lv(n,e,t){OD(n.x,e.x,t.x),OD(n.y,e.y,t.y)}function FD(n,e,t,r,i){return n-=e,n=w_(n,1/t,r),i!==void 0&&(n=w_(n,1/i,r)),n}function Vj(n,e,t,r,i,o,s){if(e===void 0&&(e=0),t===void 0&&(t=1),r===void 0&&(r=.5),o===void 0&&(o=n),s===void 0&&(s=n),iu.test(e)){e=parseFloat(e);var a=rr(s.min,s.max,e/100);e=a-s.min}if(typeof e=="number"){var l=rr(o.min,o.max,r);n===o&&(l-=e),n.min=FD(n.min,e,t,l,i),n.max=FD(n.max,e,t,l,i)}}function kD(n,e,t,r,i){var o=nr(t,3),s=o[0],a=o[1],l=o[2];Vj(n,e[s],e[a],e[l],e.scale,r,i)}var Hj=["x","scaleX","originX"],Gj=["y","scaleY","originY"];function ND(n,e,t,r){kD(n.x,e,Hj,t==null?void 0:t.x,r==null?void 0:r.x),kD(n.y,e,Gj,t==null?void 0:t.y,r==null?void 0:r.y)}var BD=function(){return{translate:0,scale:1,origin:0,originPoint:0}},uv=function(){return{x:BD(),y:BD()}},zD=function(){return{min:0,max:0}},_i=function(){return{x:zD(),y:zD()}};function UD(n){return n.translate===0&&n.scale===1}function VD(n){return UD(n.x)&&UD(n.y)}function HD(n,e){return n.x.min===e.x.min&&n.x.max===e.x.max&&n.y.min===e.y.min&&n.y.max===e.y.max}var Wj=function(){function n(){this.members=[]}return n.prototype.add=function(e){EE(this.members,e),e.scheduleRender()},n.prototype.remove=function(e){if(TE(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){var t=this.members[this.members.length-1];t&&this.promote(t)}},n.prototype.relegate=function(e){var t=this.members.findIndex(function(s){return e===s});if(t===0)return!1;for(var r,i=t;i>=0;i--){var o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1},n.prototype.promote=function(e,t){var r,i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues,e.snapshot.isShared=!0),((r=e.root)===null||r===void 0?void 0:r.isUpdating)&&(e.isLayoutDirty=!0);var o=e.options.crossfade;o===!1&&i.hide()}},n.prototype.exitAnimationComplete=function(){this.members.forEach(function(e){var t,r,i,o,s;(r=(t=e.options).onExitComplete)===null||r===void 0||r.call(t),(s=(i=e.resumingFrom)===null||i===void 0?void 0:(o=i.options).onExitComplete)===null||s===void 0||s.call(o)})},n.prototype.scheduleRender=function(){this.members.forEach(function(e){e.instance&&e.scheduleRender(!1)})},n.prototype.removeLeadSnapshot=function(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)},n}(),S_={};function jj(n){Object.assign(S_,n)}var qj="translate3d(0px, 0px, 0) scale(1, 1)";function GD(n,e,t){var r=n.x.translate/e.x,i=n.y.translate/e.y,o="translate3d(".concat(r,"px, ").concat(i,"px, 0) ");if(t){var s=t.rotate,a=t.rotateX,l=t.rotateY;s&&(o+="rotate(".concat(s,"deg) ")),a&&(o+="rotateX(".concat(a,"deg) ")),l&&(o+="rotateY(".concat(l,"deg) "))}return o+="scale(".concat(n.x.scale,", ").concat(n.y.scale,")"),o===qj?"none":o}function Bs(n){return[n("x"),n("y")]}var OE=["","X","Y","Z"],Xj=["translate","scale","rotate","skew"],cv=["transformPerspective","x","y","z"];Xj.forEach(function(n){return OE.forEach(function(e){return cv.push(n+e)})});function Kj(n,e){return cv.indexOf(n)-cv.indexOf(e)}var Yj=new Set(cv);function b_(n){return Yj.has(n)}var $j=new Set(["originX","originY","originZ"]);function WD(n){return $j.has(n)}var Zj=function(n,e){return n.depth-e.depth},Jj=function(){function n(){this.children=[],this.isDirty=!1}return n.prototype.add=function(e){EE(this.children,e),this.isDirty=!0},n.prototype.remove=function(e){TE(this.children,e),this.isDirty=!0},n.prototype.forEach=function(e){this.isDirty&&this.children.sort(Zj),this.isDirty=!1,this.children.forEach(e)},n}();function M_(n){var e=za(n)?n.get():n;return Ej(e)?e.toValue():e}var jD=1e3,fv={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function qD(n){var e=n.attachResizeListener,t=n.defaultParent,r=n.measureScroll,i=n.resetTransform;return function(){function o(s,a,l){var c=this;a===void 0&&(a={}),l===void 0&&(l=t==null?void 0:t()),this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=function(){c.isUpdating&&(c.isUpdating=!1,c.clearAllSnapshots())},this.updateProjection=function(){c.nodes.forEach(iq),c.nodes.forEach(oq)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.id=s,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?is(is([],nr(l.path),!1),[l],!1):[],this.parent=l,this.depth=l?l.depth+1:0,s&&this.root.registerPotentialNode(s,this);for(var m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new Jj)}return o.prototype.addEventListener=function(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new ov),this.eventHandlers.get(s).add(a)},o.prototype.notifyListeners=function(s){for(var a=[],l=1;l<arguments.length;l++)a[l-1]=arguments[l];var c=this.eventHandlers.get(s);c==null||c.notify.apply(c,is([],nr(a),!1))},o.prototype.hasListeners=function(s){return this.eventHandlers.has(s)},o.prototype.registerPotentialNode=function(s,a){this.potentialNodes.set(s,a)},o.prototype.mount=function(s,a){var l=this,c;if(a===void 0&&(a=!1),!this.instance){this.isSVG=s instanceof SVGElement&&s.tagName!=="svg",this.instance=s;var m=this.options,v=m.layoutId,p=m.layout,g=m.visualElement;if(g&&!g.getInstance()&&g.mount(s),this.root.nodes.add(this),(c=this.parent)===null||c===void 0||c.children.add(this),this.id&&this.root.potentialNodes.delete(this.id),a&&(p||v)&&(this.isLayoutDirty=!0),e){var y,S=function(){return l.root.updateBlockedByResize=!1};e(s,function(){l.root.updateBlockedByResize=!0,clearTimeout(y),y=setTimeout(S,250),fv.hasAnimatedSinceResize&&(fv.hasAnimatedSinceResize=!1,l.nodes.forEach(rq))})}v&&this.root.registerSharedNode(v,this),this.options.animate!==!1&&g&&(v||p)&&this.addEventListener("didUpdate",function(M){var x,_,T,E,C,I=M.delta,R=M.hasLayoutChanged,D=M.hasRelativeTargetChanged,k=M.layout;if(l.isTreeAnimationBlocked()){l.target=void 0,l.relativeTarget=void 0;return}var U=(_=(x=l.options.transition)!==null&&x!==void 0?x:g.getDefaultTransition())!==null&&_!==void 0?_:cq,B=g.getProps().onLayoutAnimationComplete,$=!l.targetLayout||!HD(l.targetLayout,k)||D,K=!R&&D;((T=l.resumeFrom)===null||T===void 0?void 0:T.instance)||K||R&&($||!l.currentAnimation)?(l.resumeFrom&&(l.resumingFrom=l.resumeFrom,l.resumingFrom.resumingFrom=void 0),l.setAnimationOrigin(I,K),l.startAnimation(qe(qe({},RE(U,"layout")),{onComplete:B}))):l.isLead()&&((C=(E=l.options).onExitComplete)===null||C===void 0||C.call(E)),l.targetLayout=k})}},o.prototype.unmount=function(){var s,a;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),(s=this.getStack())===null||s===void 0||s.remove(this),(a=this.parent)===null||a===void 0||a.children.delete(this),this.instance=void 0,Th.preRender(this.updateProjection)},o.prototype.blockUpdate=function(){this.updateManuallyBlocked=!0},o.prototype.unblockUpdate=function(){this.updateManuallyBlocked=!1},o.prototype.isUpdateBlocked=function(){return this.updateManuallyBlocked||this.updateBlockedByResize},o.prototype.isTreeAnimationBlocked=function(){var s;return this.isAnimationBlocked||((s=this.parent)===null||s===void 0?void 0:s.isTreeAnimationBlocked())||!1},o.prototype.startUpdate=function(){var s;this.isUpdateBlocked()||(this.isUpdating=!0,(s=this.nodes)===null||s===void 0||s.forEach(sq))},o.prototype.willUpdate=function(s){var a,l,c;if(s===void 0&&(s=!0),this.root.isUpdateBlocked()){(l=(a=this.options).onExitComplete)===null||l===void 0||l.call(a);return}if(!this.root.isUpdating&&this.root.startUpdate(),!this.isLayoutDirty){this.isLayoutDirty=!0;for(var m=0;m<this.path.length;m++){var v=this.path[m];v.shouldResetTransform=!0,v.updateScroll()}var p=this.options,g=p.layoutId,y=p.layout;if(!(g===void 0&&!y)){var S=(c=this.options.visualElement)===null||c===void 0?void 0:c.getProps().transformTemplate;this.prevTransformTemplateValue=S==null?void 0:S(this.latestValues,""),this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}}},o.prototype.didUpdate=function(){var s=this.isUpdateBlocked();if(s){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(XD);return}!this.isUpdating||(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(fq),this.potentialNodes.clear()),this.nodes.forEach(nq),this.nodes.forEach(Qj),this.nodes.forEach(eq),this.clearAllSnapshots(),lE.update(),lE.preRender(),lE.render())},o.prototype.clearAllSnapshots=function(){this.nodes.forEach(tq),this.sharedNodes.forEach(aq)},o.prototype.scheduleUpdateProjection=function(){ss.preRender(this.updateProjection,!1,!0)},o.prototype.scheduleCheckAfterUnmount=function(){var s=this;ss.postRender(function(){s.isLayoutDirty?s.root.didUpdate():s.root.checkUpdateFailed()})},o.prototype.updateSnapshot=function(){if(!(this.snapshot||!this.instance)){var s=this.measure(),a=this.removeTransform(this.removeElementScroll(s));ZD(a),this.snapshot={measured:s,layout:a,latestValues:{}}}},o.prototype.updateLayout=function(){var s;if(!!this.instance&&(this.updateScroll(),!(!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))){if(this.resumeFrom&&!this.resumeFrom.instance)for(var a=0;a<this.path.length;a++){var l=this.path[a];l.updateScroll()}var c=this.measure();ZD(c);var m=this.layout;this.layout={measured:c,actual:this.removeElementScroll(c)},this.layoutCorrected=_i(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.actual),(s=this.options.visualElement)===null||s===void 0||s.notifyLayoutMeasure(this.layout.actual,m==null?void 0:m.actual)}},o.prototype.updateScroll=function(){this.options.layoutScroll&&this.instance&&(this.scroll=r(this.instance))},o.prototype.resetTransform=function(){var s;if(!!i){var a=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!VD(this.projectionDelta),c=(s=this.options.visualElement)===null||s===void 0?void 0:s.getProps().transformTemplate,m=c==null?void 0:c(this.latestValues,""),v=m!==this.prevTransformTemplateValue;a&&(l||su(this.latestValues)||v)&&(i(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}},o.prototype.measure=function(){var s=this.options.visualElement;if(!s)return _i();var a=s.measureViewportBox(),l=this.root.scroll;return l&&(Ah(a.x,l.x),Ah(a.y,l.y)),a},o.prototype.removeElementScroll=function(s){var a=_i();Ns(a,s);for(var l=0;l<this.path.length;l++){var c=this.path[l],m=c.scroll,v=c.options;c!==this.root&&m&&v.layoutScroll&&(Ah(a.x,m.x),Ah(a.y,m.y))}return a},o.prototype.applyTransform=function(s,a){a===void 0&&(a=!1);var l=_i();Ns(l,s);for(var c=0;c<this.path.length;c++){var m=this.path[c];!a&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Ch(l,{x:-m.scroll.x,y:-m.scroll.y}),!!su(m.latestValues)&&Ch(l,m.latestValues)}return su(this.latestValues)&&Ch(l,this.latestValues),l},o.prototype.removeTransform=function(s){var a,l=_i();Ns(l,s);for(var c=0;c<this.path.length;c++){var m=this.path[c];if(!!m.instance&&!!su(m.latestValues)){TD(m.latestValues)&&m.updateSnapshot();var v=_i(),p=m.measure();Ns(v,p),ND(l,m.latestValues,(a=m.snapshot)===null||a===void 0?void 0:a.layout,v)}}return su(this.latestValues)&&ND(l,this.latestValues),l},o.prototype.setTargetDelta=function(s){this.targetDelta=s,this.root.scheduleUpdateProjection()},o.prototype.setOptions=function(s){var a;this.options=qe(qe(qe({},this.options),s),{crossfade:(a=s.crossfade)!==null&&a!==void 0?a:!0})},o.prototype.clearMeasurements=function(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1},o.prototype.resolveTargetDelta=function(){var s,a=this.options,l=a.layout,c=a.layoutId;!this.layout||!(l||c)||(!this.targetDelta&&!this.relativeTarget&&(this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&this.relativeParent.layout&&(this.relativeTarget=_i(),this.relativeTargetOrigin=_i(),lv(this.relativeTargetOrigin,this.layout.actual,this.relativeParent.layout.actual),Ns(this.relativeTarget,this.relativeTargetOrigin))),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=_i(),this.targetWithTransforms=_i()),this.relativeTarget&&this.relativeTargetOrigin&&((s=this.relativeParent)===null||s===void 0?void 0:s.target)?Uj(this.target,this.relativeTarget,this.relativeParent.target):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.actual):Ns(this.target,this.layout.actual),PD(this.target,this.targetDelta)):Ns(this.target,this.layout.actual),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&Boolean(this.relativeParent.resumingFrom)===Boolean(this.resumingFrom)&&!this.relativeParent.options.layoutScroll&&this.relativeParent.target&&(this.relativeTarget=_i(),this.relativeTargetOrigin=_i(),lv(this.relativeTargetOrigin,this.target,this.relativeParent.target),Ns(this.relativeTarget,this.relativeTargetOrigin)))))},o.prototype.getClosestProjectingParent=function(){if(!(!this.parent||su(this.parent.latestValues)))return(this.parent.relativeTarget||this.parent.targetDelta)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()},o.prototype.calcProjection=function(){var s,a=this.options,l=a.layout,c=a.layoutId;if(this.isTreeAnimating=Boolean(((s=this.parent)===null||s===void 0?void 0:s.isTreeAnimating)||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!(!this.layout||!(l||c))){var m=this.getLead();Ns(this.layoutCorrected,this.layout.actual),Nj(this.layoutCorrected,this.treeScale,this.path,Boolean(this.resumingFrom)||this!==m);var v=m.target;if(!!v){this.projectionDelta||(this.projectionDelta=uv(),this.projectionDeltaWithTransform=uv());var p=this.treeScale.x,g=this.treeScale.y,y=this.projectionTransform;av(this.projectionDelta,this.layoutCorrected,v,this.latestValues),this.projectionTransform=GD(this.projectionDelta,this.treeScale),(this.projectionTransform!==y||this.treeScale.x!==p||this.treeScale.y!==g)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}}},o.prototype.hide=function(){this.isVisible=!1},o.prototype.show=function(){this.isVisible=!0},o.prototype.scheduleRender=function(s){var a,l,c;s===void 0&&(s=!0),(l=(a=this.options).scheduleRender)===null||l===void 0||l.call(a),s&&((c=this.getStack())===null||c===void 0||c.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)},o.prototype.setAnimationOrigin=function(s,a){var l=this,c;a===void 0&&(a=!1);var m=this.snapshot,v=(m==null?void 0:m.latestValues)||{},p=qe({},this.latestValues),g=uv();this.relativeTarget=this.relativeTargetOrigin=void 0,this.attemptToResolveRelativeTarget=!a;var y=_i(),S=m==null?void 0:m.isShared,M=(((c=this.getStack())===null||c===void 0?void 0:c.members.length)||0)<=1,x=Boolean(S&&!M&&this.options.crossfade===!0&&!this.path.some(uq));this.mixTargetDelta=function(_){var T,E=_/1e3;KD(g.x,s.x,E),KD(g.y,s.y,E),l.setTargetDelta(g),l.relativeTarget&&l.relativeTargetOrigin&&l.layout&&((T=l.relativeParent)===null||T===void 0?void 0:T.layout)&&(lv(y,l.layout.actual,l.relativeParent.layout.actual),lq(l.relativeTarget,l.relativeTargetOrigin,y,E)),S&&(l.animationValues=p,Oj(p,v,l.latestValues,E,x,M)),l.root.scheduleUpdateProjection(),l.scheduleRender()},this.mixTargetDelta(0)},o.prototype.startAnimation=function(s){var a=this,l,c;(l=this.currentAnimation)===null||l===void 0||l.stop(),this.resumingFrom&&((c=this.resumingFrom.currentAnimation)===null||c===void 0||c.stop()),this.pendingAnimation&&(Th.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ss.update(function(){fv.hasAnimatedSinceResize=!0,a.currentAnimation=Ij(0,jD,qe(qe({},s),{onUpdate:function(m){var v;a.mixTargetDelta(m),(v=s.onUpdate)===null||v===void 0||v.call(s,m)},onComplete:function(){var m;(m=s.onComplete)===null||m===void 0||m.call(s),a.completeAnimation()}})),a.resumingFrom&&(a.resumingFrom.currentAnimation=a.currentAnimation),a.pendingAnimation=void 0})},o.prototype.completeAnimation=function(){var s;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),(s=this.getStack())===null||s===void 0||s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")},o.prototype.finishAnimation=function(){var s;this.currentAnimation&&((s=this.mixTargetDelta)===null||s===void 0||s.call(this,jD),this.currentAnimation.stop()),this.completeAnimation()},o.prototype.applyTransformsToTarget=function(){var s=this.getLead(),a=s.targetWithTransforms,l=s.target,c=s.layout,m=s.latestValues;!a||!l||!c||(Ns(a,l),Ch(a,m),av(this.projectionDeltaWithTransform,this.layoutCorrected,a,m))},o.prototype.registerSharedNode=function(s,a){var l,c,m;this.sharedNodes.has(s)||this.sharedNodes.set(s,new Wj);var v=this.sharedNodes.get(s);v.add(a),a.promote({transition:(l=a.options.initialPromotionConfig)===null||l===void 0?void 0:l.transition,preserveFollowOpacity:(m=(c=a.options.initialPromotionConfig)===null||c===void 0?void 0:c.shouldPreserveFollowOpacity)===null||m===void 0?void 0:m.call(c,a)})},o.prototype.isLead=function(){var s=this.getStack();return s?s.lead===this:!0},o.prototype.getLead=function(){var s,a=this.options.layoutId;return a?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this},o.prototype.getPrevLead=function(){var s,a=this.options.layoutId;return a?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0},o.prototype.getStack=function(){var s=this.options.layoutId;if(s)return this.root.sharedNodes.get(s)},o.prototype.promote=function(s){var a=s===void 0?{}:s,l=a.needsReset,c=a.transition,m=a.preserveFollowOpacity,v=this.getStack();v&&v.promote(this,m),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})},o.prototype.relegate=function(){var s=this.getStack();return s?s.relegate(this):!1},o.prototype.resetRotation=function(){var s=this.options.visualElement;if(!!s){for(var a=!1,l={},c=0;c<OE.length;c++){var m=OE[c],v="rotate"+m;!s.getStaticValue(v)||(a=!0,l[v]=s.getStaticValue(v),s.setStaticValue(v,0))}if(!!a){s==null||s.syncRender();for(var v in l)s.setStaticValue(v,l[v]);s.scheduleRender()}}},o.prototype.getProjectionStyles=function(s){var a,l,c,m,v,p;s===void 0&&(s={});var g={};if(!this.instance||this.isSVG)return g;if(this.isVisible)g.visibility="";else return{visibility:"hidden"};var y=(a=this.options.visualElement)===null||a===void 0?void 0:a.getProps().transformTemplate;if(this.needsReset)return this.needsReset=!1,g.opacity="",g.pointerEvents=M_(s.pointerEvents)||"",g.transform=y?y(this.latestValues,""):"none",g;var S=this.getLead();if(!this.projectionDelta||!this.layout||!S.target){var M={};return this.options.layoutId&&(M.opacity=(l=this.latestValues.opacity)!==null&&l!==void 0?l:1,M.pointerEvents=M_(s.pointerEvents)||""),this.hasProjected&&!su(this.latestValues)&&(M.transform=y?y({},""):"none",this.hasProjected=!1),M}var x=S.animationValues||S.latestValues;this.applyTransformsToTarget(),g.transform=GD(this.projectionDeltaWithTransform,this.treeScale,x),y&&(g.transform=y(x,g.transform));var _=this.projectionDelta,T=_.x,E=_.y;g.transformOrigin="".concat(T.origin*100,"% ").concat(E.origin*100,"% 0"),S.animationValues?g.opacity=S===this?(m=(c=x.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&m!==void 0?m:1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:g.opacity=S===this?(v=x.opacity)!==null&&v!==void 0?v:"":(p=x.opacityExit)!==null&&p!==void 0?p:0;for(var C in S_)if(x[C]!==void 0){var I=S_[C],R=I.correct,D=I.applyTo,k=R(x[C],S);if(D)for(var U=D.length,B=0;B<U;B++)g[D[B]]=k;else g[C]=k}return this.options.layoutId&&(g.pointerEvents=S===this?M_(s.pointerEvents)||"":"none"),g},o.prototype.clearSnapshot=function(){this.resumeFrom=this.snapshot=void 0},o.prototype.resetTree=function(){this.root.nodes.forEach(function(s){var a;return(a=s.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(XD),this.root.sharedNodes.clear()},o}()}function Qj(n){n.updateLayout()}function eq(n){var e,t,r,i,o=(t=(e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)!==null&&t!==void 0?t:n.snapshot;if(n.isLead()&&n.layout&&o&&n.hasListeners("didUpdate")){var s=n.layout,a=s.actual,l=s.measured;n.options.animationType==="size"?Bs(function(_){var T=o.isShared?o.measured[_]:o.layout[_],E=Ua(T);T.min=a[_].min,T.max=T.min+E}):n.options.animationType==="position"&&Bs(function(_){var T=o.isShared?o.measured[_]:o.layout[_],E=Ua(a[_]);T.max=T.min+E});var c=uv();av(c,a,o.layout);var m=uv();o.isShared?av(m,n.applyTransform(l,!0),o.measured):av(m,a,o.layout);var v=!VD(c),p=!1;if(!n.resumeFrom&&(n.relativeParent=n.getClosestProjectingParent(),n.relativeParent&&!n.relativeParent.resumeFrom)){var g=n.relativeParent,y=g.snapshot,S=g.layout;if(y&&S){var M=_i();lv(M,o.layout,y.layout);var x=_i();lv(x,a,S.actual),HD(M,x)||(p=!0)}}n.notifyListeners("didUpdate",{layout:a,snapshot:o,delta:m,layoutDelta:c,hasLayoutChanged:v,hasRelativeTargetChanged:p})}else n.isLead()&&((i=(r=n.options).onExitComplete)===null||i===void 0||i.call(r));n.options.transition=void 0}function tq(n){n.clearSnapshot()}function XD(n){n.clearMeasurements()}function nq(n){n.resetTransform()}function rq(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0}function iq(n){n.resolveTargetDelta()}function oq(n){n.calcProjection()}function sq(n){n.resetRotation()}function aq(n){n.removeLeadSnapshot()}function KD(n,e,t){n.translate=rr(e.translate,0,t),n.scale=rr(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function YD(n,e,t,r){n.min=rr(e.min,t.min,r),n.max=rr(e.max,t.max,r)}function lq(n,e,t,r){YD(n.x,e.x,t.x,r),YD(n.y,e.y,t.y,r)}function uq(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}var cq={duration:.45,ease:[.4,0,.1,1]};function fq(n,e){for(var t=n.root,r=n.path.length-1;r>=0;r--)if(Boolean(n.path[r].instance)){t=n.path[r];break}var i=t&&t!==n.root?t.instance:document,o=i.querySelector('[data-projection-id="'.concat(e,'"]'));o&&n.mount(o,!0)}function $D(n){n.min=Math.round(n.min),n.max=Math.round(n.max)}function ZD(n){$D(n.x),$D(n.y)}var dq=1;function hq(){return Vc(function(){if(fv.hasEverUpdated)return dq++})}var FE=se.exports.createContext({}),JD=se.exports.createContext({});function pq(n,e,t,r){var i,o=e.layoutId,s=e.layout,a=e.drag,l=e.dragConstraints,c=e.layoutScroll,m=se.exports.useContext(JD);!r||!t||(t==null?void 0:t.projection)||(t.projection=new r(n,t.getLatestValues(),(i=t.parent)===null||i===void 0?void 0:i.projection),t.projection.setOptions({layoutId:o,layout:s,alwaysMeasureLayout:Boolean(a)||l&&Mh(l),visualElement:t,scheduleRender:function(){return t.scheduleRender()},animationType:typeof s=="string"?s:"both",initialPromotionConfig:m,layoutScroll:c}))}var mq=function(n){MI(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getSnapshotBeforeUpdate=function(){return this.updateProps(),null},e.prototype.componentDidUpdate=function(){},e.prototype.updateProps=function(){var t=this.props,r=t.visualElement,i=t.props;r&&r.setProps(i)},e.prototype.render=function(){return this.props.children},e}(J1.Component);function gq(n){var e=n.preloadedFeatures,t=n.createVisualElement,r=n.projectionNodeConstructor,i=n.useRender,o=n.useVisualState,s=n.Component;e&&Y9(e);function a(l,c){var m=vq(l);l=qe(qe({},l),{layoutId:m});var v=se.exports.useContext(oE),p=null,g=o7(l),y=v.isStatic?void 0:hq(),S=o(l,v.isStatic);return!v.isStatic&&$g&&(g.visualElement=e7(s,S,qe(qe({},v),l),t),pq(y,l,g.visualElement,r||Kg.projectionNodeConstructor),p=J9(l,g.visualElement)),se.exports.createElement(mq,{visualElement:g.visualElement,props:qe(qe({},v),l)},p,se.exports.createElement(i_.Provider,{value:g},i(s,l,y,t7(S,g.visualElement,c),S,v.isStatic,g.visualElement)))}return se.exports.forwardRef(a)}function vq(n){var e,t=n.layoutId,r=(e=se.exports.useContext(FE))===null||e===void 0?void 0:e.id;return r&&t!==void 0?r+"-"+t:t}function yq(n){function e(r,i){return i===void 0&&(i={}),gq(n(r,i))}if(typeof Proxy=="undefined")return e;var t=new Map;return new Proxy(e,{get:function(r,i){return t.has(i)||t.set(i,e(i)),t.get(i)}})}var xq=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","svg","switch","symbol","text","tspan","use","view"];function kE(n){return typeof n!="string"||n.includes("-")?!1:!!(xq.indexOf(n)>-1||/[A-Z]/.test(n))}function QD(n,e){var t=e.layout,r=e.layoutId;return b_(n)||WD(n)||(t||r!==void 0)&&(!!S_[n]||n==="opacity")}var _q={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"};function wq(n,e,t,r){var i=n.transform,o=n.transformKeys,s=e.enableHardwareAcceleration,a=s===void 0?!0:s,l=e.allowTransformNone,c=l===void 0?!0:l,m="";o.sort(Kj);for(var v=!1,p=o.length,g=0;g<p;g++){var y=o[g];m+="".concat(_q[y]||y,"(").concat(i[y],") "),y==="z"&&(v=!0)}return!v&&a?m+="translateZ(0)":m=m.trim(),r?m=r(i,t?"":m):c&&t&&(m="none"),m}function Sq(n){var e=n.originX,t=e===void 0?"50%":e,r=n.originY,i=r===void 0?"50%":r,o=n.originZ,s=o===void 0?0:o;return"".concat(t," ").concat(i," ").concat(s)}function eO(n){return n.startsWith("--")}var bq=function(n,e){return e&&typeof n=="number"?e.transform(n):n};function NE(n,e,t,r){var i,o=n.style,s=n.vars,a=n.transform,l=n.transformKeys,c=n.transformOrigin;l.length=0;var m=!1,v=!1,p=!0;for(var g in e){var y=e[g];if(eO(g)){s[g]=y;continue}var S=yD[g],M=bq(y,S);if(b_(g)){if(m=!0,a[g]=M,l.push(g),!p)continue;y!==((i=S.default)!==null&&i!==void 0?i:0)&&(p=!1)}else WD(g)?(c[g]=M,v=!0):o[g]=M}m?o.transform=wq(n,t,p,r):r&&(o.transform=r({},"")),v&&(o.transformOrigin=Sq(c))}var BE=function(){return{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}};function tO(n,e,t){for(var r in e)!za(e[r])&&!QD(r,t)&&(n[r]=e[r])}function Mq(n,e,t){var r=n.transformTemplate;return se.exports.useMemo(function(){var i=BE();NE(i,e,{enableHardwareAcceleration:!t},r);var o=i.vars,s=i.style;return qe(qe({},o),s)},[e])}function Eq(n,e,t){var r=n.style||{},i={};return tO(i,r,n),Object.assign(i,Mq(n,e,t)),n.transformValues&&(i=n.transformValues(i)),i}function Tq(n,e,t){var r={},i=Eq(n,e,t);return Boolean(n.drag)&&n.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":"pan-".concat(n.drag==="x"?"y":"x")),r.style=i,r}var Aq=new Set(["initial","animate","exit","style","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","layoutDependency","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragSnapToOrigin","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","whileDrag","onPan","onPanStart","onPanEnd","onPanSessionStart","onTap","onTapStart","onTapCancel","onHoverStart","onHoverEnd","whileFocus","whileTap","whileHover","whileInView","onViewportEnter","onViewportLeave","viewport","layoutScroll"]);function E_(n){return Aq.has(n)}var nO=function(n){return!E_(n)};try{var Cq=require("@emotion/is-prop-valid").default;nO=function(n){return n.startsWith("on")?!E_(n):Cq(n)}}catch{}function Pq(n,e,t){var r={};for(var i in n)(nO(i)||t===!0&&E_(i)||!e&&!E_(i)||n.draggable&&i.startsWith("onDrag"))&&(r[i]=n[i]);return r}function rO(n,e,t){return typeof n=="string"?n:Pt.transform(e+t*n)}function Rq(n,e,t){var r=rO(e,n.x,n.width),i=rO(t,n.y,n.height);return"".concat(r," ").concat(i)}var Lq={offset:"stroke-dashoffset",array:"stroke-dasharray"},Iq={offset:"strokeDashoffset",array:"strokeDasharray"};function Dq(n,e,t,r,i){t===void 0&&(t=1),r===void 0&&(r=0),i===void 0&&(i=!0),n.pathLength=1;var o=i?Lq:Iq;n[o.offset]=Pt.transform(-r);var s=Pt.transform(e),a=Pt.transform(t);n[o.array]="".concat(s," ").concat(a)}function zE(n,e,t,r){var i=e.attrX,o=e.attrY,s=e.originX,a=e.originY,l=e.pathLength,c=e.pathSpacing,m=c===void 0?1:c,v=e.pathOffset,p=v===void 0?0:v,g=ko(e,["attrX","attrY","originX","originY","pathLength","pathSpacing","pathOffset"]);NE(n,g,t,r),n.attrs=n.style,n.style={};var y=n.attrs,S=n.style,M=n.dimensions;y.transform&&(M&&(S.transform=y.transform),delete y.transform),M&&(s!==void 0||a!==void 0||S.transform)&&(S.transformOrigin=Rq(M,s!==void 0?s:.5,a!==void 0?a:.5)),i!==void 0&&(y.x=i),o!==void 0&&(y.y=o),l!==void 0&&Dq(y,l,m,p,!1)}var iO=function(){return qe(qe({},BE()),{attrs:{}})};function Oq(n,e){var t=se.exports.useMemo(function(){var i=iO();return zE(i,e,{enableHardwareAcceleration:!1},n.transformTemplate),qe(qe({},i.attrs),{style:qe({},i.style)})},[e]);if(n.style){var r={};tO(r,n.style,n),t.style=qe(qe({},r),t.style)}return t}function Fq(n){n===void 0&&(n=!1);var e=function(t,r,i,o,s,a){var l=s.latestValues,c=kE(t)?Oq:Tq,m=c(r,l,a),v=Pq(r,typeof t=="string",n),p=qe(qe(qe({},v),m),{ref:o});return i&&(p["data-projection-id"]=i),se.exports.createElement(t,p)};return e}var kq=/([a-z])([A-Z])/g,Nq="$1-$2",oO=function(n){return n.replace(kq,Nq).toLowerCase()};function sO(n,e,t,r){var i=e.style,o=e.vars;Object.assign(n.style,i,r&&r.getProjectionStyles(t));for(var s in o)n.style.setProperty(s,o[s])}var aO=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength"]);function lO(n,e){sO(n,e);for(var t in e.attrs)n.setAttribute(aO.has(t)?t:oO(t),e.attrs[t])}function UE(n){var e=n.style,t={};for(var r in e)(za(e[r])||QD(r,n))&&(t[r]=e[r]);return t}function uO(n){var e=UE(n);for(var t in n)if(za(n[t])){var r=t==="x"||t==="y"?"attr"+t.toUpperCase():t;e[r]=n[t]}return e}function VE(n){return typeof n=="object"&&typeof n.start=="function"}function cO(n,e,t,r){var i=n.scrapeMotionValuesFromProps,o=n.createRenderState,s=n.onMount,a={latestValues:Bq(e,t,r,i),renderState:o()};return s&&(a.mount=function(l){return s(e,l,a)}),a}var fO=function(n){return function(e,t){var r=se.exports.useContext(i_),i=se.exports.useContext(Yg);return t?cO(n,e,r,i):Vc(function(){return cO(n,e,r,i)})}};function Bq(n,e,t,r){var i={},o=(t==null?void 0:t.initial)===!1,s=r(n);for(var a in s)i[a]=M_(s[a]);var l=n.initial,c=n.animate,m=s_(n),v=RI(n);e&&v&&!m&&n.inherit!==!1&&(l!=null||(l=e.initial),c!=null||(c=e.animate));var p=o||l===!1,g=p?c:l;if(g&&typeof g!="boolean"&&!VE(g)){var y=Array.isArray(g)?g:[g];y.forEach(function(S){var M=PI(n,S);if(!!M){var x=M.transitionEnd;M.transition;var _=ko(M,["transitionEnd","transition"]);for(var T in _){var E=_[T];if(Array.isArray(E)){var C=p?E.length-1:0;E=E[C]}E!==null&&(i[T]=E)}for(var T in x)i[T]=x[T]}})}return i}var zq={useVisualState:fO({scrapeMotionValuesFromProps:uO,createRenderState:iO,onMount:function(n,e,t){var r=t.renderState,i=t.latestValues;try{r.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}zE(r,i,{enableHardwareAcceleration:!1},n.transformTemplate),lO(e,r)}})},Uq={useVisualState:fO({scrapeMotionValuesFromProps:UE,createRenderState:BE})};function Vq(n,e,t,r,i){var o=e.forwardMotionProps,s=o===void 0?!1:o,a=kE(n)?zq:Uq;return qe(qe({},a),{preloadedFeatures:t,useRender:Fq(s),createVisualElement:r,projectionNodeConstructor:i,Component:n})}var Ln;(function(n){n.Animate="animate",n.Hover="whileHover",n.Tap="whileTap",n.Drag="whileDrag",n.Focus="whileFocus",n.InView="whileInView",n.Exit="exit"})(Ln||(Ln={}));function HE(n,e,t,r){return n.addEventListener(e,t,r),function(){return n.removeEventListener(e,t,r)}}function GE(n,e,t,r){se.exports.useEffect(function(){var i=n.current;if(t&&i)return HE(i,e,t,r)},[n,e,t,r])}function Hq(n){var e=n.whileFocus,t=n.visualElement,r=function(){var o;(o=t.animationState)===null||o===void 0||o.setActive(Ln.Focus,!0)},i=function(){var o;(o=t.animationState)===null||o===void 0||o.setActive(Ln.Focus,!1)};GE(t,"focus",e?r:void 0),GE(t,"blur",e?i:void 0)}function dO(n){return typeof PointerEvent!="undefined"&&n instanceof PointerEvent?n.pointerType==="mouse":n instanceof MouseEvent}function hO(n){var e=!!n.touches;return e}function Gq(n){return function(e){var t=e instanceof MouseEvent,r=!t||t&&e.button===0;r&&n(e)}}var Wq={pageX:0,pageY:0};function jq(n,e){e===void 0&&(e="page");var t=n.touches[0]||n.changedTouches[0],r=t||Wq;return{x:r[e+"X"],y:r[e+"Y"]}}function qq(n,e){return e===void 0&&(e="page"),{x:n[e+"X"],y:n[e+"Y"]}}function WE(n,e){return e===void 0&&(e="page"),{point:hO(n)?jq(n,e):qq(n,e)}}var pO=function(n,e){e===void 0&&(e=!1);var t=function(r){return n(r,WE(r))};return e?Gq(t):t},Xq=function(){return $g&&window.onpointerdown===null},Kq=function(){return $g&&window.ontouchstart===null},Yq=function(){return $g&&window.onmousedown===null},$q={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},Zq={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function mO(n){return Xq()?n:Kq()?Zq[n]:Yq()?$q[n]:n}function Ph(n,e,t,r){return HE(n,mO(e),pO(t,e==="pointerdown"),r)}function T_(n,e,t,r){return GE(n,mO(e),t&&pO(t,e==="pointerdown"),r)}function gO(n){var e=null;return function(){var t=function(){e=null};return e===null?(e=n,t):!1}}var vO=gO("dragHorizontal"),yO=gO("dragVertical");function xO(n){var e=!1;if(n==="y")e=yO();else if(n==="x")e=vO();else{var t=vO(),r=yO();t&&r?e=function(){t(),r()}:(t&&t(),r&&r())}return e}function _O(){var n=xO(!0);return n?(n(),!1):!0}function wO(n,e,t){return function(r,i){var o;!dO(r)||_O()||((o=n.animationState)===null||o===void 0||o.setActive(Ln.Hover,e),t==null||t(r,i))}}function Jq(n){var e=n.onHoverStart,t=n.onHoverEnd,r=n.whileHover,i=n.visualElement;T_(i,"pointerenter",e||r?wO(i,!0,e):void 0),T_(i,"pointerleave",t||r?wO(i,!1,t):void 0)}var SO=function(n,e){return e?n===e?!0:SO(n,e.parentElement):!1};function jE(n){return se.exports.useEffect(function(){return function(){return n()}},[])}function Qq(n){var e=n.onTap,t=n.onTapStart,r=n.onTapCancel,i=n.whileTap,o=n.visualElement,s=e||t||r||i,a=se.exports.useRef(!1),l=se.exports.useRef(null);function c(){var y;(y=l.current)===null||y===void 0||y.call(l),l.current=null}function m(){var y;return c(),a.current=!1,(y=o.animationState)===null||y===void 0||y.setActive(Ln.Tap,!1),!_O()}function v(y,S){!m()||(SO(o.getInstance(),y.target)?e==null||e(y,S):r==null||r(y,S))}function p(y,S){!m()||r==null||r(y,S)}function g(y,S){var M;c(),!a.current&&(a.current=!0,l.current=f_(Ph(window,"pointerup",v),Ph(window,"pointercancel",p)),(M=o.animationState)===null||M===void 0||M.setActive(Ln.Tap,!0),t==null||t(y,S))}T_(o,"pointerdown",s?g:void 0),jE(c)}var qE=new WeakMap,XE=new WeakMap,eX=function(n){var e;(e=qE.get(n.target))===null||e===void 0||e(n)},tX=function(n){n.forEach(eX)};function nX(n){var e=n.root,t=ko(n,["root"]),r=e||document;XE.has(r)||XE.set(r,{});var i=XE.get(r),o=JSON.stringify(t);return i[o]||(i[o]=new IntersectionObserver(tX,qe({root:e},t))),i[o]}function rX(n,e,t){var r=nX(e);return qE.set(n,t),r.observe(n),function(){qE.delete(n),r.unobserve(n)}}function iX(n){var e=n.visualElement,t=n.whileInView,r=n.onViewportEnter,i=n.onViewportLeave,o=n.viewport,s=o===void 0?{}:o,a=se.exports.useRef({hasEnteredView:!1,isInView:!1}),l=Boolean(t||r||i);s.once&&a.current.hasEnteredView&&(l=!1);var c=typeof IntersectionObserver=="undefined"?aX:sX;c(l,a.current,e,s)}var oX={some:0,all:1};function sX(n,e,t,r){var i=r.root,o=r.margin,s=r.amount,a=s===void 0?"some":s,l=r.once;se.exports.useEffect(function(){if(!!n){var c={root:i==null?void 0:i.current,rootMargin:o,threshold:typeof a=="number"?a:oX[a]},m=function(v){var p,g=v.isIntersecting;if(e.isInView!==g&&(e.isInView=g,!(l&&!g&&e.hasEnteredView))){g&&(e.hasEnteredView=!0),(p=t.animationState)===null||p===void 0||p.setActive(Ln.InView,g);var y=t.getProps(),S=g?y.onViewportEnter:y.onViewportLeave;S==null||S(v)}};return rX(t.getInstance(),c,m)}},[n,i,o,a])}function aX(n,e,t){se.exports.useEffect(function(){!n||requestAnimationFrame(function(){var r;e.hasEnteredView=!0;var i=t.getProps().onViewportEnter;i==null||i(null),(r=t.animationState)===null||r===void 0||r.setActive(Ln.InView,!0)})},[n])}var au=function(n){return function(e){return n(e),null}},lX={inView:au(iX),tap:au(Qq),focus:au(Hq),hover:au(Jq)};function bO(){var n=se.exports.useContext(Yg);if(n===null)return[!0,null];var e=n.isPresent,t=n.onExitComplete,r=n.register,i=fX();se.exports.useEffect(function(){return r(i)},[]);var o=function(){return t==null?void 0:t(i)};return!e&&t?[!1,o]:[!0]}var uX=0,cX=function(){return uX++},fX=function(){return Vc(cX)};function MO(n,e){if(!Array.isArray(e))return!1;var t=e.length;if(t!==n.length)return!1;for(var r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}var dX=function(n){return/^\-?\d*\.?\d+$/.test(n)},hX=function(n){return/^0[^.\s]+$/.test(n)},EO=function(n){return function(e){return e.test(n)}},pX={test:function(n){return n==="auto"},parse:function(n){return n}},TO=[Hc,Pt,iu,ru,S7,w7,pX],dv=function(n){return TO.find(EO(n))},mX=is(is([],nr(TO),!1),[ki,Ba],!1),gX=function(n){return mX.find(EO(n))};function vX(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Wc(t))}function yX(n,e){var t=o_(n,e),r=t?n.makeTargetAnimatable(t,!1):{},i=r.transitionEnd,o=i===void 0?{}:i;r.transition;var s=ko(r,["transitionEnd","transition"]);s=qe(qe({},s),o);for(var a in s){var l=xD(s[a]);vX(n,a,l)}}function xX(n,e,t){var r,i,o,s,a=Object.keys(e).filter(function(g){return!n.hasValue(g)}),l=a.length;if(!!l)for(var c=0;c<l;c++){var m=a[c],v=e[m],p=null;Array.isArray(v)&&(p=v[0]),p===null&&(p=(i=(r=t[m])!==null&&r!==void 0?r:n.readValue(m))!==null&&i!==void 0?i:e[m]),p!=null&&(typeof p=="string"&&(dX(p)||hX(p))?p=parseFloat(p):!gX(p)&&Ba.test(v)&&(p=PE(m,v)),n.addValue(m,Wc(p)),(o=(s=t)[m])!==null&&o!==void 0||(s[m]=p),n.setBaseTarget(m,p))}}function _X(n,e){if(!!e){var t=e[n]||e.default||e;return t.from}}function wX(n,e,t){var r,i,o={};for(var s in n)o[s]=(r=_X(s,e))!==null&&r!==void 0?r:(i=t.getValue(s))===null||i===void 0?void 0:i.get();return o}function SX(n,e,t){t===void 0&&(t={}),n.notifyAnimationStart(e);var r;if(Array.isArray(e)){var i=e.map(function(s){return KE(n,s,t)});r=Promise.all(i)}else if(typeof e=="string")r=KE(n,e,t);else{var o=typeof e=="function"?o_(n,e,t.custom):e;r=AO(n,o,t)}return r.then(function(){return n.notifyAnimationComplete(e)})}function KE(n,e,t){var r;t===void 0&&(t={});var i=o_(n,e,t.custom),o=(i||{}).transition,s=o===void 0?n.getDefaultTransition()||{}:o;t.transitionOverride&&(s=t.transitionOverride);var a=i?function(){return AO(n,i,t)}:function(){return Promise.resolve()},l=((r=n.variantChildren)===null||r===void 0?void 0:r.size)?function(g){g===void 0&&(g=0);var y=s.delayChildren,S=y===void 0?0:y,M=s.staggerChildren,x=s.staggerDirection;return bX(n,e,S+g,M,x,t)}:function(){return Promise.resolve()},c=s.when;if(c){var m=nr(c==="beforeChildren"?[a,l]:[l,a],2),v=m[0],p=m[1];return v().then(p)}else return Promise.all([a(),l(t.delay)])}function AO(n,e,t){var r,i=t===void 0?{}:t,o=i.delay,s=o===void 0?0:o,a=i.transitionOverride,l=i.type,c=n.makeTargetAnimatable(e),m=c.transition,v=m===void 0?n.getDefaultTransition():m,p=c.transitionEnd,g=ko(c,["transition","transitionEnd"]);a&&(v=a);var y=[],S=l&&((r=n.animationState)===null||r===void 0?void 0:r.getState()[l]);for(var M in g){var x=n.getValue(M),_=g[M];if(!(!x||_===void 0||S&&EX(S,M))){var T=LE(M,x,_,qe({delay:s},v));y.push(T)}}return Promise.all(y).then(function(){p&&yX(n,p)})}function bX(n,e,t,r,i,o){t===void 0&&(t=0),r===void 0&&(r=0),i===void 0&&(i=1);var s=[],a=(n.variantChildren.size-1)*r,l=i===1?function(c){return c===void 0&&(c=0),c*r}:function(c){return c===void 0&&(c=0),a-c*r};return Array.from(n.variantChildren).sort(MX).forEach(function(c,m){s.push(KE(c,e,qe(qe({},o),{delay:t+l(m)})).then(function(){return c.notifyAnimationComplete(e)}))}),Promise.all(s)}function MX(n,e){return n.sortNodePosition(e)}function EX(n,e){var t=n.protectedKeys,r=n.needsAnimating,i=t.hasOwnProperty(e)&&r[e]!==!0;return r[e]=!1,i}var YE=[Ln.Animate,Ln.InView,Ln.Focus,Ln.Hover,Ln.Tap,Ln.Drag,Ln.Exit],TX=is([],nr(YE),!1).reverse(),AX=YE.length;function CX(n){return function(e){return Promise.all(e.map(function(t){var r=t.animation,i=t.options;return SX(n,r,i)}))}}function PX(n){var e=CX(n),t=LX(),r={},i=!0,o=function(m,v){var p=o_(n,v);if(p){p.transition;var g=p.transitionEnd,y=ko(p,["transition","transitionEnd"]);m=qe(qe(qe({},m),y),g)}return m};function s(m){return r[m]!==void 0}function a(m){e=m(n)}function l(m,v){for(var p,g=n.getProps(),y=n.getVariantContext(!0)||{},S=[],M=new Set,x={},_=1/0,T=function(R){var D=TX[R],k=t[D],U=(p=g[D])!==null&&p!==void 0?p:y[D],B=os(U),$=D===v?k.isActive:null;$===!1&&(_=R);var K=U===y[D]&&U!==g[D]&&B;if(K&&i&&n.manuallyAnimateOnMount&&(K=!1),k.protectedKeys=qe({},x),!k.isActive&&$===null||!U&&!k.prevProp||VE(U)||typeof U=="boolean")return"continue";var ie=RX(k.prevProp,U),Q=ie||D===v&&k.isActive&&!K&&B||R>_&&B,re=Array.isArray(U)?U:[U],ue=re.reduce(o,{});$===!1&&(ue={});var Pe=k.prevResolvedValues,Ue=Pe===void 0?{}:Pe,Ve=qe(qe({},Ue),ue),te=function(j){Q=!0,M.delete(j),k.needsAnimating[j]=!0};for(var me in Ve){var J=ue[me],V=Ue[me];x.hasOwnProperty(me)||(J!==V?sv(J)&&sv(V)?!MO(J,V)||ie?te(me):k.protectedKeys[me]=!0:J!==void 0?te(me):M.add(me):J!==void 0&&M.has(me)?te(me):k.protectedKeys[me]=!0)}k.prevProp=U,k.prevResolvedValues=ue,k.isActive&&(x=qe(qe({},x),ue)),i&&n.blockInitialAnimation&&(Q=!1),Q&&!K&&S.push.apply(S,is([],nr(re.map(function(j){return{animation:j,options:qe({type:D},m)}})),!1))},E=0;E<AX;E++)T(E);if(r=qe({},x),M.size){var C={};M.forEach(function(R){var D=n.getBaseTarget(R);D!==void 0&&(C[R]=D)}),S.push({animation:C})}var I=Boolean(S.length);return i&&g.initial===!1&&!n.manuallyAnimateOnMount&&(I=!1),i=!1,I?e(S):Promise.resolve()}function c(m,v,p){var g;return t[m].isActive===v?Promise.resolve():((g=n.variantChildren)===null||g===void 0||g.forEach(function(y){var S;return(S=y.animationState)===null||S===void 0?void 0:S.setActive(m,v)}),t[m].isActive=v,l(p,m))}return{isAnimated:s,animateChanges:l,setActive:c,setAnimateFunction:a,getState:function(){return t}}}function RX(n,e){return typeof e=="string"?e!==n:CI(e)?!MO(e,n):!1}function qc(n){return n===void 0&&(n=!1),{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function LX(){var n;return n={},n[Ln.Animate]=qc(!0),n[Ln.InView]=qc(),n[Ln.Hover]=qc(),n[Ln.Tap]=qc(),n[Ln.Drag]=qc(),n[Ln.Focus]=qc(),n[Ln.Exit]=qc(),n}var IX={animation:au(function(n){var e=n.visualElement,t=n.animate;e.animationState||(e.animationState=PX(e)),VE(t)&&se.exports.useEffect(function(){return t.subscribe(e)},[t])}),exit:au(function(n){var e=n.custom,t=n.visualElement,r=nr(bO(),2),i=r[0],o=r[1],s=se.exports.useContext(Yg);se.exports.useEffect(function(){var a,l;t.isPresent=i;var c=(a=t.animationState)===null||a===void 0?void 0:a.setActive(Ln.Exit,!i,{custom:(l=s==null?void 0:s.custom)!==null&&l!==void 0?l:e});!i&&(c==null||c.then(o))},[i])})},CO=function(){function n(e,t,r){var i=this,o=r===void 0?{}:r,s=o.transformPagePoint;if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){if(!!(i.lastMoveEvent&&i.lastMoveEventInfo)){var p=ZE(i.lastMoveEventInfo,i.history),g=i.startEvent!==null,y=uD(p.offset,{x:0,y:0})>=3;if(!(!g&&!y)){var S=p.point,M=l_().timestamp;i.history.push(qe(qe({},S),{timestamp:M}));var x=i.handlers,_=x.onStart,T=x.onMove;g||(_&&_(i.lastMoveEvent,p),i.startEvent=i.lastMoveEvent),T&&T(i.lastMoveEvent,p)}}},this.handlePointerMove=function(p,g){if(i.lastMoveEvent=p,i.lastMoveEventInfo=$E(g,i.transformPagePoint),dO(p)&&p.buttons===0){i.handlePointerUp(p,g);return}ss.update(i.updatePoint,!0)},this.handlePointerUp=function(p,g){i.end();var y=i.handlers,S=y.onEnd,M=y.onSessionEnd,x=ZE($E(g,i.transformPagePoint),i.history);i.startEvent&&S&&S(p,x),M&&M(p,x)},!(hO(e)&&e.touches.length>1)){this.handlers=t,this.transformPagePoint=s;var a=WE(e),l=$E(a,this.transformPagePoint),c=l.point,m=l_().timestamp;this.history=[qe(qe({},c),{timestamp:m})];var v=t.onSessionStart;v&&v(e,ZE(l,this.history)),this.removeListeners=f_(Ph(window,"pointermove",this.handlePointerMove),Ph(window,"pointerup",this.handlePointerUp),Ph(window,"pointercancel",this.handlePointerUp))}}return n.prototype.updateHandlers=function(e){this.handlers=e},n.prototype.end=function(){this.removeListeners&&this.removeListeners(),Th.update(this.updatePoint)},n}();function $E(n,e){return e?{point:e(n.point)}:n}function PO(n,e){return{x:n.x-e.x,y:n.y-e.y}}function ZE(n,e){var t=n.point;return{point:t,delta:PO(t,RO(e)),offset:PO(t,DX(e)),velocity:OX(e,.1)}}function DX(n){return n[0]}function RO(n){return n[n.length-1]}function OX(n,e){if(n.length<2)return{x:0,y:0};for(var t=n.length-1,r=null,i=RO(n);t>=0&&(r=n[t],!(i.timestamp-r.timestamp>x_(e)));)t--;if(!r)return{x:0,y:0};var o=(i.timestamp-r.timestamp)/1e3;if(o===0)return{x:0,y:0};var s={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function FX(n,e,t){var r=e.min,i=e.max;return r!==void 0&&n<r?n=t?rr(r,n,t.min):Math.max(n,r):i!==void 0&&n>i&&(n=t?rr(i,n,t.max):Math.min(n,i)),n}function LO(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function kX(n,e){var t=e.top,r=e.left,i=e.bottom,o=e.right;return{x:LO(n.x,r,o),y:LO(n.y,t,i)}}function IO(n,e){var t,r=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&(t=nr([i,r],2),r=t[0],i=t[1]),{min:r,max:i}}function NX(n,e){return{x:IO(n.x,e.x),y:IO(n.y,e.y)}}function BX(n,e){var t=.5,r=Ua(n),i=Ua(e);return i>r?t=Qg(e.min,e.max-r,n.min):r>i&&(t=Qg(n.min,n.max-i,e.min)),u_(0,1,t)}function zX(n,e){var t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}var JE=.35;function UX(n){return n===void 0&&(n=JE),n===!1?n=0:n===!0&&(n=JE),{x:DO(n,"left","right"),y:DO(n,"top","bottom")}}function DO(n,e,t){return{min:OO(n,e),max:OO(n,t)}}function OO(n,e){var t;return typeof n=="number"?n:(t=n[e])!==null&&t!==void 0?t:0}function FO(n){var e=n.top,t=n.left,r=n.right,i=n.bottom;return{x:{min:t,max:r},y:{min:e,max:i}}}function VX(n){var e=n.x,t=n.y;return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function HX(n,e){if(!e)return n;var t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function kO(n,e){return FO(HX(n.getBoundingClientRect(),e))}function GX(n,e,t){var r=kO(n,t),i=e.scroll;return i&&(Ah(r.x,i.x),Ah(r.y,i.y)),r}var WX=new WeakMap,jX=function(){function n(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=_i(),this.visualElement=e}return n.prototype.start=function(e,t){var r=this,i=t===void 0?{}:t,o=i.snapToCursor,s=o===void 0?!1:o;if(this.visualElement.isPresent!==!1){var a=function(v){r.stopAnimation(),s&&r.snapToCursor(WE(v,"page").point)},l=function(v,p){var g,y=r.getProps(),S=y.drag,M=y.dragPropagation,x=y.onDragStart;S&&!M&&(r.openGlobalLock&&r.openGlobalLock(),r.openGlobalLock=xO(S),!r.openGlobalLock)||(r.isDragging=!0,r.currentDirection=null,r.resolveConstraints(),r.visualElement.projection&&(r.visualElement.projection.isAnimationBlocked=!0,r.visualElement.projection.target=void 0),Bs(function(_){var T,E,C=r.getAxisMotionValue(_).get()||0;if(iu.test(C)){var I=(E=(T=r.visualElement.projection)===null||T===void 0?void 0:T.layout)===null||E===void 0?void 0:E.actual[_];if(I){var R=Ua(I);C=R*(parseFloat(C)/100)}}r.originPoint[_]=C}),x==null||x(v,p),(g=r.visualElement.animationState)===null||g===void 0||g.setActive(Ln.Drag,!0))},c=function(v,p){var g=r.getProps(),y=g.dragPropagation,S=g.dragDirectionLock,M=g.onDirectionLock,x=g.onDrag;if(!(!y&&!r.openGlobalLock)){var _=p.offset;if(S&&r.currentDirection===null){r.currentDirection=qX(_),r.currentDirection!==null&&(M==null||M(r.currentDirection));return}r.updateAxis("x",p.point,_),r.updateAxis("y",p.point,_),r.visualElement.syncRender(),x==null||x(v,p)}},m=function(v,p){return r.stop(v,p)};this.panSession=new CO(e,{onSessionStart:a,onStart:l,onMove:c,onSessionEnd:m},{transformPagePoint:this.visualElement.getTransformPagePoint()})}},n.prototype.stop=function(e,t){var r=this.isDragging;if(this.cancel(),!!r){var i=t.velocity;this.startAnimation(i);var o=this.getProps().onDragEnd;o==null||o(e,t)}},n.prototype.cancel=function(){var e,t;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),(e=this.panSession)===null||e===void 0||e.end(),this.panSession=void 0;var r=this.getProps().dragPropagation;!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),(t=this.visualElement.animationState)===null||t===void 0||t.setActive(Ln.Drag,!1)},n.prototype.updateAxis=function(e,t,r){var i=this.getProps().drag;if(!(!r||!A_(e,i,this.currentDirection))){var o=this.getAxisMotionValue(e),s=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(s=FX(s,this.constraints[e],this.elastic[e])),o.set(s)}},n.prototype.resolveConstraints=function(){var e=this,t=this.getProps(),r=t.dragConstraints,i=t.dragElastic,o=(this.visualElement.projection||{}).layout,s=this.constraints;r&&Mh(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&o?this.constraints=kX(o.actual,r):this.constraints=!1,this.elastic=UX(i),s!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&Bs(function(a){e.getAxisMotionValue(a)&&(e.constraints[a]=zX(o.actual[a],e.constraints[a]))})},n.prototype.resolveRefConstraints=function(){var e=this.getProps(),t=e.dragConstraints,r=e.onMeasureDragConstraints;if(!t||!Mh(t))return!1;var i=t.current,o=this.visualElement.projection;if(!o||!o.layout)return!1;var s=GX(i,o.root,this.visualElement.getTransformPagePoint()),a=NX(o.layout.actual,s);if(r){var l=r(VX(a));this.hasMutatedConstraints=!!l,l&&(a=FO(l))}return a},n.prototype.startAnimation=function(e){var t=this,r=this.getProps(),i=r.drag,o=r.dragMomentum,s=r.dragElastic,a=r.dragTransition,l=r.dragSnapToOrigin,c=r.onDragTransitionEnd,m=this.constraints||{},v=Bs(function(p){var g;if(!!A_(p,i,t.currentDirection)){var y=(g=m==null?void 0:m[p])!==null&&g!==void 0?g:{};l&&(y={min:0,max:0});var S=s?200:1e6,M=s?40:1e7,x=qe(qe({type:"inertia",velocity:o?e[p]:0,bounceStiffness:S,bounceDamping:M,timeConstant:750,restDelta:1,restSpeed:10},a),y);return t.startAxisValueAnimation(p,x)}});return Promise.all(v).then(c)},n.prototype.startAxisValueAnimation=function(e,t){var r=this.getAxisMotionValue(e);return LE(e,r,0,t)},n.prototype.stopAnimation=function(){var e=this;Bs(function(t){return e.getAxisMotionValue(t).stop()})},n.prototype.getAxisMotionValue=function(e){var t,r,i="_drag"+e.toUpperCase(),o=this.visualElement.getProps()[i];return o||this.visualElement.getValue(e,(r=(t=this.visualElement.getProps().initial)===null||t===void 0?void 0:t[e])!==null&&r!==void 0?r:0)},n.prototype.snapToCursor=function(e){var t=this;Bs(function(r){var i=t.getProps().drag;if(!!A_(r,i,t.currentDirection)){var o=t.visualElement.projection,s=t.getAxisMotionValue(r);if(o&&o.layout){var a=o.layout.actual[r],l=a.min,c=a.max;s.set(e[r]-rr(l,c,.5))}}})},n.prototype.scalePositionWithinConstraints=function(){var e=this,t,r=this.getProps(),i=r.drag,o=r.dragConstraints,s=this.visualElement.projection;if(!(!Mh(o)||!s||!this.constraints)){this.stopAnimation();var a={x:0,y:0};Bs(function(c){var m=e.getAxisMotionValue(c);if(m){var v=m.get();a[c]=BX({min:v,max:v},e.constraints[c])}});var l=this.visualElement.getProps().transformTemplate;this.visualElement.getInstance().style.transform=l?l({},""):"none",(t=s.root)===null||t===void 0||t.updateScroll(),s.updateLayout(),this.resolveConstraints(),Bs(function(c){if(!!A_(c,i,null)){var m=e.getAxisMotionValue(c),v=e.constraints[c],p=v.min,g=v.max;m.set(rr(p,g,a[c]))}})}},n.prototype.addListeners=function(){var e=this,t;WX.set(this.visualElement,this);var r=this.visualElement.getInstance(),i=Ph(r,"pointerdown",function(c){var m=e.getProps(),v=m.drag,p=m.dragListener,g=p===void 0?!0:p;v&&g&&e.start(c)}),o=function(){var c=e.getProps().dragConstraints;Mh(c)&&(e.constraints=e.resolveRefConstraints())},s=this.visualElement.projection,a=s.addEventListener("measure",o);s&&!s.layout&&((t=s.root)===null||t===void 0||t.updateScroll(),s.updateLayout()),o();var l=HE(window,"resize",function(){e.scalePositionWithinConstraints()});return s.addEventListener("didUpdate",function(c){var m=c.delta,v=c.hasLayoutChanged;e.isDragging&&v&&(Bs(function(p){var g=e.getAxisMotionValue(p);!g||(e.originPoint[p]+=m[p].translate,g.set(g.get()+m[p].translate))}),e.visualElement.syncRender())}),function(){l(),i(),a()}},n.prototype.getProps=function(){var e=this.visualElement.getProps(),t=e.drag,r=t===void 0?!1:t,i=e.dragDirectionLock,o=i===void 0?!1:i,s=e.dragPropagation,a=s===void 0?!1:s,l=e.dragConstraints,c=l===void 0?!1:l,m=e.dragElastic,v=m===void 0?JE:m,p=e.dragMomentum,g=p===void 0?!0:p;return qe(qe({},e),{drag:r,dragDirectionLock:o,dragPropagation:a,dragConstraints:c,dragElastic:v,dragMomentum:g})},n}();function A_(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function qX(n,e){e===void 0&&(e=10);var t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}function XX(n){var e=n.dragControls,t=n.visualElement,r=Vc(function(){return new jX(t)});se.exports.useEffect(function(){return e&&e.subscribe(r)},[r,e]),se.exports.useEffect(function(){return r.addListeners()},[r])}function KX(n){var e=n.onPan,t=n.onPanStart,r=n.onPanEnd,i=n.onPanSessionStart,o=n.visualElement,s=e||t||r||i,a=se.exports.useRef(null),l=se.exports.useContext(oE).transformPagePoint,c={onSessionStart:i,onStart:t,onMove:e,onEnd:function(v,p){a.current=null,r&&r(v,p)}};se.exports.useEffect(function(){a.current!==null&&a.current.updateHandlers(c)});function m(v){a.current=new CO(v,c,{transformPagePoint:l})}T_(o,"pointerdown",s&&m),jE(function(){return a.current&&a.current.end()})}var YX={pan:au(KX),drag:au(XX)},C_=["LayoutMeasure","BeforeLayoutMeasure","LayoutUpdate","ViewportBoxUpdate","Update","Render","AnimationComplete","LayoutAnimationComplete","AnimationStart","SetAxisTarget","Unmount"];function $X(){var n=C_.map(function(){return new ov}),e={},t={clearAllListeners:function(){return n.forEach(function(r){return r.clear()})},updatePropListeners:function(r){C_.forEach(function(i){var o,s="on"+i,a=r[s];(o=e[i])===null||o===void 0||o.call(e),a&&(e[i]=t[s](a))})}};return n.forEach(function(r,i){t["on"+C_[i]]=function(o){return r.add(o)},t["notify"+C_[i]]=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];r.notify.apply(r,is([],nr(o),!1))}}),t}function ZX(n,e,t){var r;for(var i in e){var o=e[i],s=t[i];if(za(o))n.addValue(i,o);else if(za(s))n.addValue(i,Wc(o));else if(s!==o)if(n.hasValue(i)){var a=n.getValue(i);!a.hasAnimated&&a.set(o)}else n.addValue(i,Wc((r=n.getStaticValue(i))!==null&&r!==void 0?r:o))}for(var i in t)e[i]===void 0&&n.removeValue(i);return e}var NO=function(n){var e=n.treeType,t=e===void 0?"":e,r=n.build,i=n.getBaseTarget,o=n.makeTargetAnimatable,s=n.measureViewportBox,a=n.render,l=n.readValueFromInstance,c=n.removeValueFromRenderState,m=n.sortNodePosition,v=n.scrapeMotionValuesFromProps;return function(p,g){var y=p.parent,S=p.props,M=p.presenceId,x=p.blockInitialAnimation,_=p.visualState;g===void 0&&(g={});var T=!1,E=_.latestValues,C=_.renderState,I,R=$X(),D=new Map,k=new Map,U={},B=qe({},E),$;function K(){!I||!T||(ie(),a(I,C,S.style,me.projection))}function ie(){r(me,C,E,g,S)}function Q(){R.notifyUpdate(E)}function re(J,V){var j=V.onChange(function(de){E[J]=de,S.onUpdate&&ss.update(Q,!1,!0)}),Y=V.onRenderRequest(me.scheduleRender);k.set(J,function(){j(),Y()})}var ue=v(S);for(var Pe in ue){var Ue=ue[Pe];E[Pe]!==void 0&&za(Ue)&&Ue.set(E[Pe],!1)}var Ve=s_(S),te=RI(S),me=qe(qe({treeType:t,current:null,depth:y?y.depth+1:0,parent:y,children:new Set,presenceId:M,variantChildren:te?new Set:void 0,isVisible:void 0,manuallyAnimateOnMount:Boolean(y==null?void 0:y.isMounted()),blockInitialAnimation:x,isMounted:function(){return Boolean(I)},mount:function(J){T=!0,I=me.current=J,me.projection&&me.projection.mount(J),te&&y&&!Ve&&($=y==null?void 0:y.addVariantChild(me)),y==null||y.children.add(me),me.setProps(S)},unmount:function(){var J;(J=me.projection)===null||J===void 0||J.unmount(),Th.update(Q),Th.render(K),k.forEach(function(V){return V()}),$==null||$(),y==null||y.children.delete(me),R.clearAllListeners(),I=void 0,T=!1},addVariantChild:function(J){var V,j=me.getClosestVariantNode();if(j)return(V=j.variantChildren)===null||V===void 0||V.add(J),function(){return j.variantChildren.delete(J)}},sortNodePosition:function(J){return!m||t!==J.treeType?0:m(me.getInstance(),J.getInstance())},getClosestVariantNode:function(){return te?me:y==null?void 0:y.getClosestVariantNode()},getLayoutId:function(){return S.layoutId},getInstance:function(){return I},getStaticValue:function(J){return E[J]},setStaticValue:function(J,V){return E[J]=V},getLatestValues:function(){return E},setVisibility:function(J){me.isVisible!==J&&(me.isVisible=J,me.scheduleRender())},makeTargetAnimatable:function(J,V){return V===void 0&&(V=!0),o(me,J,S,V)},measureViewportBox:function(){return s(I,S)},addValue:function(J,V){me.hasValue(J)&&me.removeValue(J),D.set(J,V),E[J]=V.get(),re(J,V)},removeValue:function(J){var V;D.delete(J),(V=k.get(J))===null||V===void 0||V(),k.delete(J),delete E[J],c(J,C)},hasValue:function(J){return D.has(J)},getValue:function(J,V){var j=D.get(J);return j===void 0&&V!==void 0&&(j=Wc(V),me.addValue(J,j)),j},forEachValue:function(J){return D.forEach(J)},readValue:function(J){var V;return(V=E[J])!==null&&V!==void 0?V:l(I,J,g)},setBaseTarget:function(J,V){B[J]=V},getBaseTarget:function(J){if(i){var V=i(S,J);if(V!==void 0&&!za(V))return V}return B[J]}},R),{build:function(){return ie(),C},scheduleRender:function(){ss.render(K,!1,!0)},syncRender:K,setProps:function(J){S=J,R.updatePropListeners(J),U=ZX(me,v(S),U)},getProps:function(){return S},getVariant:function(J){var V;return(V=S.variants)===null||V===void 0?void 0:V[J]},getDefaultTransition:function(){return S.transition},getTransformPagePoint:function(){return S.transformPagePoint},getVariantContext:function(J){if(J===void 0&&(J=!1),J)return y==null?void 0:y.getVariantContext();if(!Ve){var V=(y==null?void 0:y.getVariantContext())||{};return S.initial!==void 0&&(V.initial=S.initial),V}for(var j={},Y=0;Y<JX;Y++){var de=BO[Y],ye=S[de];(os(ye)||ye===!1)&&(j[de]=ye)}return j}});return me}},BO=is(["initial"],nr(YE),!1),JX=BO.length;function QE(n){return typeof n=="string"&&n.startsWith("var(--")}var zO=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function QX(n){var e=zO.exec(n);if(!e)return[,];var t=nr(e,3),r=t[1],i=t[2];return[r,i]}function eT(n,e,t){var r=nr(QX(n),2),i=r[0],o=r[1];if(!!i){var s=window.getComputedStyle(e).getPropertyValue(i);return s?s.trim():QE(o)?eT(o,e):o}}function eK(n,e,t){var r,i=ko(e,[]),o=n.getInstance();if(!(o instanceof Element))return{target:i,transitionEnd:t};t&&(t=qe({},t)),n.forEachValue(function(c){var m=c.get();if(!!QE(m)){var v=eT(m,o);v&&c.set(v)}});for(var s in i){var a=i[s];if(!!QE(a)){var l=eT(a,o);!l||(i[s]=l,t&&((r=t[s])!==null&&r!==void 0||(t[s]=a)))}}return{target:i,transitionEnd:t}}var tK=new Set(["width","height","top","left","right","bottom","x","y"]),UO=function(n){return tK.has(n)},nK=function(n){return Object.keys(n).some(UO)},VO=function(n,e){n.set(e,!1),n.set(e)},HO=function(n){return n===Hc||n===Pt},GO;(function(n){n.width="width",n.height="height",n.left="left",n.right="right",n.top="top",n.bottom="bottom"})(GO||(GO={}));var WO=function(n,e){return parseFloat(n.split(", ")[e])},jO=function(n,e){return function(t,r){var i=r.transform;if(i==="none"||!i)return 0;var o=i.match(/^matrix3d\((.+)\)$/);if(o)return WO(o[1],e);var s=i.match(/^matrix\((.+)\)$/);return s?WO(s[1],n):0}},rK=new Set(["x","y","z"]),iK=cv.filter(function(n){return!rK.has(n)});function oK(n){var e=[];return iK.forEach(function(t){var r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e.length&&n.syncRender(),e}var qO={width:function(n,e){var t=n.x,r=e.paddingLeft,i=r===void 0?"0":r,o=e.paddingRight,s=o===void 0?"0":o;return t.max-t.min-parseFloat(i)-parseFloat(s)},height:function(n,e){var t=n.y,r=e.paddingTop,i=r===void 0?"0":r,o=e.paddingBottom,s=o===void 0?"0":o;return t.max-t.min-parseFloat(i)-parseFloat(s)},top:function(n,e){var t=e.top;return parseFloat(t)},left:function(n,e){var t=e.left;return parseFloat(t)},bottom:function(n,e){var t=n.y,r=e.top;return parseFloat(r)+(t.max-t.min)},right:function(n,e){var t=n.x,r=e.left;return parseFloat(r)+(t.max-t.min)},x:jO(4,13),y:jO(5,14)},sK=function(n,e,t){var r=e.measureViewportBox(),i=e.getInstance(),o=getComputedStyle(i),s=o.display,a={};s==="none"&&e.setStaticValue("display",n.display||"block"),t.forEach(function(c){a[c]=qO[c](r,o)}),e.syncRender();var l=e.measureViewportBox();return t.forEach(function(c){var m=e.getValue(c);VO(m,a[c]),n[c]=qO[c](l,o)}),n},aK=function(n,e,t,r){t===void 0&&(t={}),r===void 0&&(r={}),e=qe({},e),r=qe({},r);var i=Object.keys(e).filter(UO),o=[],s=!1,a=[];if(i.forEach(function(c){var m=n.getValue(c);if(!!n.hasValue(c)){var v=t[c],p=dv(v),g=e[c],y;if(sv(g)){var S=g.length,M=g[0]===null?1:0;v=g[M],p=dv(v);for(var x=M;x<S;x++)y?r_(dv(g[x])===y):y=dv(g[x])}else y=dv(g);if(p!==y)if(HO(p)&&HO(y)){var _=m.get();typeof _=="string"&&m.set(parseFloat(_)),typeof g=="string"?e[c]=parseFloat(g):Array.isArray(g)&&y===Pt&&(e[c]=g.map(parseFloat))}else(p==null?void 0:p.transform)&&(y==null?void 0:y.transform)&&(v===0||g===0)?v===0?m.set(y.transform(v)):e[c]=p.transform(g):(s||(o=oK(n),s=!0),a.push(c),r[c]=r[c]!==void 0?r[c]:e[c],VO(m,g))}}),a.length){var l=sK(e,n,a);return o.length&&o.forEach(function(c){var m=nr(c,2),v=m[0],p=m[1];n.getValue(v).set(p)}),n.syncRender(),{target:l,transitionEnd:r}}else return{target:e,transitionEnd:r}};function lK(n,e,t,r){return nK(e)?aK(n,e,t,r):{target:e,transitionEnd:r}}var uK=function(n,e,t,r){var i=eK(n,e,r);return e=i.target,r=i.transitionEnd,lK(n,e,t,r)};function cK(n){return window.getComputedStyle(n)}var XO={treeType:"dom",readValueFromInstance:function(n,e){if(b_(e)){var t=CE(e);return t&&t.default||0}else{var r=cK(n);return(eO(e)?r.getPropertyValue(e):r[e])||0}},sortNodePosition:function(n,e){return n.compareDocumentPosition(e)&2?1:-1},getBaseTarget:function(n,e){var t;return(t=n.style)===null||t===void 0?void 0:t[e]},measureViewportBox:function(n,e){var t=e.transformPagePoint;return kO(n,t)},resetTransform:function(n,e,t){var r=t.transformTemplate;e.style.transform=r?r({},""):"none",n.scheduleRender()},restoreTransform:function(n,e){n.style.transform=e.style.transform},removeValueFromRenderState:function(n,e){var t=e.vars,r=e.style;delete t[n],delete r[n]},makeTargetAnimatable:function(n,e,t,r){var i=t.transformValues;r===void 0&&(r=!0);var o=e.transition,s=e.transitionEnd,a=ko(e,["transition","transitionEnd"]),l=wX(a,o||{},n);if(i&&(s&&(s=i(s)),a&&(a=i(a)),l&&(l=i(l))),r){xX(n,a,l);var c=uK(n,a,l,s);s=c.transitionEnd,a=c.target}return qe({transition:o,transitionEnd:s},a)},scrapeMotionValuesFromProps:UE,build:function(n,e,t,r,i){n.isVisible!==void 0&&(e.style.visibility=n.isVisible?"visible":"hidden"),NE(e,t,r,i.transformTemplate)},render:sO},fK=NO(XO),dK=NO(qe(qe({},XO),{getBaseTarget:function(n,e){return n[e]},readValueFromInstance:function(n,e){var t;return b_(e)?((t=CE(e))===null||t===void 0?void 0:t.default)||0:(e=aO.has(e)?e:oO(e),n.getAttribute(e))},scrapeMotionValuesFromProps:uO,build:function(n,e,t,r,i){zE(e,t,r,i.transformTemplate)},render:lO})),hK=function(n,e){return kE(n)?dK(e,{enableHardwareAcceleration:!1}):fK(e,{enableHardwareAcceleration:!0})};function KO(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}var hv={correct:function(n,e){if(!e.target)return n;if(typeof n=="string")if(Pt.test(n))n=parseFloat(n);else return n;var t=KO(n,e.target.x),r=KO(n,e.target.y);return"".concat(t,"% ").concat(r,"%")}},YO="_$css",pK={correct:function(n,e){var t=e.treeScale,r=e.projectionDelta,i=n,o=n.includes("var("),s=[];o&&(n=n.replace(zO,function(S){return s.push(S),YO}));var a=Ba.parse(n);if(a.length>5)return i;var l=Ba.createTransformer(n),c=typeof a[0]!="number"?1:0,m=r.x.scale*t.x,v=r.y.scale*t.y;a[0+c]/=m,a[1+c]/=v;var p=rr(m,v,.5);typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p);var g=l(a);if(o){var y=0;g=g.replace(YO,function(){var S=s[y];return y++,S})}return g}},mK=function(n){MI(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.componentDidMount=function(){var t=this,r=this.props,i=r.visualElement,o=r.layoutGroup,s=r.switchLayoutGroup,a=r.layoutId,l=i.projection;jj(vK),l&&((o==null?void 0:o.group)&&o.group.add(l),(s==null?void 0:s.register)&&a&&s.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",function(){t.safeToRemove()}),l.setOptions(qe(qe({},l.options),{onExitComplete:function(){return t.safeToRemove()}}))),fv.hasEverUpdated=!0},e.prototype.getSnapshotBeforeUpdate=function(t){var r=this,i=this.props,o=i.layoutDependency,s=i.visualElement,a=i.drag,l=i.isPresent,c=s.projection;return c&&(c.isPresent=l,a||t.layoutDependency!==o||o===void 0?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||ss.postRender(function(){var m;((m=c.getStack())===null||m===void 0?void 0:m.members.length)||r.safeToRemove()}))),null},e.prototype.componentDidUpdate=function(){var t=this.props.visualElement.projection;t&&(t.root.didUpdate(),!t.currentAnimation&&t.isLead()&&this.safeToRemove())},e.prototype.componentWillUnmount=function(){var t=this.props,r=t.visualElement,i=t.layoutGroup,o=t.switchLayoutGroup,s=r.projection;s&&(s.scheduleCheckAfterUnmount(),(i==null?void 0:i.group)&&i.group.remove(s),(o==null?void 0:o.deregister)&&o.deregister(s))},e.prototype.safeToRemove=function(){var t=this.props.safeToRemove;t==null||t()},e.prototype.render=function(){return null},e}(J1.Component);function gK(n){var e=nr(bO(),2),t=e[0],r=e[1],i=se.exports.useContext(FE);return c3(mK,cn({},qe({},n,{layoutGroup:i,switchLayoutGroup:se.exports.useContext(JD),isPresent:t,safeToRemove:r})))}var vK={borderRadius:qe(qe({},hv),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:hv,borderTopRightRadius:hv,borderBottomLeftRadius:hv,borderBottomRightRadius:hv,boxShadow:pK},yK={measureLayout:gK},xK=qD({attachResizeListener:function(n,e){return n.addEventListener("resize",e,{passive:!0}),function(){return n.removeEventListener("resize",e)}},measureScroll:function(){return{x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}}}),tT={current:void 0},_K=qD({measureScroll:function(n){return{x:n.scrollLeft,y:n.scrollTop}},defaultParent:function(){if(!tT.current){var n=new xK(0,{});n.mount(window),n.setOptions({layoutScroll:!0}),tT.current=n}return tT.current},resetTransform:function(n,e){n.style.transform=e!=null?e:"none"}}),wK=qe(qe(qe(qe({},IX),lX),YX),yK),jre=yq(function(n,e){return Vq(n,e,wK,hK,_K)});function SK(){var n=se.exports.useRef(!1),e=nr(se.exports.useState(0),2),t=e[0],r=e[1];jE(function(){return n.current=!0});var i=se.exports.useCallback(function(){!n.current&&r(t+1)},[t]),o=se.exports.useCallback(function(){return ss.postRender(i)},[i]);return[o,t]}var $O=0;function bK(){var n=$O;return $O++,n}var nT=function(n){var e=n.children,t=n.initial,r=n.isPresent,i=n.onExitComplete,o=n.custom,s=n.presenceAffectsLayout,a=Vc(MK),l=Vc(bK),c=se.exports.useMemo(function(){return{id:l,initial:t,isPresent:r,custom:o,onExitComplete:function(m){var v,p;a.set(m,!0);try{for(var g=K9(a.values()),y=g.next();!y.done;y=g.next()){var S=y.value;if(!S)return}}catch(M){v={error:M}}finally{try{y&&!y.done&&(p=g.return)&&p.call(g)}finally{if(v)throw v.error}}i==null||i()},register:function(m){return a.set(m,!1),function(){return a.delete(m)}}}},s?void 0:[r]);return se.exports.useMemo(function(){a.forEach(function(m,v){return a.set(v,!1)})},[r]),se.exports.useEffect(function(){!r&&!a.size&&(i==null||i())},[r]),se.exports.createElement(Yg.Provider,{value:c},e)};function MK(){return new Map}function Rh(n){return n.key||""}function EK(n,e){n.forEach(function(t){var r=Rh(t);e.set(r,t)})}function TK(n){var e=[];return se.exports.Children.forEach(n,function(t){se.exports.isValidElement(t)&&e.push(t)}),e}var qre=function(n){var e=n.children,t=n.custom,r=n.initial,i=r===void 0?!0:r,o=n.onExitComplete,s=n.exitBeforeEnter,a=n.presenceAffectsLayout,l=a===void 0?!0:a,c=nr(SK(),1),m=c[0],v=se.exports.useContext(FE).forceRender;v&&(m=v);var p=se.exports.useRef(!0),g=se.exports.useRef(!0);se.exports.useEffect(function(){return function(){g.current=!1}},[]);var y=TK(e),S=se.exports.useRef(y),M=se.exports.useRef(new Map).current,x=se.exports.useRef(new Set).current;if(EK(y,M),p.current)return p.current=!1,se.exports.createElement(se.exports.Fragment,null,y.map(function(D){return se.exports.createElement(nT,{key:Rh(D),isPresent:!0,initial:i?void 0:!1,presenceAffectsLayout:l},D)}));for(var _=is([],nr(y),!1),T=S.current.map(Rh),E=y.map(Rh),C=T.length,I=0;I<C;I++){var R=T[I];E.indexOf(R)===-1?x.add(R):x.delete(R)}return s&&x.size&&(_=[]),x.forEach(function(D){if(E.indexOf(D)===-1){var k=M.get(D);if(!!k){var U=T.indexOf(D),B=function(){M.delete(D),x.delete(D);var $=S.current.findIndex(function(K){return K.key===D});if(S.current.splice($,1),!x.size){if(S.current=y,g.current===!1)return;m(),o&&o()}};_.splice(U,0,se.exports.createElement(nT,{key:Rh(k),isPresent:!1,onExitComplete:B,custom:t,presenceAffectsLayout:l},k))}}}),_=_.map(function(D){var k=D.key;return x.has(k)?D:se.exports.createElement(nT,{key:Rh(D),isPresent:!0,presenceAffectsLayout:l},D)}),S.current=_,se.exports.createElement(se.exports.Fragment,null,x.size?_:_.map(function(D){return se.exports.cloneElement(D)}))};function Xre(n){var e=Vc(function(){return Wc(n)}),t=se.exports.useContext(oE).isStatic;if(t){var r=nr(se.exports.useState(n),2),i=r[1];se.exports.useEffect(function(){return e.onChange(i)},[])}return e}/**
 * @license
 * Copyright 2010-2021 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const rT="134",Xc={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Kc={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},ZO=0,iT=1,JO=2,AK=3,CK=0,oT=1,sT=2,Lh=3,Yc=0,hr=1,$c=2,aT=1,PK=2,Va=0,Ih=1,lT=2,uT=3,cT=4,QO=5,Zc=100,eF=101,tF=102,fT=103,dT=104,nF=200,rF=201,iF=202,oF=203,hT=204,pT=205,sF=206,aF=207,lF=208,uF=209,cF=210,fF=0,dF=1,hF=2,P_=3,pF=4,mF=5,gF=6,vF=7,pv=0,yF=1,xF=2,Ha=0,_F=1,wF=2,SF=3,mT=4,bF=5,R_=300,Jc=301,Qc=302,mv=303,gv=304,Dh=306,vv=307,Ga=1e3,Pr=1001,ef=1002,ir=1003,L_=1004,RK=1004,I_=1005,LK=1005,Yn=1006,gT=1007,IK=1007,Wa=1008,DK=1008,ja=1009,MF=1010,EF=1011,yv=1012,TF=1013,xv=1014,zs=1015,tf=1016,AF=1017,CF=1018,PF=1019,Oh=1020,RF=1021,nf=1022,ii=1023,LF=1024,IF=1025,DF=ii,rf=1026,Fh=1027,OF=1028,FF=1029,kF=1030,NF=1031,BF=1032,zF=1033,vT=33776,yT=33777,xT=33778,_T=33779,wT=35840,ST=35841,bT=35842,MT=35843,UF=36196,ET=37492,TT=37496,VF=37808,HF=37809,GF=37810,WF=37811,jF=37812,qF=37813,XF=37814,KF=37815,YF=37816,$F=37817,ZF=37818,JF=37819,QF=37820,ek=37821,tk=36492,nk=37840,rk=37841,ik=37842,ok=37843,sk=37844,ak=37845,lk=37846,uk=37847,ck=37848,fk=37849,dk=37850,hk=37851,pk=37852,mk=37853,gk=2200,vk=2201,yk=2202,_v=2300,wv=2301,D_=2302,of=2400,sf=2401,Sv=2402,O_=2500,AT=2501,xk=0,OK=1,FK=2,Hr=3e3,as=3001,F_=3007,k_=3002,_k=3003,CT=3004,PT=3005,RT=3006,wk=3200,Sk=3201,af=0,bk=1,kK=0,N_=7680,NK=7681,BK=7682,zK=7683,UK=34055,VK=34056,HK=5386,GK=512,WK=513,jK=514,qK=515,XK=516,KK=517,YK=518,Mk=519,kh=35044,Nh=35048,$K=35040,ZK=35045,JK=35049,QK=35041,eY=35046,tY=35050,nY=35042,rY="100",LT="300 es";class qa{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const o=i.indexOf(t);o!==-1&&i.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let o=0,s=i.length;o<s;o++)i[o].call(this,e);e.target=null}}}let B_=1234567;const lf=Math.PI/180,bv=180/Math.PI,oi=[];for(let n=0;n<256;n++)oi[n]=(n<16?"0":"")+n.toString(16);const iY=typeof crypto!="undefined"&&"randomUUID"in crypto;function ho(){if(iY)return crypto.randomUUID().toUpperCase();const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(oi[n&255]+oi[n>>8&255]+oi[n>>16&255]+oi[n>>24&255]+"-"+oi[e&255]+oi[e>>8&255]+"-"+oi[e>>16&15|64]+oi[e>>24&255]+"-"+oi[t&63|128]+oi[t>>8&255]+"-"+oi[t>>16&255]+oi[t>>24&255]+oi[r&255]+oi[r>>8&255]+oi[r>>16&255]+oi[r>>24&255]).toUpperCase()}function si(n,e,t){return Math.max(e,Math.min(t,n))}function IT(n,e){return(n%e+e)%e}function oY(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function sY(n,e,t){return n!==e?(t-n)/(e-n):0}function Mv(n,e,t){return(1-t)*n+t*e}function aY(n,e,t,r){return Mv(n,e,1-Math.exp(-t*r))}function lY(n,e=1){return e-Math.abs(IT(n,e*2)-e)}function uY(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function cY(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function fY(n,e){return n+Math.floor(Math.random()*(e-n+1))}function dY(n,e){return n+Math.random()*(e-n)}function hY(n){return n*(.5-Math.random())}function pY(n){return n!==void 0&&(B_=n%2147483647),B_=B_*16807%2147483647,(B_-1)/2147483646}function mY(n){return n*lf}function gY(n){return n*bv}function DT(n){return(n&n-1)==0&&n!==0}function Ek(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function Tk(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function vY(n,e,t,r,i){const o=Math.cos,s=Math.sin,a=o(t/2),l=s(t/2),c=o((e+r)/2),m=s((e+r)/2),v=o((e-r)/2),p=s((e-r)/2),g=o((r-e)/2),y=s((r-e)/2);switch(i){case"XYX":n.set(a*m,l*v,l*p,a*c);break;case"YZY":n.set(l*p,a*m,l*v,a*c);break;case"ZXZ":n.set(l*v,l*p,a*m,a*c);break;case"XZX":n.set(a*m,l*y,l*g,a*c);break;case"YXY":n.set(l*g,a*m,l*y,a*c);break;case"ZYZ":n.set(l*y,l*g,a*m,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}var Ak=Object.freeze({__proto__:null,DEG2RAD:lf,RAD2DEG:bv,generateUUID:ho,clamp:si,euclideanModulo:IT,mapLinear:oY,inverseLerp:sY,lerp:Mv,damp:aY,pingpong:lY,smoothstep:uY,smootherstep:cY,randInt:fY,randFloat:dY,randFloatSpread:hY,seededRandom:pY,degToRad:mY,radToDeg:gY,isPowerOfTwo:DT,ceilPowerOfTwo:Ek,floorPowerOfTwo:Tk,setQuaternionFromProperEuler:vY});class Oe{constructor(e=0,t=0){this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t,r){return r!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),o=this.x-e.x,s=this.y-e.y;return this.x=o*r-s*i+e.x,this.y=o*i+s*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}Oe.prototype.isVector2=!0;class Rr{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(e,t,r,i,o,s,a,l,c){const m=this.elements;return m[0]=e,m[1]=i,m[2]=a,m[3]=t,m[4]=o,m[5]=l,m[6]=r,m[7]=s,m[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,o=this.elements,s=r[0],a=r[3],l=r[6],c=r[1],m=r[4],v=r[7],p=r[2],g=r[5],y=r[8],S=i[0],M=i[3],x=i[6],_=i[1],T=i[4],E=i[7],C=i[2],I=i[5],R=i[8];return o[0]=s*S+a*_+l*C,o[3]=s*M+a*T+l*I,o[6]=s*x+a*E+l*R,o[1]=c*S+m*_+v*C,o[4]=c*M+m*T+v*I,o[7]=c*x+m*E+v*R,o[2]=p*S+g*_+y*C,o[5]=p*M+g*T+y*I,o[8]=p*x+g*E+y*R,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7],m=e[8];return t*s*m-t*a*c-r*o*m+r*a*l+i*o*c-i*s*l}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7],m=e[8],v=m*s-a*c,p=a*l-m*o,g=c*o-s*l,y=t*v+r*p+i*g;if(y===0)return this.set(0,0,0,0,0,0,0,0,0);const S=1/y;return e[0]=v*S,e[1]=(i*c-m*r)*S,e[2]=(a*r-i*s)*S,e[3]=p*S,e[4]=(m*t-i*l)*S,e[5]=(i*o-a*t)*S,e[6]=g*S,e[7]=(r*l-c*t)*S,e[8]=(s*t-r*o)*S,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,o,s,a){const l=Math.cos(o),c=Math.sin(o);return this.set(r*l,r*c,-r*(l*s+c*a)+s+e,-i*c,i*l,-i*(-c*s+l*a)+a+t,0,0,1),this}scale(e,t){const r=this.elements;return r[0]*=e,r[3]*=e,r[6]*=e,r[1]*=t,r[4]*=t,r[7]*=t,this}rotate(e){const t=Math.cos(e),r=Math.sin(e),i=this.elements,o=i[0],s=i[3],a=i[6],l=i[1],c=i[4],m=i[7];return i[0]=t*o+r*l,i[3]=t*s+r*c,i[6]=t*a+r*m,i[1]=-r*o+t*l,i[4]=-r*s+t*c,i[7]=-r*a+t*m,this}translate(e,t){const r=this.elements;return r[0]+=e*r[2],r[3]+=e*r[5],r[6]+=e*r[8],r[1]+=t*r[2],r[4]+=t*r[5],r[7]+=t*r[8],this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}Rr.prototype.isMatrix3=!0;function Ck(n){if(n.length===0)return-1/0;let e=n[0];for(let t=1,r=n.length;t<r;++t)n[t]>e&&(e=n[t]);return e}const yY={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Bh(n,e){return new yY[n](e)}function z_(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function Pk(n,e=0){let t=3735928559^e,r=1103547991^e;for(let i=0,o;i<n.length;i++)o=n.charCodeAt(i),t=Math.imul(t^o,2654435761),r=Math.imul(r^o,1597334677);return t=Math.imul(t^t>>>16,2246822507)^Math.imul(r^r>>>13,3266489909),r=Math.imul(r^r>>>16,2246822507)^Math.imul(t^t>>>13,3266489909),4294967296*(2097151&r)+(t>>>0)}let zh;class uf{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement=="undefined")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{zh===void 0&&(zh=z_("canvas")),zh.width=e.width,zh.height=e.height;const r=zh.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=zh}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}}let xY=0;class _r extends qa{constructor(e=_r.DEFAULT_IMAGE,t=_r.DEFAULT_MAPPING,r=Pr,i=Pr,o=Yn,s=Wa,a=ii,l=ja,c=1,m=Hr){super();Object.defineProperty(this,"id",{value:xY++}),this.uuid=ho(),this.name="",this.image=e,this.mipmaps=[],this.mapping=t,this.wrapS=r,this.wrapT=i,this.magFilter=o,this.minFilter=s,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new Oe(0,0),this.repeat=new Oe(1,1),this.center=new Oe(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Rr,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=m,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(this.image!==void 0){const i=this.image;if(i.uuid===void 0&&(i.uuid=ho()),!t&&e.images[i.uuid]===void 0){let o;if(Array.isArray(i)){o=[];for(let s=0,a=i.length;s<a;s++)i[s].isDataTexture?o.push(OT(i[s].image)):o.push(OT(i[s]))}else o=OT(i);e.images[i.uuid]={uuid:i.uuid,url:o}}r.image=i.uuid}return JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==R_)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Ga:e.x=e.x-Math.floor(e.x);break;case Pr:e.x=e.x<0?0:1;break;case ef:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Ga:e.y=e.y-Math.floor(e.y);break;case Pr:e.y=e.y<0?0:1;break;case ef:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&this.version++}}_r.DEFAULT_IMAGE=void 0;_r.DEFAULT_MAPPING=R_;_r.prototype.isTexture=!0;function OT(n){return typeof HTMLImageElement!="undefined"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&n instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&n instanceof ImageBitmap?uf.getDataURL(n):n.data?{data:Array.prototype.slice.call(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}class _n{constructor(e=0,t=0,r=0,i=1){this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,o=this.w,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i+s[12]*o,this.y=s[1]*t+s[5]*r+s[9]*i+s[13]*o,this.z=s[2]*t+s[6]*r+s[10]*i+s[14]*o,this.w=s[3]*t+s[7]*r+s[11]*i+s[15]*o,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,o;const s=.01,a=.1,l=e.elements,c=l[0],m=l[4],v=l[8],p=l[1],g=l[5],y=l[9],S=l[2],M=l[6],x=l[10];if(Math.abs(m-p)<s&&Math.abs(v-S)<s&&Math.abs(y-M)<s){if(Math.abs(m+p)<a&&Math.abs(v+S)<a&&Math.abs(y+M)<a&&Math.abs(c+g+x-3)<a)return this.set(1,0,0,0),this;t=Math.PI;const T=(c+1)/2,E=(g+1)/2,C=(x+1)/2,I=(m+p)/4,R=(v+S)/4,D=(y+M)/4;return T>E&&T>C?T<s?(r=0,i=.707106781,o=.707106781):(r=Math.sqrt(T),i=I/r,o=R/r):E>C?E<s?(r=.707106781,i=0,o=.707106781):(i=Math.sqrt(E),r=I/i,o=D/i):C<s?(r=.707106781,i=.707106781,o=0):(o=Math.sqrt(C),r=R/o,i=D/o),this.set(r,i,o,t),this}let _=Math.sqrt((M-y)*(M-y)+(v-S)*(v-S)+(p-m)*(p-m));return Math.abs(_)<.001&&(_=1),this.x=(M-y)/_,this.y=(v-S)/_,this.z=(p-m)/_,this.w=Math.acos((c+g+x-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t,r){return r!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}_n.prototype.isVector4=!0;class ls extends qa{constructor(e,t,r={}){super();this.width=e,this.height=t,this.depth=1,this.scissor=new _n(0,0,e,t),this.scissorTest=!1,this.viewport=new _n(0,0,e,t),this.texture=new _r(void 0,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.image={width:e,height:t,depth:1},this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:Yn,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null}setTexture(e){e.image={width:this.width,height:this.height,depth:this.depth},this.texture=e}setSize(e,t,r=1){(this.width!==e||this.height!==t||this.depth!==r)&&(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.image=cn({},this.texture.image),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this}dispose(){this.dispatchEvent({type:"dispose"})}}ls.prototype.isWebGLRenderTarget=!0;class Rk extends ls{constructor(e,t,r){super(e,t);const i=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=i.clone()}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,o=this.texture.length;i<o;i++)this.texture[i].image.width=e,this.texture[i].image.height=t,this.texture[i].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this.texture.length=0;for(let t=0,r=e.texture.length;t<r;t++)this.texture[t]=e.texture[t].clone();return this}}Rk.prototype.isWebGLMultipleRenderTargets=!0;class FT extends ls{constructor(e,t,r){super(e,t,r);this.samples=4}copy(e){return super.copy.call(this,e),this.samples=e.samples,this}}FT.prototype.isWebGLMultisampleRenderTarget=!0;class Lr{constructor(e=0,t=0,r=0,i=1){this._x=e,this._y=t,this._z=r,this._w=i}static slerp(e,t,r,i){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),r.slerpQuaternions(e,t,i)}static slerpFlat(e,t,r,i,o,s,a){let l=r[i+0],c=r[i+1],m=r[i+2],v=r[i+3];const p=o[s+0],g=o[s+1],y=o[s+2],S=o[s+3];if(a===0){e[t+0]=l,e[t+1]=c,e[t+2]=m,e[t+3]=v;return}if(a===1){e[t+0]=p,e[t+1]=g,e[t+2]=y,e[t+3]=S;return}if(v!==S||l!==p||c!==g||m!==y){let M=1-a;const x=l*p+c*g+m*y+v*S,_=x>=0?1:-1,T=1-x*x;if(T>Number.EPSILON){const C=Math.sqrt(T),I=Math.atan2(C,x*_);M=Math.sin(M*I)/C,a=Math.sin(a*I)/C}const E=a*_;if(l=l*M+p*E,c=c*M+g*E,m=m*M+y*E,v=v*M+S*E,M===1-a){const C=1/Math.sqrt(l*l+c*c+m*m+v*v);l*=C,c*=C,m*=C,v*=C}}e[t]=l,e[t+1]=c,e[t+2]=m,e[t+3]=v}static multiplyQuaternionsFlat(e,t,r,i,o,s){const a=r[i],l=r[i+1],c=r[i+2],m=r[i+3],v=o[s],p=o[s+1],g=o[s+2],y=o[s+3];return e[t]=a*y+m*v+l*g-c*p,e[t+1]=l*y+m*p+c*v-a*g,e[t+2]=c*y+m*g+a*p-l*v,e[t+3]=m*y-a*v-l*p-c*g,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){if(!(e&&e.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const r=e._x,i=e._y,o=e._z,s=e._order,a=Math.cos,l=Math.sin,c=a(r/2),m=a(i/2),v=a(o/2),p=l(r/2),g=l(i/2),y=l(o/2);switch(s){case"XYZ":this._x=p*m*v+c*g*y,this._y=c*g*v-p*m*y,this._z=c*m*y+p*g*v,this._w=c*m*v-p*g*y;break;case"YXZ":this._x=p*m*v+c*g*y,this._y=c*g*v-p*m*y,this._z=c*m*y-p*g*v,this._w=c*m*v+p*g*y;break;case"ZXY":this._x=p*m*v-c*g*y,this._y=c*g*v+p*m*y,this._z=c*m*y+p*g*v,this._w=c*m*v-p*g*y;break;case"ZYX":this._x=p*m*v-c*g*y,this._y=c*g*v+p*m*y,this._z=c*m*y-p*g*v,this._w=c*m*v+p*g*y;break;case"YZX":this._x=p*m*v+c*g*y,this._y=c*g*v+p*m*y,this._z=c*m*y-p*g*v,this._w=c*m*v-p*g*y;break;case"XZY":this._x=p*m*v-c*g*y,this._y=c*g*v-p*m*y,this._z=c*m*y+p*g*v,this._w=c*m*v+p*g*y;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],o=t[8],s=t[1],a=t[5],l=t[9],c=t[2],m=t[6],v=t[10],p=r+a+v;if(p>0){const g=.5/Math.sqrt(p+1);this._w=.25/g,this._x=(m-l)*g,this._y=(o-c)*g,this._z=(s-i)*g}else if(r>a&&r>v){const g=2*Math.sqrt(1+r-a-v);this._w=(m-l)/g,this._x=.25*g,this._y=(i+s)/g,this._z=(o+c)/g}else if(a>v){const g=2*Math.sqrt(1+a-r-v);this._w=(o-c)/g,this._x=(i+s)/g,this._y=.25*g,this._z=(l+m)/g}else{const g=2*Math.sqrt(1+v-r-a);this._w=(s-i)/g,this._x=(o+c)/g,this._y=(l+m)/g,this._z=.25*g}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(si(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e,t){return t!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,o=e._z,s=e._w,a=t._x,l=t._y,c=t._z,m=t._w;return this._x=r*m+s*a+i*c-o*l,this._y=i*m+s*l+o*a-r*c,this._z=o*m+s*c+r*l-i*a,this._w=s*m-r*a-i*l-o*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,i=this._y,o=this._z,s=this._w;let a=s*e._w+r*e._x+i*e._y+o*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=s,this._x=r,this._y=i,this._z=o,this;const l=1-a*a;if(l<=Number.EPSILON){const g=1-t;return this._w=g*s+t*this._w,this._x=g*r+t*this._x,this._y=g*i+t*this._y,this._z=g*o+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),m=Math.atan2(c,a),v=Math.sin((1-t)*m)/c,p=Math.sin(t*m)/c;return this._w=s*v+this._w*p,this._x=r*v+this._x*p,this._y=i*v+this._y*p,this._z=o*v+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,t,r){this.copy(e).slerp(t,r)}random(){const e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),o=2*Math.PI*Math.random();return this.set(t*Math.cos(i),r*Math.sin(o),r*Math.cos(o),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}Lr.prototype.isQuaternion=!0;class H{constructor(e=0,t=0,r=0){this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e,t){return t!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(Lk.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(Lk.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*t+o[3]*r+o[6]*i,this.y=o[1]*t+o[4]*r+o[7]*i,this.z=o[2]*t+o[5]*r+o[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,o=e.elements,s=1/(o[3]*t+o[7]*r+o[11]*i+o[15]);return this.x=(o[0]*t+o[4]*r+o[8]*i+o[12])*s,this.y=(o[1]*t+o[5]*r+o[9]*i+o[13])*s,this.z=(o[2]*t+o[6]*r+o[10]*i+o[14])*s,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,o=e.x,s=e.y,a=e.z,l=e.w,c=l*t+s*i-a*r,m=l*r+a*t-o*i,v=l*i+o*r-s*t,p=-o*t-s*r-a*i;return this.x=c*l+p*-o+m*-a-v*-s,this.y=m*l+p*-s+v*-o-c*-a,this.z=v*l+p*-a+c*-s-m*-o,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i,this.y=o[1]*t+o[5]*r+o[9]*i,this.z=o[2]*t+o[6]*r+o[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e,t){return t!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,o=e.z,s=t.x,a=t.y,l=t.z;return this.x=i*l-o*a,this.y=o*s-r*l,this.z=r*a-i*s,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return kT.copy(this).projectOnVector(e),this.sub(kT)}reflect(e){return this.sub(kT.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(si(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t,r){return r!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}H.prototype.isVector3=!0;const kT=new H,Lk=new Lr;class to{constructor(e=new H(1/0,1/0,1/0),t=new H(-1/0,-1/0,-1/0)){this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,r=1/0,i=1/0,o=-1/0,s=-1/0,a=-1/0;for(let l=0,c=e.length;l<c;l+=3){const m=e[l],v=e[l+1],p=e[l+2];m<t&&(t=m),v<r&&(r=v),p<i&&(i=p),m>o&&(o=m),v>s&&(s=v),p>a&&(a=p)}return this.min.set(t,r,i),this.max.set(o,s,a),this}setFromBufferAttribute(e){let t=1/0,r=1/0,i=1/0,o=-1/0,s=-1/0,a=-1/0;for(let l=0,c=e.count;l<c;l++){const m=e.getX(l),v=e.getY(l),p=e.getZ(l);m<t&&(t=m),v<r&&(r=v),p<i&&(i=p),m>o&&(o=m),v>s&&(s=v),p>a&&(a=p)}return this.min.set(t,r,i),this.max.set(o,s,a),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=Ev.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e){return this.makeEmpty(),this.expandByObject(e)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e){e.updateWorldMatrix(!1,!1);const t=e.geometry;t!==void 0&&(t.boundingBox===null&&t.computeBoundingBox(),NT.copy(t.boundingBox),NT.applyMatrix4(e.matrixWorld),this.union(NT));const r=e.children;for(let i=0,o=r.length;i<o;i++)this.expandByObject(r[i]);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Ev),Ev.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Tv),U_.subVectors(this.max,Tv),Uh.subVectors(e.a,Tv),Vh.subVectors(e.b,Tv),Hh.subVectors(e.c,Tv),lu.subVectors(Vh,Uh),uu.subVectors(Hh,Vh),cf.subVectors(Uh,Hh);let t=[0,-lu.z,lu.y,0,-uu.z,uu.y,0,-cf.z,cf.y,lu.z,0,-lu.x,uu.z,0,-uu.x,cf.z,0,-cf.x,-lu.y,lu.x,0,-uu.y,uu.x,0,-cf.y,cf.x,0];return!BT(t,Uh,Vh,Hh,U_)||(t=[1,0,0,0,1,0,0,0,1],!BT(t,Uh,Vh,Hh,U_))?!1:(V_.crossVectors(lu,uu),t=[V_.x,V_.y,V_.z],BT(t,Uh,Vh,Hh,U_))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return Ev.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(Ev).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Xa[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Xa[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Xa[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Xa[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Xa[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Xa[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Xa[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Xa[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Xa),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}to.prototype.isBox3=!0;const Xa=[new H,new H,new H,new H,new H,new H,new H,new H],Ev=new H,NT=new to,Uh=new H,Vh=new H,Hh=new H,lu=new H,uu=new H,cf=new H,Tv=new H,U_=new H,V_=new H,ff=new H;function BT(n,e,t,r,i){for(let o=0,s=n.length-3;o<=s;o+=3){ff.fromArray(n,o);const a=i.x*Math.abs(ff.x)+i.y*Math.abs(ff.y)+i.z*Math.abs(ff.z),l=e.dot(ff),c=t.dot(ff),m=r.dot(ff);if(Math.max(-Math.max(l,c,m),Math.min(l,c,m))>a)return!1}return!0}const _Y=new to,Ik=new H,zT=new H,UT=new H;class Ka{constructor(e=new H,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):_Y.setFromPoints(e).getCenter(r);let i=0;for(let o=0,s=e.length;o<s;o++)i=Math.max(i,r.distanceToSquared(e[o]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){UT.subVectors(e,this.center);const t=UT.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.add(UT.multiplyScalar(i/r)),this.radius+=i}return this}union(e){return zT.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(Ik.copy(e.center).add(zT)),this.expandByPoint(Ik.copy(e.center).sub(zT)),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Ya=new H,VT=new H,H_=new H,cu=new H,HT=new H,G_=new H,GT=new H;class fu{constructor(e=new H,t=new H(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Ya)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(r).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Ya.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Ya.copy(this.direction).multiplyScalar(t).add(this.origin),Ya.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){VT.copy(e).add(t).multiplyScalar(.5),H_.copy(t).sub(e).normalize(),cu.copy(this.origin).sub(VT);const o=e.distanceTo(t)*.5,s=-this.direction.dot(H_),a=cu.dot(this.direction),l=-cu.dot(H_),c=cu.lengthSq(),m=Math.abs(1-s*s);let v,p,g,y;if(m>0)if(v=s*l-a,p=s*a-l,y=o*m,v>=0)if(p>=-y)if(p<=y){const S=1/m;v*=S,p*=S,g=v*(v+s*p+2*a)+p*(s*v+p+2*l)+c}else p=o,v=Math.max(0,-(s*p+a)),g=-v*v+p*(p+2*l)+c;else p=-o,v=Math.max(0,-(s*p+a)),g=-v*v+p*(p+2*l)+c;else p<=-y?(v=Math.max(0,-(-s*o+a)),p=v>0?-o:Math.min(Math.max(-o,-l),o),g=-v*v+p*(p+2*l)+c):p<=y?(v=0,p=Math.min(Math.max(-o,-l),o),g=p*(p+2*l)+c):(v=Math.max(0,-(s*o+a)),p=v>0?o:Math.min(Math.max(-o,-l),o),g=-v*v+p*(p+2*l)+c);else p=s>0?-o:o,v=Math.max(0,-(s*p+a)),g=-v*v+p*(p+2*l)+c;return r&&r.copy(this.direction).multiplyScalar(v).add(this.origin),i&&i.copy(H_).multiplyScalar(p).add(VT),g}intersectSphere(e,t){Ya.subVectors(e.center,this.origin);const r=Ya.dot(this.direction),i=Ya.dot(Ya)-r*r,o=e.radius*e.radius;if(i>o)return null;const s=Math.sqrt(o-i),a=r-s,l=r+s;return a<0&&l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,o,s,a,l;const c=1/this.direction.x,m=1/this.direction.y,v=1/this.direction.z,p=this.origin;return c>=0?(r=(e.min.x-p.x)*c,i=(e.max.x-p.x)*c):(r=(e.max.x-p.x)*c,i=(e.min.x-p.x)*c),m>=0?(o=(e.min.y-p.y)*m,s=(e.max.y-p.y)*m):(o=(e.max.y-p.y)*m,s=(e.min.y-p.y)*m),r>s||o>i||((o>r||r!==r)&&(r=o),(s<i||i!==i)&&(i=s),v>=0?(a=(e.min.z-p.z)*v,l=(e.max.z-p.z)*v):(a=(e.max.z-p.z)*v,l=(e.min.z-p.z)*v),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,Ya)!==null}intersectTriangle(e,t,r,i,o){HT.subVectors(t,e),G_.subVectors(r,e),GT.crossVectors(HT,G_);let s=this.direction.dot(GT),a;if(s>0){if(i)return null;a=1}else if(s<0)a=-1,s=-s;else return null;cu.subVectors(this.origin,e);const l=a*this.direction.dot(G_.crossVectors(cu,G_));if(l<0)return null;const c=a*this.direction.dot(HT.cross(cu));if(c<0||l+c>s)return null;const m=-a*cu.dot(GT);return m<0?null:this.at(m/s,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class ht{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(e,t,r,i,o,s,a,l,c,m,v,p,g,y,S,M){const x=this.elements;return x[0]=e,x[4]=t,x[8]=r,x[12]=i,x[1]=o,x[5]=s,x[9]=a,x[13]=l,x[2]=c,x[6]=m,x[10]=v,x[14]=p,x[3]=g,x[7]=y,x[11]=S,x[15]=M,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new ht().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/Gh.setFromMatrixColumn(e,0).length(),o=1/Gh.setFromMatrixColumn(e,1).length(),s=1/Gh.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*o,t[5]=r[5]*o,t[6]=r[6]*o,t[7]=0,t[8]=r[8]*s,t[9]=r[9]*s,t[10]=r[10]*s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const t=this.elements,r=e.x,i=e.y,o=e.z,s=Math.cos(r),a=Math.sin(r),l=Math.cos(i),c=Math.sin(i),m=Math.cos(o),v=Math.sin(o);if(e.order==="XYZ"){const p=s*m,g=s*v,y=a*m,S=a*v;t[0]=l*m,t[4]=-l*v,t[8]=c,t[1]=g+y*c,t[5]=p-S*c,t[9]=-a*l,t[2]=S-p*c,t[6]=y+g*c,t[10]=s*l}else if(e.order==="YXZ"){const p=l*m,g=l*v,y=c*m,S=c*v;t[0]=p+S*a,t[4]=y*a-g,t[8]=s*c,t[1]=s*v,t[5]=s*m,t[9]=-a,t[2]=g*a-y,t[6]=S+p*a,t[10]=s*l}else if(e.order==="ZXY"){const p=l*m,g=l*v,y=c*m,S=c*v;t[0]=p-S*a,t[4]=-s*v,t[8]=y+g*a,t[1]=g+y*a,t[5]=s*m,t[9]=S-p*a,t[2]=-s*c,t[6]=a,t[10]=s*l}else if(e.order==="ZYX"){const p=s*m,g=s*v,y=a*m,S=a*v;t[0]=l*m,t[4]=y*c-g,t[8]=p*c+S,t[1]=l*v,t[5]=S*c+p,t[9]=g*c-y,t[2]=-c,t[6]=a*l,t[10]=s*l}else if(e.order==="YZX"){const p=s*l,g=s*c,y=a*l,S=a*c;t[0]=l*m,t[4]=S-p*v,t[8]=y*v+g,t[1]=v,t[5]=s*m,t[9]=-a*m,t[2]=-c*m,t[6]=g*v+y,t[10]=p-S*v}else if(e.order==="XZY"){const p=s*l,g=s*c,y=a*l,S=a*c;t[0]=l*m,t[4]=-v,t[8]=c*m,t[1]=p*v+S,t[5]=s*m,t[9]=g*v-y,t[2]=y*v-g,t[6]=a*m,t[10]=S*v+p}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(wY,e,SY)}lookAt(e,t,r){const i=this.elements;return po.subVectors(e,t),po.lengthSq()===0&&(po.z=1),po.normalize(),du.crossVectors(r,po),du.lengthSq()===0&&(Math.abs(r.z)===1?po.x+=1e-4:po.z+=1e-4,po.normalize(),du.crossVectors(r,po)),du.normalize(),W_.crossVectors(po,du),i[0]=du.x,i[4]=W_.x,i[8]=po.x,i[1]=du.y,i[5]=W_.y,i[9]=po.y,i[2]=du.z,i[6]=W_.z,i[10]=po.z,this}multiply(e,t){return t!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,o=this.elements,s=r[0],a=r[4],l=r[8],c=r[12],m=r[1],v=r[5],p=r[9],g=r[13],y=r[2],S=r[6],M=r[10],x=r[14],_=r[3],T=r[7],E=r[11],C=r[15],I=i[0],R=i[4],D=i[8],k=i[12],U=i[1],B=i[5],$=i[9],K=i[13],ie=i[2],Q=i[6],re=i[10],ue=i[14],Pe=i[3],Ue=i[7],Ve=i[11],te=i[15];return o[0]=s*I+a*U+l*ie+c*Pe,o[4]=s*R+a*B+l*Q+c*Ue,o[8]=s*D+a*$+l*re+c*Ve,o[12]=s*k+a*K+l*ue+c*te,o[1]=m*I+v*U+p*ie+g*Pe,o[5]=m*R+v*B+p*Q+g*Ue,o[9]=m*D+v*$+p*re+g*Ve,o[13]=m*k+v*K+p*ue+g*te,o[2]=y*I+S*U+M*ie+x*Pe,o[6]=y*R+S*B+M*Q+x*Ue,o[10]=y*D+S*$+M*re+x*Ve,o[14]=y*k+S*K+M*ue+x*te,o[3]=_*I+T*U+E*ie+C*Pe,o[7]=_*R+T*B+E*Q+C*Ue,o[11]=_*D+T*$+E*re+C*Ve,o[15]=_*k+T*K+E*ue+C*te,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],o=e[12],s=e[1],a=e[5],l=e[9],c=e[13],m=e[2],v=e[6],p=e[10],g=e[14],y=e[3],S=e[7],M=e[11],x=e[15];return y*(+o*l*v-i*c*v-o*a*p+r*c*p+i*a*g-r*l*g)+S*(+t*l*g-t*c*p+o*s*p-i*s*g+i*c*m-o*l*m)+M*(+t*c*v-t*a*g-o*s*v+r*s*g+o*a*m-r*c*m)+x*(-i*a*m-t*l*v+t*a*p+i*s*v-r*s*p+r*l*m)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7],m=e[8],v=e[9],p=e[10],g=e[11],y=e[12],S=e[13],M=e[14],x=e[15],_=v*M*c-S*p*c+S*l*g-a*M*g-v*l*x+a*p*x,T=y*p*c-m*M*c-y*l*g+s*M*g+m*l*x-s*p*x,E=m*S*c-y*v*c+y*a*g-s*S*g-m*a*x+s*v*x,C=y*v*l-m*S*l-y*a*p+s*S*p+m*a*M-s*v*M,I=t*_+r*T+i*E+o*C;if(I===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const R=1/I;return e[0]=_*R,e[1]=(S*p*o-v*M*o-S*i*g+r*M*g+v*i*x-r*p*x)*R,e[2]=(a*M*o-S*l*o+S*i*c-r*M*c-a*i*x+r*l*x)*R,e[3]=(v*l*o-a*p*o-v*i*c+r*p*c+a*i*g-r*l*g)*R,e[4]=T*R,e[5]=(m*M*o-y*p*o+y*i*g-t*M*g-m*i*x+t*p*x)*R,e[6]=(y*l*o-s*M*o-y*i*c+t*M*c+s*i*x-t*l*x)*R,e[7]=(s*p*o-m*l*o+m*i*c-t*p*c-s*i*g+t*l*g)*R,e[8]=E*R,e[9]=(y*v*o-m*S*o-y*r*g+t*S*g+m*r*x-t*v*x)*R,e[10]=(s*S*o-y*a*o+y*r*c-t*S*c-s*r*x+t*a*x)*R,e[11]=(m*a*o-s*v*o-m*r*c+t*v*c+s*r*g-t*a*g)*R,e[12]=C*R,e[13]=(m*S*i-y*v*i+y*r*p-t*S*p-m*r*M+t*v*M)*R,e[14]=(y*a*i-s*S*i-y*r*l+t*S*l+s*r*M-t*a*M)*R,e[15]=(s*v*i-m*a*i+m*r*l-t*v*l-s*r*p+t*a*p)*R,this}scale(e){const t=this.elements,r=e.x,i=e.y,o=e.z;return t[0]*=r,t[4]*=i,t[8]*=o,t[1]*=r,t[5]*=i,t[9]*=o,t[2]*=r,t[6]*=i,t[10]*=o,t[3]*=r,t[7]*=i,t[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),o=1-r,s=e.x,a=e.y,l=e.z,c=o*s,m=o*a;return this.set(c*s+r,c*a-i*l,c*l+i*a,0,c*a+i*l,m*a+r,m*l-i*s,0,c*l-i*a,m*l+i*s,o*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,o,s){return this.set(1,r,o,0,e,1,s,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,o=t._x,s=t._y,a=t._z,l=t._w,c=o+o,m=s+s,v=a+a,p=o*c,g=o*m,y=o*v,S=s*m,M=s*v,x=a*v,_=l*c,T=l*m,E=l*v,C=r.x,I=r.y,R=r.z;return i[0]=(1-(S+x))*C,i[1]=(g+E)*C,i[2]=(y-T)*C,i[3]=0,i[4]=(g-E)*I,i[5]=(1-(p+x))*I,i[6]=(M+_)*I,i[7]=0,i[8]=(y+T)*R,i[9]=(M-_)*R,i[10]=(1-(p+S))*R,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let o=Gh.set(i[0],i[1],i[2]).length();const s=Gh.set(i[4],i[5],i[6]).length(),a=Gh.set(i[8],i[9],i[10]).length();this.determinant()<0&&(o=-o),e.x=i[12],e.y=i[13],e.z=i[14],us.copy(this);const c=1/o,m=1/s,v=1/a;return us.elements[0]*=c,us.elements[1]*=c,us.elements[2]*=c,us.elements[4]*=m,us.elements[5]*=m,us.elements[6]*=m,us.elements[8]*=v,us.elements[9]*=v,us.elements[10]*=v,t.setFromRotationMatrix(us),r.x=o,r.y=s,r.z=a,this}makePerspective(e,t,r,i,o,s){s===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const a=this.elements,l=2*o/(t-e),c=2*o/(r-i),m=(t+e)/(t-e),v=(r+i)/(r-i),p=-(s+o)/(s-o),g=-2*s*o/(s-o);return a[0]=l,a[4]=0,a[8]=m,a[12]=0,a[1]=0,a[5]=c,a[9]=v,a[13]=0,a[2]=0,a[6]=0,a[10]=p,a[14]=g,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,r,i,o,s){const a=this.elements,l=1/(t-e),c=1/(r-i),m=1/(s-o),v=(t+e)*l,p=(r+i)*c,g=(s+o)*m;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-v,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-p,a[2]=0,a[6]=0,a[10]=-2*m,a[14]=-g,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}ht.prototype.isMatrix4=!0;const Gh=new H,us=new ht,wY=new H(0,0,0),SY=new H(1,1,1),du=new H,W_=new H,po=new H,Dk=new ht,Ok=new Lr;class hu{constructor(e=0,t=0,r=0,i=hu.DefaultOrder){this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,o=i[0],s=i[4],a=i[8],l=i[1],c=i[5],m=i[9],v=i[2],p=i[6],g=i[10];switch(t){case"XYZ":this._y=Math.asin(si(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-m,g),this._z=Math.atan2(-s,o)):(this._x=Math.atan2(p,c),this._z=0);break;case"YXZ":this._x=Math.asin(-si(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(a,g),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-v,o),this._z=0);break;case"ZXY":this._x=Math.asin(si(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-v,g),this._z=Math.atan2(-s,c)):(this._y=0,this._z=Math.atan2(l,o));break;case"ZYX":this._y=Math.asin(-si(v,-1,1)),Math.abs(v)<.9999999?(this._x=Math.atan2(p,g),this._z=Math.atan2(l,o)):(this._x=0,this._z=Math.atan2(-s,c));break;case"YZX":this._z=Math.asin(si(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-m,c),this._y=Math.atan2(-v,o)):(this._x=0,this._y=Math.atan2(a,g));break;case"XZY":this._z=Math.asin(-si(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(p,c),this._y=Math.atan2(a,o)):(this._x=Math.atan2(-m,g),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return Dk.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Dk,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return Ok.setFromEuler(this),this.setFromQuaternion(Ok,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}toVector3(e){return e?e.set(this._x,this._y,this._z):new H(this._x,this._y,this._z)}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}hu.prototype.isEuler=!0;hu.DefaultOrder="XYZ";hu.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class Wh{constructor(){this.mask=1|0}set(e){this.mask=1<<e|0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=4294967295|0}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!=0}}let bY=0;const Fk=new H,jh=new Lr,$a=new ht,j_=new H,Av=new H,MY=new H,EY=new Lr,kk=new H(1,0,0),Nk=new H(0,1,0),Bk=new H(0,0,1),TY={type:"added"},zk={type:"removed"};class Jt extends qa{constructor(){super();Object.defineProperty(this,"id",{value:bY++}),this.uuid=ho(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Jt.DefaultUp.clone();const e=new H,t=new hu,r=new Lr,i=new H(1,1,1);function o(){r.setFromEuler(t,!1)}function s(){t.setFromQuaternion(r,void 0,!1)}t._onChange(o),r._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new ht},normalMatrix:{value:new Rr}}),this.matrix=new ht,this.matrixWorld=new ht,this.matrixAutoUpdate=Jt.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Wh,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return jh.setFromAxisAngle(e,t),this.quaternion.multiply(jh),this}rotateOnWorldAxis(e,t){return jh.setFromAxisAngle(e,t),this.quaternion.premultiply(jh),this}rotateX(e){return this.rotateOnAxis(kk,e)}rotateY(e){return this.rotateOnAxis(Nk,e)}rotateZ(e){return this.rotateOnAxis(Bk,e)}translateOnAxis(e,t){return Fk.copy(e).applyQuaternion(this.quaternion),this.position.add(Fk.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(kk,e)}translateY(e){return this.translateOnAxis(Nk,e)}translateZ(e){return this.translateOnAxis(Bk,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4($a.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?j_.copy(e):j_.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),Av.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?$a.lookAt(Av,j_,this.up):$a.lookAt(j_,Av,this.up),this.quaternion.setFromRotationMatrix($a),i&&($a.extractRotation(i.matrixWorld),jh.setFromRotationMatrix($a),this.quaternion.premultiply(jh.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(TY)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(zk)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(zk)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),$a.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),$a.multiply(e.parent.matrixWorld)),e.applyMatrix4($a),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const s=this.children[r].getObjectByProperty(e,t);if(s!==void 0)return s}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Av,e,MY),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Av,EY,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].updateMatrixWorld(e)}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const i=this.children;for(let o=0,s=i.length;o<s;o++)i[o].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function o(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=o(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,m=l.length;c<m;c++){const v=l[c];o(e.shapes,v)}else o(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(o(e.materials,this.material[l]));i.material=a}else i.material=o(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(o(e.animations,l))}}if(t){const a=s(e.geometries),l=s(e.materials),c=s(e.textures),m=s(e.images),v=s(e.shapes),p=s(e.skeletons),g=s(e.animations);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),m.length>0&&(r.images=m),v.length>0&&(r.shapes=v),p.length>0&&(r.skeletons=p),g.length>0&&(r.animations=g)}return r.object=i,r;function s(a){const l=[];for(const c in a){const m=a[c];delete m.metadata,l.push(m)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Jt.DefaultUp=new H(0,1,0);Jt.DefaultMatrixAutoUpdate=!0;Jt.prototype.isObject3D=!0;const cs=new H,Za=new H,WT=new H,Ja=new H,qh=new H,Xh=new H,Uk=new H,jT=new H,qT=new H,XT=new H;class pr{constructor(e=new H,t=new H,r=new H){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),cs.subVectors(e,t),i.cross(cs);const o=i.lengthSq();return o>0?i.multiplyScalar(1/Math.sqrt(o)):i.set(0,0,0)}static getBarycoord(e,t,r,i,o){cs.subVectors(i,t),Za.subVectors(r,t),WT.subVectors(e,t);const s=cs.dot(cs),a=cs.dot(Za),l=cs.dot(WT),c=Za.dot(Za),m=Za.dot(WT),v=s*c-a*a;if(v===0)return o.set(-2,-1,-1);const p=1/v,g=(c*l-a*m)*p,y=(s*m-a*l)*p;return o.set(1-g-y,y,g)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,Ja),Ja.x>=0&&Ja.y>=0&&Ja.x+Ja.y<=1}static getUV(e,t,r,i,o,s,a,l){return this.getBarycoord(e,t,r,i,Ja),l.set(0,0),l.addScaledVector(o,Ja.x),l.addScaledVector(s,Ja.y),l.addScaledVector(a,Ja.z),l}static isFrontFacing(e,t,r,i){return cs.subVectors(r,t),Za.subVectors(e,t),cs.cross(Za).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return cs.subVectors(this.c,this.b),Za.subVectors(this.a,this.b),cs.cross(Za).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return pr.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return pr.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,r,i,o){return pr.getUV(e,this.a,this.b,this.c,t,r,i,o)}containsPoint(e){return pr.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return pr.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,o=this.c;let s,a;qh.subVectors(i,r),Xh.subVectors(o,r),jT.subVectors(e,r);const l=qh.dot(jT),c=Xh.dot(jT);if(l<=0&&c<=0)return t.copy(r);qT.subVectors(e,i);const m=qh.dot(qT),v=Xh.dot(qT);if(m>=0&&v<=m)return t.copy(i);const p=l*v-m*c;if(p<=0&&l>=0&&m<=0)return s=l/(l-m),t.copy(r).addScaledVector(qh,s);XT.subVectors(e,o);const g=qh.dot(XT),y=Xh.dot(XT);if(y>=0&&g<=y)return t.copy(o);const S=g*c-l*y;if(S<=0&&c>=0&&y<=0)return a=c/(c-y),t.copy(r).addScaledVector(Xh,a);const M=m*y-g*v;if(M<=0&&v-m>=0&&g-y>=0)return Uk.subVectors(o,i),a=(v-m)/(v-m+(g-y)),t.copy(i).addScaledVector(Uk,a);const x=1/(M+S+p);return s=S*x,a=p*x,t.copy(r).addScaledVector(qh,s).addScaledVector(Xh,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let AY=0;class Gr extends qa{constructor(){super();Object.defineProperty(this,"id",{value:AY++}),this.uuid=ho(),this.name="",this.type="Material",this.fog=!0,this.blending=Ih,this.side=Yc,this.vertexColors=!1,this.opacity=1,this.format=ii,this.transparent=!1,this.blendSrc=hT,this.blendDst=pT,this.blendEquation=Zc,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=P_,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Mk,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=N_,this.stencilZFail=N_,this.stencilZPass=N_,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}if(t==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=r===aT;continue}const i=this[t];if(i===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Ih&&(r.blending=this.blending),this.side!==Yc&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.format!==ii&&(r.format=this.format),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData);function i(o){const s=[];for(const a in o){const l=o[a];delete l.metadata,s.push(l)}return s}if(t){const o=i(e.textures),s=i(e.images);o.length>0&&(r.textures=o),s.length>0&&(r.images=s)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.format=e.format,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let o=0;o!==i;++o)r[o]=t[o].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}Gr.prototype.isMaterial=!0;const Vk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},fs={h:0,s:0,l:0},q_={h:0,s:0,l:0};function KT(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}function YT(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function $T(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}class Je{constructor(e,t,r){return t===void 0&&r===void 0?this.set(e):this.setRGB(e,t,r)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,this}setRGB(e,t,r){return this.r=e,this.g=t,this.b=r,this}setHSL(e,t,r){if(e=IT(e,1),t=si(t,0,1),r=si(r,0,1),t===0)this.r=this.g=this.b=r;else{const i=r<=.5?r*(1+t):r+t-r*t,o=2*r-i;this.r=KT(o,i,e+1/3),this.g=KT(o,i,e),this.b=KT(o,i,e-1/3)}return this}setStyle(e){function t(i){i!==void 0&&parseFloat(i)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let i;const o=r[1],s=r[2];switch(o){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return this.r=Math.min(255,parseInt(i[1],10))/255,this.g=Math.min(255,parseInt(i[2],10))/255,this.b=Math.min(255,parseInt(i[3],10))/255,t(i[4]),this;if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return this.r=Math.min(100,parseInt(i[1],10))/100,this.g=Math.min(100,parseInt(i[2],10))/100,this.b=Math.min(100,parseInt(i[3],10))/100,t(i[4]),this;break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s)){const a=parseFloat(i[1])/360,l=parseInt(i[2],10)/100,c=parseInt(i[3],10)/100;return t(i[4]),this.setHSL(a,l,c)}break}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const i=r[1],o=i.length;if(o===3)return this.r=parseInt(i.charAt(0)+i.charAt(0),16)/255,this.g=parseInt(i.charAt(1)+i.charAt(1),16)/255,this.b=parseInt(i.charAt(2)+i.charAt(2),16)/255,this;if(o===6)return this.r=parseInt(i.charAt(0)+i.charAt(1),16)/255,this.g=parseInt(i.charAt(2)+i.charAt(3),16)/255,this.b=parseInt(i.charAt(4)+i.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this}setColorName(e){const t=Vk[e.toLowerCase()];return t!==void 0?this.setHex(t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copyGammaToLinear(e,t=2){return this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this}copyLinearToGamma(e,t=2){const r=t>0?1/t:1;return this.r=Math.pow(e.r,r),this.g=Math.pow(e.g,r),this.b=Math.pow(e.b,r),this}convertGammaToLinear(e){return this.copyGammaToLinear(this,e),this}convertLinearToGamma(e){return this.copyLinearToGamma(this,e),this}copySRGBToLinear(e){return this.r=YT(e.r),this.g=YT(e.g),this.b=YT(e.b),this}copyLinearToSRGB(e){return this.r=$T(e.r),this.g=$T(e.g),this.b=$T(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return this.r*255<<16^this.g*255<<8^this.b*255<<0}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(e){const t=this.r,r=this.g,i=this.b,o=Math.max(t,r,i),s=Math.min(t,r,i);let a,l;const c=(s+o)/2;if(s===o)a=0,l=0;else{const m=o-s;switch(l=c<=.5?m/(o+s):m/(2-o-s),o){case t:a=(r-i)/m+(r<i?6:0);break;case r:a=(i-t)/m+2;break;case i:a=(t-r)/m+4;break}a/=6}return e.h=a,e.s=l,e.l=c,e}getStyle(){return"rgb("+(this.r*255|0)+","+(this.g*255|0)+","+(this.b*255|0)+")"}offsetHSL(e,t,r){return this.getHSL(fs),fs.h+=e,fs.s+=t,fs.l+=r,this.setHSL(fs.h,fs.s,fs.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(fs),e.getHSL(q_);const r=Mv(fs.h,q_.h,t),i=Mv(fs.s,q_.s,t),o=Mv(fs.l,q_.l,t);return this.setHSL(r,i,o),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),e.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}Je.NAMES=Vk;Je.prototype.isColor=!0;Je.prototype.r=1;Je.prototype.g=1;Je.prototype.b=1;class Qa extends Gr{constructor(e){super();this.type="MeshBasicMaterial",this.color=new Je(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=pv,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}Qa.prototype.isMeshBasicMaterial=!0;const In=new H,X_=new Oe;class Wt{constructor(e,t,r){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r===!0,this.usage=kh,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,o=this.itemSize;i<o;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}copyColorsArray(e){const t=this.array;let r=0;for(let i=0,o=e.length;i<o;i++){let s=e[i];s===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),s=new Je),t[r++]=s.r,t[r++]=s.g,t[r++]=s.b}return this}copyVector2sArray(e){const t=this.array;let r=0;for(let i=0,o=e.length;i<o;i++){let s=e[i];s===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),s=new Oe),t[r++]=s.x,t[r++]=s.y}return this}copyVector3sArray(e){const t=this.array;let r=0;for(let i=0,o=e.length;i<o;i++){let s=e[i];s===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),s=new H),t[r++]=s.x,t[r++]=s.y,t[r++]=s.z}return this}copyVector4sArray(e){const t=this.array;let r=0;for(let i=0,o=e.length;i<o;i++){let s=e[i];s===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),s=new _n),t[r++]=s.x,t[r++]=s.y,t[r++]=s.z,t[r++]=s.w}return this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)X_.fromBufferAttribute(this,t),X_.applyMatrix3(e),this.setXY(t,X_.x,X_.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)In.fromBufferAttribute(this,t),In.applyMatrix3(e),this.setXYZ(t,In.x,In.y,In.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)In.x=this.getX(t),In.y=this.getY(t),In.z=this.getZ(t),In.applyMatrix4(e),this.setXYZ(t,In.x,In.y,In.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)In.x=this.getX(t),In.y=this.getY(t),In.z=this.getZ(t),In.applyNormalMatrix(e),this.setXYZ(t,In.x,In.y,In.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)In.x=this.getX(t),In.y=this.getY(t),In.z=this.getZ(t),In.transformDirection(e),this.setXYZ(t,In.x,In.y,In.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){return this.array[e*this.itemSize]}setX(e,t){return this.array[e*this.itemSize]=t,this}getY(e){return this.array[e*this.itemSize+1]}setY(e,t){return this.array[e*this.itemSize+1]=t,this}getZ(e){return this.array[e*this.itemSize+2]}setZ(e,t){return this.array[e*this.itemSize+2]=t,this}getW(e){return this.array[e*this.itemSize+3]}setW(e,t){return this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,o){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==kh&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}Wt.prototype.isBufferAttribute=!0;class Hk extends Wt{constructor(e,t,r){super(new Int8Array(e),t,r)}}class Gk extends Wt{constructor(e,t,r){super(new Uint8Array(e),t,r)}}class Wk extends Wt{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}}class jk extends Wt{constructor(e,t,r){super(new Int16Array(e),t,r)}}class K_ extends Wt{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class qk extends Wt{constructor(e,t,r){super(new Int32Array(e),t,r)}}class Y_ extends Wt{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class Xk extends Wt{constructor(e,t,r){super(new Uint16Array(e),t,r)}}Xk.prototype.isFloat16BufferAttribute=!0;class rt extends Wt{constructor(e,t,r){super(new Float32Array(e),t,r)}}class Kk extends Wt{constructor(e,t,r){super(new Float64Array(e),t,r)}}let CY=0;const No=new ht,ZT=new Jt,Kh=new H,mo=new to,Cv=new to,Wr=new H;class gt extends qa{constructor(){super();Object.defineProperty(this,"id",{value:CY++}),this.uuid=ho(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Ck(e)>65535?Y_:K_)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const o=new Rr().getNormalMatrix(e);r.applyNormalMatrix(o),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return No.makeRotationFromQuaternion(e),this.applyMatrix4(No),this}rotateX(e){return No.makeRotationX(e),this.applyMatrix4(No),this}rotateY(e){return No.makeRotationY(e),this.applyMatrix4(No),this}rotateZ(e){return No.makeRotationZ(e),this.applyMatrix4(No),this}translate(e,t,r){return No.makeTranslation(e,t,r),this.applyMatrix4(No),this}scale(e,t,r){return No.makeScale(e,t,r),this.applyMatrix4(No),this}lookAt(e){return ZT.lookAt(e),ZT.updateMatrix(),this.applyMatrix4(ZT.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Kh).negate(),this.translate(Kh.x,Kh.y,Kh.z),this}setFromPoints(e){const t=[];for(let r=0,i=e.length;r<i;r++){const o=e[r];t.push(o.x,o.y,o.z||0)}return this.setAttribute("position",new rt(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new to);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new H(-1/0,-1/0,-1/0),new H(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const o=t[r];mo.setFromBufferAttribute(o),this.morphTargetsRelative?(Wr.addVectors(this.boundingBox.min,mo.min),this.boundingBox.expandByPoint(Wr),Wr.addVectors(this.boundingBox.max,mo.max),this.boundingBox.expandByPoint(Wr)):(this.boundingBox.expandByPoint(mo.min),this.boundingBox.expandByPoint(mo.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ka);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new H,1/0);return}if(e){const r=this.boundingSphere.center;if(mo.setFromBufferAttribute(e),t)for(let o=0,s=t.length;o<s;o++){const a=t[o];Cv.setFromBufferAttribute(a),this.morphTargetsRelative?(Wr.addVectors(mo.min,Cv.min),mo.expandByPoint(Wr),Wr.addVectors(mo.max,Cv.max),mo.expandByPoint(Wr)):(mo.expandByPoint(Cv.min),mo.expandByPoint(Cv.max))}mo.getCenter(r);let i=0;for(let o=0,s=e.count;o<s;o++)Wr.fromBufferAttribute(e,o),i=Math.max(i,r.distanceToSquared(Wr));if(t)for(let o=0,s=t.length;o<s;o++){const a=t[o],l=this.morphTargetsRelative;for(let c=0,m=a.count;c<m;c++)Wr.fromBufferAttribute(a,c),l&&(Kh.fromBufferAttribute(e,c),Wr.add(Kh)),i=Math.max(i,r.distanceToSquared(Wr))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=t.position.array,o=t.normal.array,s=t.uv.array,a=i.length/3;t.tangent===void 0&&this.setAttribute("tangent",new Wt(new Float32Array(4*a),4));const l=t.tangent.array,c=[],m=[];for(let U=0;U<a;U++)c[U]=new H,m[U]=new H;const v=new H,p=new H,g=new H,y=new Oe,S=new Oe,M=new Oe,x=new H,_=new H;function T(U,B,$){v.fromArray(i,U*3),p.fromArray(i,B*3),g.fromArray(i,$*3),y.fromArray(s,U*2),S.fromArray(s,B*2),M.fromArray(s,$*2),p.sub(v),g.sub(v),S.sub(y),M.sub(y);const K=1/(S.x*M.y-M.x*S.y);!isFinite(K)||(x.copy(p).multiplyScalar(M.y).addScaledVector(g,-S.y).multiplyScalar(K),_.copy(g).multiplyScalar(S.x).addScaledVector(p,-M.x).multiplyScalar(K),c[U].add(x),c[B].add(x),c[$].add(x),m[U].add(_),m[B].add(_),m[$].add(_))}let E=this.groups;E.length===0&&(E=[{start:0,count:r.length}]);for(let U=0,B=E.length;U<B;++U){const $=E[U],K=$.start,ie=$.count;for(let Q=K,re=K+ie;Q<re;Q+=3)T(r[Q+0],r[Q+1],r[Q+2])}const C=new H,I=new H,R=new H,D=new H;function k(U){R.fromArray(o,U*3),D.copy(R);const B=c[U];C.copy(B),C.sub(R.multiplyScalar(R.dot(B))).normalize(),I.crossVectors(D,B);const K=I.dot(m[U])<0?-1:1;l[U*4]=C.x,l[U*4+1]=C.y,l[U*4+2]=C.z,l[U*4+3]=K}for(let U=0,B=E.length;U<B;++U){const $=E[U],K=$.start,ie=$.count;for(let Q=K,re=K+ie;Q<re;Q+=3)k(r[Q+0]),k(r[Q+1]),k(r[Q+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Wt(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let p=0,g=r.count;p<g;p++)r.setXYZ(p,0,0,0);const i=new H,o=new H,s=new H,a=new H,l=new H,c=new H,m=new H,v=new H;if(e)for(let p=0,g=e.count;p<g;p+=3){const y=e.getX(p+0),S=e.getX(p+1),M=e.getX(p+2);i.fromBufferAttribute(t,y),o.fromBufferAttribute(t,S),s.fromBufferAttribute(t,M),m.subVectors(s,o),v.subVectors(i,o),m.cross(v),a.fromBufferAttribute(r,y),l.fromBufferAttribute(r,S),c.fromBufferAttribute(r,M),a.add(m),l.add(m),c.add(m),r.setXYZ(y,a.x,a.y,a.z),r.setXYZ(S,l.x,l.y,l.z),r.setXYZ(M,c.x,c.y,c.z)}else for(let p=0,g=t.count;p<g;p+=3)i.fromBufferAttribute(t,p+0),o.fromBufferAttribute(t,p+1),s.fromBufferAttribute(t,p+2),m.subVectors(s,o),v.subVectors(i,o),m.cross(v),r.setXYZ(p+0,m.x,m.y,m.z),r.setXYZ(p+1,m.x,m.y,m.z),r.setXYZ(p+2,m.x,m.y,m.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(e,t){if(!(e&&e.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);return}t===void 0&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const r=this.attributes;for(const i in r){if(e.attributes[i]===void 0)continue;const s=r[i].array,a=e.attributes[i],l=a.array,c=a.itemSize*t,m=Math.min(l.length,s.length-c);for(let v=0,p=c;v<m;v++,p++)s[p]=l[v]}return this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)Wr.fromBufferAttribute(e,t),Wr.normalize(),e.setXYZ(t,Wr.x,Wr.y,Wr.z)}toNonIndexed(){function e(a,l){const c=a.array,m=a.itemSize,v=a.normalized,p=new c.constructor(l.length*m);let g=0,y=0;for(let S=0,M=l.length;S<M;S++){a.isInterleavedBufferAttribute?g=l[S]*a.data.stride+a.offset:g=l[S]*m;for(let x=0;x<m;x++)p[y++]=c[g++]}return new Wt(p,m,v)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new gt,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],c=e(l,r);t.setAttribute(a,c)}const o=this.morphAttributes;for(const a in o){const l=[],c=o[a];for(let m=0,v=c.length;m<v;m++){const p=c[m],g=e(p,r);l.push(g)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let a=0,l=s.length;a<l;a++){const c=s[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let o=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],m=[];for(let v=0,p=c.length;v<p;v++){const g=c[v];m.push(g.toJSON(e.data))}m.length>0&&(i[l]=m,o=!0)}o&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(t));const i=e.attributes;for(const c in i){const m=i[c];this.setAttribute(c,m.clone(t))}const o=e.morphAttributes;for(const c in o){const m=[],v=o[c];for(let p=0,g=v.length;p<g;p++)m.push(v[p].clone(t));this.morphAttributes[c]=m}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let c=0,m=s.length;c<m;c++){const v=s[c];this.addGroup(v.start,v.count,v.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}gt.prototype.isBufferGeometry=!0;const Yk=new ht,Yh=new fu,JT=new Ka,pu=new H,mu=new H,gu=new H,QT=new H,eA=new H,tA=new H,$_=new H,Z_=new H,J_=new H,Q_=new Oe,ew=new Oe,tw=new Oe,nA=new H,nw=new H;class Hn extends Jt{constructor(e=new gt,t=new Qa){super();this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=i.length;o<s;o++){const a=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}raycast(e,t){const r=this.geometry,i=this.material,o=this.matrixWorld;if(i===void 0||(r.boundingSphere===null&&r.computeBoundingSphere(),JT.copy(r.boundingSphere),JT.applyMatrix4(o),e.ray.intersectsSphere(JT)===!1)||(Yk.copy(o).invert(),Yh.copy(e.ray).applyMatrix4(Yk),r.boundingBox!==null&&Yh.intersectsBox(r.boundingBox)===!1))return;let s;if(r.isBufferGeometry){const a=r.index,l=r.attributes.position,c=r.morphAttributes.position,m=r.morphTargetsRelative,v=r.attributes.uv,p=r.attributes.uv2,g=r.groups,y=r.drawRange;if(a!==null)if(Array.isArray(i))for(let S=0,M=g.length;S<M;S++){const x=g[S],_=i[x.materialIndex],T=Math.max(x.start,y.start),E=Math.min(a.count,Math.min(x.start+x.count,y.start+y.count));for(let C=T,I=E;C<I;C+=3){const R=a.getX(C),D=a.getX(C+1),k=a.getX(C+2);s=rw(this,_,e,Yh,l,c,m,v,p,R,D,k),s&&(s.faceIndex=Math.floor(C/3),s.face.materialIndex=x.materialIndex,t.push(s))}}else{const S=Math.max(0,y.start),M=Math.min(a.count,y.start+y.count);for(let x=S,_=M;x<_;x+=3){const T=a.getX(x),E=a.getX(x+1),C=a.getX(x+2);s=rw(this,i,e,Yh,l,c,m,v,p,T,E,C),s&&(s.faceIndex=Math.floor(x/3),t.push(s))}}else if(l!==void 0)if(Array.isArray(i))for(let S=0,M=g.length;S<M;S++){const x=g[S],_=i[x.materialIndex],T=Math.max(x.start,y.start),E=Math.min(l.count,Math.min(x.start+x.count,y.start+y.count));for(let C=T,I=E;C<I;C+=3){const R=C,D=C+1,k=C+2;s=rw(this,_,e,Yh,l,c,m,v,p,R,D,k),s&&(s.faceIndex=Math.floor(C/3),s.face.materialIndex=x.materialIndex,t.push(s))}}else{const S=Math.max(0,y.start),M=Math.min(l.count,y.start+y.count);for(let x=S,_=M;x<_;x+=3){const T=x,E=x+1,C=x+2;s=rw(this,i,e,Yh,l,c,m,v,p,T,E,C),s&&(s.faceIndex=Math.floor(x/3),t.push(s))}}}else r.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}Hn.prototype.isMesh=!0;function PY(n,e,t,r,i,o,s,a){let l;if(e.side===hr?l=r.intersectTriangle(s,o,i,!0,a):l=r.intersectTriangle(i,o,s,e.side!==$c,a),l===null)return null;nw.copy(a),nw.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(nw);return c<t.near||c>t.far?null:{distance:c,point:nw.clone(),object:n}}function rw(n,e,t,r,i,o,s,a,l,c,m,v){pu.fromBufferAttribute(i,c),mu.fromBufferAttribute(i,m),gu.fromBufferAttribute(i,v);const p=n.morphTargetInfluences;if(o&&p){$_.set(0,0,0),Z_.set(0,0,0),J_.set(0,0,0);for(let y=0,S=o.length;y<S;y++){const M=p[y],x=o[y];M!==0&&(QT.fromBufferAttribute(x,c),eA.fromBufferAttribute(x,m),tA.fromBufferAttribute(x,v),s?($_.addScaledVector(QT,M),Z_.addScaledVector(eA,M),J_.addScaledVector(tA,M)):($_.addScaledVector(QT.sub(pu),M),Z_.addScaledVector(eA.sub(mu),M),J_.addScaledVector(tA.sub(gu),M)))}pu.add($_),mu.add(Z_),gu.add(J_)}n.isSkinnedMesh&&(n.boneTransform(c,pu),n.boneTransform(m,mu),n.boneTransform(v,gu));const g=PY(n,e,t,r,pu,mu,gu,nA);if(g){a&&(Q_.fromBufferAttribute(a,c),ew.fromBufferAttribute(a,m),tw.fromBufferAttribute(a,v),g.uv=pr.getUV(nA,pu,mu,gu,Q_,ew,tw,new Oe)),l&&(Q_.fromBufferAttribute(l,c),ew.fromBufferAttribute(l,m),tw.fromBufferAttribute(l,v),g.uv2=pr.getUV(nA,pu,mu,gu,Q_,ew,tw,new Oe));const y={a:c,b:m,c:v,normal:new H,materialIndex:0};pr.getNormal(pu,mu,gu,y.normal),g.face=y}return g}class el extends gt{constructor(e=1,t=1,r=1,i=1,o=1,s=1){super();this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:o,depthSegments:s};const a=this;i=Math.floor(i),o=Math.floor(o),s=Math.floor(s);const l=[],c=[],m=[],v=[];let p=0,g=0;y("z","y","x",-1,-1,r,t,e,s,o,0),y("z","y","x",1,-1,r,t,-e,s,o,1),y("x","z","y",1,1,e,r,t,i,s,2),y("x","z","y",1,-1,e,r,-t,i,s,3),y("x","y","z",1,-1,e,t,r,i,o,4),y("x","y","z",-1,-1,e,t,-r,i,o,5),this.setIndex(l),this.setAttribute("position",new rt(c,3)),this.setAttribute("normal",new rt(m,3)),this.setAttribute("uv",new rt(v,2));function y(S,M,x,_,T,E,C,I,R,D,k){const U=E/R,B=C/D,$=E/2,K=C/2,ie=I/2,Q=R+1,re=D+1;let ue=0,Pe=0;const Ue=new H;for(let Ve=0;Ve<re;Ve++){const te=Ve*B-K;for(let me=0;me<Q;me++){const J=me*U-$;Ue[S]=J*_,Ue[M]=te*T,Ue[x]=ie,c.push(Ue.x,Ue.y,Ue.z),Ue[S]=0,Ue[M]=0,Ue[x]=I>0?1:-1,m.push(Ue.x,Ue.y,Ue.z),v.push(me/R),v.push(1-Ve/D),ue+=1}}for(let Ve=0;Ve<D;Ve++)for(let te=0;te<R;te++){const me=p+te+Q*Ve,J=p+te+Q*(Ve+1),V=p+(te+1)+Q*(Ve+1),j=p+(te+1)+Q*Ve;l.push(me,J,j),l.push(J,V,j),Pe+=6}a.addGroup(g,Pe,k),g+=Pe,p+=ue}}static fromJSON(e){return new el(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function $h(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function wi(n){const e={};for(let t=0;t<n.length;t++){const r=$h(n[t]);for(const i in r)e[i]=r[i]}return e}const $k={clone:$h,merge:wi};var RY=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,LY=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class tl extends Gr{constructor(e){super();this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=RY,this.fragmentShader=LY,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&(e.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=$h(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const s=this.uniforms[i].value;s&&s.isTexture?t.uniforms[i]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?t.uniforms[i]={type:"c",value:s.getHex()}:s&&s.isVector2?t.uniforms[i]={type:"v2",value:s.toArray()}:s&&s.isVector3?t.uniforms[i]={type:"v3",value:s.toArray()}:s&&s.isVector4?t.uniforms[i]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?t.uniforms[i]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?t.uniforms[i]={type:"m4",value:s.toArray()}:t.uniforms[i]={value:s}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}tl.prototype.isShaderMaterial=!0;class df extends Jt{constructor(){super();this.type="Camera",this.matrixWorldInverse=new ht,this.projectionMatrix=new ht,this.projectionMatrixInverse=new ht}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}df.prototype.isCamera=!0;class Tn extends df{constructor(e=50,t=1,r=.1,i=2e3){super();this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=bv*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(lf*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return bv*2*Math.atan(Math.tan(lf*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,r,i,o,s){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(lf*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,o=-.5*i;const s=this.view;if(this.view!==null&&this.view.enabled){const l=s.fullWidth,c=s.fullHeight;o+=s.offsetX*i/l,t-=s.offsetY*r/c,i*=s.width/l,r*=s.height/c}const a=this.filmOffset;a!==0&&(o+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+i,t,t-r,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}Tn.prototype.isPerspectiveCamera=!0;const Zh=90,Jh=1;class iw extends Jt{constructor(e,t,r){super();if(this.type="CubeCamera",r.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=r;const i=new Tn(Zh,Jh,e,t);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new H(1,0,0)),this.add(i);const o=new Tn(Zh,Jh,e,t);o.layers=this.layers,o.up.set(0,-1,0),o.lookAt(new H(-1,0,0)),this.add(o);const s=new Tn(Zh,Jh,e,t);s.layers=this.layers,s.up.set(0,0,1),s.lookAt(new H(0,1,0)),this.add(s);const a=new Tn(Zh,Jh,e,t);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new H(0,-1,0)),this.add(a);const l=new Tn(Zh,Jh,e,t);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new H(0,0,1)),this.add(l);const c=new Tn(Zh,Jh,e,t);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new H(0,0,-1)),this.add(c)}update(e,t){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget,[i,o,s,a,l,c]=this.children,m=e.xr.enabled,v=e.getRenderTarget();e.xr.enabled=!1;const p=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,i),e.setRenderTarget(r,1),e.render(t,o),e.setRenderTarget(r,2),e.render(t,s),e.setRenderTarget(r,3),e.render(t,a),e.setRenderTarget(r,4),e.render(t,l),r.texture.generateMipmaps=p,e.setRenderTarget(r,5),e.render(t,c),e.setRenderTarget(v),e.xr.enabled=m}}class Qh extends _r{constructor(e,t,r,i,o,s,a,l,c,m){e=e!==void 0?e:[],t=t!==void 0?t:Jc;super(e,t,r,i,o,s,a,l,c,m);this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}Qh.prototype.isCubeTexture=!0;class ow extends ls{constructor(e,t,r){Number.isInteger(t)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),t=r);super(e,e,t);t=t||{},this.texture=new Qh(void 0,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Yn,this.texture._needsFlipEnvMap=!1}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.format=ii,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new el(5,5,5),o=new tl({name:"CubemapFromEquirect",uniforms:$h(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:hr,blending:Va});o.uniforms.tEquirect.value=t;const s=new Hn(i,o),a=t.minFilter;return t.minFilter===Wa&&(t.minFilter=Yn),new iw(1,10,this).update(e,s),t.minFilter=a,s.geometry.dispose(),s.material.dispose(),this}clear(e,t,r,i){const o=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(t,r,i);e.setRenderTarget(o)}}ow.prototype.isWebGLCubeRenderTarget=!0;const rA=new H,IY=new H,DY=new Rr;class Us{constructor(e=new H(1,0,0),t=0){this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=rA.subVectors(r,t).cross(IY.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const r=e.delta(rA),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/i;return o<0||o>1?null:t.copy(r).multiplyScalar(o).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||DY.getNormalMatrix(e),i=this.coplanarPoint(rA).applyMatrix4(e),o=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}Us.prototype.isPlane=!0;const ep=new Ka,sw=new H;class Pv{constructor(e=new Us,t=new Us,r=new Us,i=new Us,o=new Us,s=new Us){this.planes=[e,t,r,i,o,s]}set(e,t,r,i,o,s){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(i),a[4].copy(o),a[5].copy(s),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e){const t=this.planes,r=e.elements,i=r[0],o=r[1],s=r[2],a=r[3],l=r[4],c=r[5],m=r[6],v=r[7],p=r[8],g=r[9],y=r[10],S=r[11],M=r[12],x=r[13],_=r[14],T=r[15];return t[0].setComponents(a-i,v-l,S-p,T-M).normalize(),t[1].setComponents(a+i,v+l,S+p,T+M).normalize(),t[2].setComponents(a+o,v+c,S+g,T+x).normalize(),t[3].setComponents(a-o,v-c,S-g,T-x).normalize(),t[4].setComponents(a-s,v-m,S-y,T-_).normalize(),t[5].setComponents(a+s,v+m,S+y,T+_).normalize(),this}intersectsObject(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),ep.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(ep)}intersectsSprite(e){return ep.center.set(0,0,0),ep.radius=.7071067811865476,ep.applyMatrix4(e.matrixWorld),this.intersectsSphere(ep)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let o=0;o<6;o++)if(t[o].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(sw.x=i.normal.x>0?e.max.x:e.min.x,sw.y=i.normal.y>0?e.max.y:e.min.y,sw.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(sw)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function Zk(){let n=null,e=!1,t=null,r=null;function i(o,s){t(o,s),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(o){t=o},setContext:function(o){n=o}}}function OY(n,e){const t=e.isWebGL2,r=new WeakMap;function i(c,m){const v=c.array,p=c.usage,g=n.createBuffer();n.bindBuffer(m,g),n.bufferData(m,v,p),c.onUploadCallback();let y=5126;return v instanceof Float32Array?y=5126:v instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):v instanceof Uint16Array?c.isFloat16BufferAttribute?t?y=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):y=5123:v instanceof Int16Array?y=5122:v instanceof Uint32Array?y=5125:v instanceof Int32Array?y=5124:v instanceof Int8Array?y=5120:(v instanceof Uint8Array||v instanceof Uint8ClampedArray)&&(y=5121),{buffer:g,type:y,bytesPerElement:v.BYTES_PER_ELEMENT,version:c.version}}function o(c,m,v){const p=m.array,g=m.updateRange;n.bindBuffer(v,c),g.count===-1?n.bufferSubData(v,0,p):(t?n.bufferSubData(v,g.offset*p.BYTES_PER_ELEMENT,p,g.offset,g.count):n.bufferSubData(v,g.offset*p.BYTES_PER_ELEMENT,p.subarray(g.offset,g.offset+g.count)),g.count=-1)}function s(c){return c.isInterleavedBufferAttribute&&(c=c.data),r.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const m=r.get(c);m&&(n.deleteBuffer(m.buffer),r.delete(c))}function l(c,m){if(c.isGLBufferAttribute){const p=r.get(c);(!p||p.version<c.version)&&r.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const v=r.get(c);v===void 0?r.set(c,i(c,m)):v.version<c.version&&(o(v.buffer,c,m),v.version=c.version)}return{get:s,remove:a,update:l}}class hf extends gt{constructor(e=1,t=1,r=1,i=1){super();this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const o=e/2,s=t/2,a=Math.floor(r),l=Math.floor(i),c=a+1,m=l+1,v=e/a,p=t/l,g=[],y=[],S=[],M=[];for(let x=0;x<m;x++){const _=x*p-s;for(let T=0;T<c;T++){const E=T*v-o;y.push(E,-_,0),S.push(0,0,1),M.push(T/a),M.push(1-x/l)}}for(let x=0;x<l;x++)for(let _=0;_<a;_++){const T=_+c*x,E=_+c*(x+1),C=_+1+c*(x+1),I=_+1+c*x;g.push(T,E,I),g.push(E,C,I)}this.setIndex(g),this.setAttribute("position",new rt(y,3)),this.setAttribute("normal",new rt(S,3)),this.setAttribute("uv",new rt(M,2))}static fromJSON(e){return new hf(e.width,e.height,e.widthSegments,e.heightSegments)}}var FY=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,kY=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,NY=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,BY=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,zY=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,UY=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,VY="vec3 transformed = vec3( position );",HY=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,GY=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,WY=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,jY=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,qY=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,XY=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,KY=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,YY=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,$Y=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,ZY=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,JY=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,QY=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,e$=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_maxMipLevel 8.0
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_maxTileSize 256.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		float texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );
		vec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );
		vec2 f = fract( uv );
		uv += 0.5 - f;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		if ( mipInt < cubeUV_maxMipLevel ) {
			uv.y += 2.0 * cubeUV_maxTileSize;
		}
		uv.y += filterInt * 2.0 * cubeUV_minTileSize;
		uv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );
		uv *= texelSize;
		vec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.x += texelSize;
		vec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.y += texelSize;
		vec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		uv.x -= texelSize;
		vec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;
		vec3 tm = mix( tl, tr, f.x );
		vec3 bm = mix( bl, br, f.x );
		return mix( tm, bm, f.y );
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,t$=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,n$=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,r$=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,i$=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	emissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,o$=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,s$="gl_FragColor = linearToOutputTexel( gl_FragColor );",a$=`
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 GammaToLinear( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );
}
vec4 LinearToGamma( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );
}
vec4 sRGBToLinear( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 RGBEToLinear( in vec4 value ) {
	return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );
}
vec4 LinearToRGBE( in vec4 value ) {
	float maxComponent = max( max( value.r, value.g ), value.b );
	float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );
	return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );
}
vec4 RGBMToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * value.a * maxRange, 1.0 );
}
vec4 LinearToRGBM( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float M = clamp( maxRGB / maxRange, 0.0, 1.0 );
	M = ceil( M * 255.0 ) / 255.0;
	return vec4( value.rgb / ( M * maxRange ), M );
}
vec4 RGBDToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );
}
vec4 LinearToRGBD( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float D = max( maxRange / maxRGB, 1.0 );
	D = clamp( floor( D ) / 255.0, 0.0, 1.0 );
	return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );
}
const mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );
vec4 LinearToLogLuv( in vec4 value ) {
	vec3 Xp_Y_XYZp = cLogLuvM * value.rgb;
	Xp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );
	vec4 vResult;
	vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;
	float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;
	vResult.w = fract( Le );
	vResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;
	return vResult;
}
const mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );
vec4 LogLuvToLinear( in vec4 value ) {
	float Le = value.z * 255.0 + value.w;
	vec3 Xp_Y_XYZp;
	Xp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );
	Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;
	Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;
	vec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;
	return vec4( max( vRGB, 0.0 ), 1.0 );
}`,l$=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
		envColor = envMapTexelToLinear( envColor );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,u$=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform int maxMipLevel;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,c$=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,f$=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,d$=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,h$=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,p$=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,m$=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,g$=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,v$=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return texture2D( gradientMap, coord ).rgb;
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,y$=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		lightMapIrradiance *= PI;
	#endif
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,x$=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,_$=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointLightInfo( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotLightInfo( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalLightInfo( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );
		#endif
	}
	#pragma unroll_loop_end
#endif`,w$=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,S$=`#if defined( USE_ENVMAP )
	#ifdef ENVMAP_MODE_REFRACTION
		uniform float refractionRatio;
	#endif
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec;
			#ifdef ENVMAP_MODE_REFLECTION
				reflectVec = reflect( - viewDir, normal );
				reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			#else
				reflectVec = refract( - viewDir, normal, refractionRatio );
			#endif
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,b$=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,M$=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,E$=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,T$=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,A$=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= specularColorMapTexelToLinear( texture2D( specularColorMap, vUv ) ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= sheenColorMapTexelToLinear( texture2D( sheenColorMap, vUv ) ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,C$=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	vec3 FssEss = specularColor * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		reflectedLight.directSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,P$=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,R$=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			lightMapIrradiance *= PI;
		#endif
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,L$=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,I$=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,D$=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,O$=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,F$=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,k$=`#ifdef USE_MAP
	vec4 texelColor = texture2D( map, vUv );
	texelColor = mapTexelToLinear( texelColor );
	diffuseColor *= texelColor;
#endif`,N$=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,B$=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	vec4 mapTexel = texture2D( map, uv );
	diffuseColor *= mapTexelToLinear( mapTexel );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,z$=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,U$=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,V$=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,H$=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] > 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1, 2 ) * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,G$=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform vec2 morphTargetsTextureSize;
		vec3 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset, const in int stride ) {
			float texelIndex = float( vertexIndex * stride + offset );
			float y = floor( texelIndex / morphTargetsTextureSize.x );
			float x = texelIndex - y * morphTargetsTextureSize.x;
			vec3 morphUV = vec3( ( x + 0.5 ) / morphTargetsTextureSize.x, y / morphTargetsTextureSize.y, morphTargetIndex );
			return texture( morphTargetsTexture, morphUV ).xyz;
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,W$=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			#ifndef USE_MORPHNORMALS
				if ( morphTargetInfluences[ i ] > 0.0 ) transformed += getMorph( gl_VertexID, i, 0, 1 ) * morphTargetInfluences[ i ];
			#else
				if ( morphTargetInfluences[ i ] > 0.0 ) transformed += getMorph( gl_VertexID, i, 0, 2 ) * morphTargetInfluences[ i ];
			#endif
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,j$=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,q$=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,X$=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,K$=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Y$=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,$$=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,Z$=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,J$=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,Q$=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,eZ=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,tZ=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,nZ=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,rZ=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,iZ=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,oZ=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,sZ=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,aZ=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,lZ=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,uZ=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,cZ=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,fZ=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,dZ=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,hZ=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	#ifdef BONE_TEXTURE
		uniform highp sampler2D boneTexture;
		uniform int boneTextureSize;
		mat4 getBoneMatrix( const in float i ) {
			float j = i * 4.0;
			float x = mod( j, float( boneTextureSize ) );
			float y = floor( j / float( boneTextureSize ) );
			float dx = 1.0 / float( boneTextureSize );
			float dy = 1.0 / float( boneTextureSize );
			y = dy * ( y + 0.5 );
			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
			mat4 bone = mat4( v1, v2, v3, v4 );
			return bone;
		}
	#else
		uniform mat4 boneMatrices[ MAX_BONES ];
		mat4 getBoneMatrix( const in float i ) {
			mat4 bone = boneMatrices[ int(i) ];
			return bone;
		}
	#endif
#endif`,pZ=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,mZ=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,gZ=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,vZ=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,yZ=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,xZ=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,_Z=`#ifdef USE_TRANSMISSION
	float transmissionAlpha = 1.0;
	float transmissionFactor = transmission;
	float thicknessFactor = thickness;
	#ifdef USE_TRANSMISSIONMAP
		transmissionFactor *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		thicknessFactor *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,
		attenuationColor, attenuationDistance );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );
	transmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );
#endif`,wZ=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( vec3 n, vec3 v, float thickness, float ior, mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( float roughness, float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( vec2 fragCoord, float roughness, float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef TEXTURE_LOD_EXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( vec3 radiance, float transmissionDistance, vec3 attenuationColor, float attenuationDistance ) {
		if ( attenuationDistance == 0.0 ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( vec3 n, vec3 v, float roughness, vec3 diffuseColor, vec3 specularColor, float specularF90,
		vec3 position, mat4 modelMatrix, mat4 viewMatrix, mat4 projMatrix, float ior, float thickness,
		vec3 attenuationColor, float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,SZ=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,bZ=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,MZ=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,EZ=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,TZ=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,AZ=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,CZ=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const PZ=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,RZ=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,LZ=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,IZ=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,DZ=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,OZ=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,FZ=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,kZ=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,NZ=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,BZ=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	vec4 texColor = texture2D( tEquirect, sampleUV );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,zZ=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,UZ=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,VZ=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,HZ=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,GZ=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,WZ=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,jZ=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,qZ=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
		matcapColor = matcapTexelToLinear( matcapColor );
	#else
		vec4 matcapColor = vec4( 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,XZ=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,KZ=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
}`,YZ=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,$Z=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ZZ=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,JZ=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - clearcoat * Fcc ) + clearcoatSpecular * clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,QZ=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,eJ=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,tJ=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,nJ=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,rJ=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,iJ=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,oJ=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,sJ=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Kt={alphamap_fragment:FY,alphamap_pars_fragment:kY,alphatest_fragment:NY,alphatest_pars_fragment:BY,aomap_fragment:zY,aomap_pars_fragment:UY,begin_vertex:VY,beginnormal_vertex:HY,bsdfs:GY,bumpmap_pars_fragment:WY,clipping_planes_fragment:jY,clipping_planes_pars_fragment:qY,clipping_planes_pars_vertex:XY,clipping_planes_vertex:KY,color_fragment:YY,color_pars_fragment:$Y,color_pars_vertex:ZY,color_vertex:JY,common:QY,cube_uv_reflection_fragment:e$,defaultnormal_vertex:t$,displacementmap_pars_vertex:n$,displacementmap_vertex:r$,emissivemap_fragment:i$,emissivemap_pars_fragment:o$,encodings_fragment:s$,encodings_pars_fragment:a$,envmap_fragment:l$,envmap_common_pars_fragment:u$,envmap_pars_fragment:c$,envmap_pars_vertex:f$,envmap_physical_pars_fragment:S$,envmap_vertex:d$,fog_vertex:h$,fog_pars_vertex:p$,fog_fragment:m$,fog_pars_fragment:g$,gradientmap_pars_fragment:v$,lightmap_fragment:y$,lightmap_pars_fragment:x$,lights_lambert_vertex:_$,lights_pars_begin:w$,lights_toon_fragment:b$,lights_toon_pars_fragment:M$,lights_phong_fragment:E$,lights_phong_pars_fragment:T$,lights_physical_fragment:A$,lights_physical_pars_fragment:C$,lights_fragment_begin:P$,lights_fragment_maps:R$,lights_fragment_end:L$,logdepthbuf_fragment:I$,logdepthbuf_pars_fragment:D$,logdepthbuf_pars_vertex:O$,logdepthbuf_vertex:F$,map_fragment:k$,map_pars_fragment:N$,map_particle_fragment:B$,map_particle_pars_fragment:z$,metalnessmap_fragment:U$,metalnessmap_pars_fragment:V$,morphnormal_vertex:H$,morphtarget_pars_vertex:G$,morphtarget_vertex:W$,normal_fragment_begin:j$,normal_fragment_maps:q$,normal_pars_fragment:X$,normal_pars_vertex:K$,normal_vertex:Y$,normalmap_pars_fragment:$$,clearcoat_normal_fragment_begin:Z$,clearcoat_normal_fragment_maps:J$,clearcoat_pars_fragment:Q$,output_fragment:eZ,packing:tZ,premultiplied_alpha_fragment:nZ,project_vertex:rZ,dithering_fragment:iZ,dithering_pars_fragment:oZ,roughnessmap_fragment:sZ,roughnessmap_pars_fragment:aZ,shadowmap_pars_fragment:lZ,shadowmap_pars_vertex:uZ,shadowmap_vertex:cZ,shadowmask_pars_fragment:fZ,skinbase_vertex:dZ,skinning_pars_vertex:hZ,skinning_vertex:pZ,skinnormal_vertex:mZ,specularmap_fragment:gZ,specularmap_pars_fragment:vZ,tonemapping_fragment:yZ,tonemapping_pars_fragment:xZ,transmission_fragment:_Z,transmission_pars_fragment:wZ,uv_pars_fragment:SZ,uv_pars_vertex:bZ,uv_vertex:MZ,uv2_pars_fragment:EZ,uv2_pars_vertex:TZ,uv2_vertex:AZ,worldpos_vertex:CZ,background_vert:PZ,background_frag:RZ,cube_vert:LZ,cube_frag:IZ,depth_vert:DZ,depth_frag:OZ,distanceRGBA_vert:FZ,distanceRGBA_frag:kZ,equirect_vert:NZ,equirect_frag:BZ,linedashed_vert:zZ,linedashed_frag:UZ,meshbasic_vert:VZ,meshbasic_frag:HZ,meshlambert_vert:GZ,meshlambert_frag:WZ,meshmatcap_vert:jZ,meshmatcap_frag:qZ,meshnormal_vert:XZ,meshnormal_frag:KZ,meshphong_vert:YZ,meshphong_frag:$Z,meshphysical_vert:ZZ,meshphysical_frag:JZ,meshtoon_vert:QZ,meshtoon_frag:eJ,points_vert:tJ,points_frag:nJ,shadow_vert:rJ,shadow_frag:iJ,sprite_vert:oJ,sprite_frag:sJ},$e={common:{diffuse:{value:new Je(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Rr},uv2Transform:{value:new Rr},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Oe(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Je(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Je(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Rr}},sprite:{diffuse:{value:new Je(16777215)},opacity:{value:1},center:{value:new Oe(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Rr}}},ds={basic:{uniforms:wi([$e.common,$e.specularmap,$e.envmap,$e.aomap,$e.lightmap,$e.fog]),vertexShader:Kt.meshbasic_vert,fragmentShader:Kt.meshbasic_frag},lambert:{uniforms:wi([$e.common,$e.specularmap,$e.envmap,$e.aomap,$e.lightmap,$e.emissivemap,$e.fog,$e.lights,{emissive:{value:new Je(0)}}]),vertexShader:Kt.meshlambert_vert,fragmentShader:Kt.meshlambert_frag},phong:{uniforms:wi([$e.common,$e.specularmap,$e.envmap,$e.aomap,$e.lightmap,$e.emissivemap,$e.bumpmap,$e.normalmap,$e.displacementmap,$e.fog,$e.lights,{emissive:{value:new Je(0)},specular:{value:new Je(1118481)},shininess:{value:30}}]),vertexShader:Kt.meshphong_vert,fragmentShader:Kt.meshphong_frag},standard:{uniforms:wi([$e.common,$e.envmap,$e.aomap,$e.lightmap,$e.emissivemap,$e.bumpmap,$e.normalmap,$e.displacementmap,$e.roughnessmap,$e.metalnessmap,$e.fog,$e.lights,{emissive:{value:new Je(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Kt.meshphysical_vert,fragmentShader:Kt.meshphysical_frag},toon:{uniforms:wi([$e.common,$e.aomap,$e.lightmap,$e.emissivemap,$e.bumpmap,$e.normalmap,$e.displacementmap,$e.gradientmap,$e.fog,$e.lights,{emissive:{value:new Je(0)}}]),vertexShader:Kt.meshtoon_vert,fragmentShader:Kt.meshtoon_frag},matcap:{uniforms:wi([$e.common,$e.bumpmap,$e.normalmap,$e.displacementmap,$e.fog,{matcap:{value:null}}]),vertexShader:Kt.meshmatcap_vert,fragmentShader:Kt.meshmatcap_frag},points:{uniforms:wi([$e.points,$e.fog]),vertexShader:Kt.points_vert,fragmentShader:Kt.points_frag},dashed:{uniforms:wi([$e.common,$e.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Kt.linedashed_vert,fragmentShader:Kt.linedashed_frag},depth:{uniforms:wi([$e.common,$e.displacementmap]),vertexShader:Kt.depth_vert,fragmentShader:Kt.depth_frag},normal:{uniforms:wi([$e.common,$e.bumpmap,$e.normalmap,$e.displacementmap,{opacity:{value:1}}]),vertexShader:Kt.meshnormal_vert,fragmentShader:Kt.meshnormal_frag},sprite:{uniforms:wi([$e.sprite,$e.fog]),vertexShader:Kt.sprite_vert,fragmentShader:Kt.sprite_frag},background:{uniforms:{uvTransform:{value:new Rr},t2D:{value:null}},vertexShader:Kt.background_vert,fragmentShader:Kt.background_frag},cube:{uniforms:wi([$e.envmap,{opacity:{value:1}}]),vertexShader:Kt.cube_vert,fragmentShader:Kt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Kt.equirect_vert,fragmentShader:Kt.equirect_frag},distanceRGBA:{uniforms:wi([$e.common,$e.displacementmap,{referencePosition:{value:new H},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Kt.distanceRGBA_vert,fragmentShader:Kt.distanceRGBA_frag},shadow:{uniforms:wi([$e.lights,$e.fog,{color:{value:new Je(0)},opacity:{value:1}}]),vertexShader:Kt.shadow_vert,fragmentShader:Kt.shadow_frag}};ds.physical={uniforms:wi([ds.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Oe(1,1)},clearcoatNormalMap:{value:null},sheen:{value:0},sheenColor:{value:new Je(0)},sheenColorMap:{value:null},sheenRoughness:{value:0},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Oe},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Je(0)},specularIntensity:{value:0},specularIntensityMap:{value:null},specularColor:{value:new Je(1,1,1)},specularColorMap:{value:null}}]),vertexShader:Kt.meshphysical_vert,fragmentShader:Kt.meshphysical_frag};function aJ(n,e,t,r,i){const o=new Je(0);let s=0,a,l,c=null,m=0,v=null;function p(y,S){let M=!1,x=S.isScene===!0?S.background:null;x&&x.isTexture&&(x=e.get(x));const _=n.xr,T=_.getSession&&_.getSession();T&&T.environmentBlendMode==="additive"&&(x=null),x===null?g(o,s):x&&x.isColor&&(g(x,1),M=!0),(n.autoClear||M)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),x&&(x.isCubeTexture||x.mapping===Dh)?(l===void 0&&(l=new Hn(new el(1,1,1),new tl({name:"BackgroundCubeMaterial",uniforms:$h(ds.cube.uniforms),vertexShader:ds.cube.vertexShader,fragmentShader:ds.cube.fragmentShader,side:hr,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),l.geometry.deleteAttribute("uv"),l.onBeforeRender=function(E,C,I){this.matrixWorld.copyPosition(I.matrixWorld)},Object.defineProperty(l.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(l)),l.material.uniforms.envMap.value=x,l.material.uniforms.flipEnvMap.value=x.isCubeTexture&&x.isRenderTargetTexture===!1?-1:1,(c!==x||m!==x.version||v!==n.toneMapping)&&(l.material.needsUpdate=!0,c=x,m=x.version,v=n.toneMapping),y.unshift(l,l.geometry,l.material,0,0,null)):x&&x.isTexture&&(a===void 0&&(a=new Hn(new hf(2,2),new tl({name:"BackgroundMaterial",uniforms:$h(ds.background.uniforms),vertexShader:ds.background.vertexShader,fragmentShader:ds.background.fragmentShader,side:Yc,depthTest:!1,depthWrite:!1,fog:!1})),a.geometry.deleteAttribute("normal"),Object.defineProperty(a.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(a)),a.material.uniforms.t2D.value=x,x.matrixAutoUpdate===!0&&x.updateMatrix(),a.material.uniforms.uvTransform.value.copy(x.matrix),(c!==x||m!==x.version||v!==n.toneMapping)&&(a.material.needsUpdate=!0,c=x,m=x.version,v=n.toneMapping),y.unshift(a,a.geometry,a.material,0,0,null))}function g(y,S){t.buffers.color.setClear(y.r,y.g,y.b,S,i)}return{getClearColor:function(){return o},setClearColor:function(y,S=1){o.set(y),s=S,g(o,s)},getClearAlpha:function(){return s},setClearAlpha:function(y){s=y,g(o,s)},render:p}}function lJ(n,e,t,r){const i=n.getParameter(34921),o=r.isWebGL2?null:e.get("OES_vertex_array_object"),s=r.isWebGL2||o!==null,a={},l=S(null);let c=l;function m(K,ie,Q,re,ue){let Pe=!1;if(s){const Ue=y(re,Q,ie);c!==Ue&&(c=Ue,p(c.object)),Pe=M(re,ue),Pe&&x(re,ue)}else{const Ue=ie.wireframe===!0;(c.geometry!==re.id||c.program!==Q.id||c.wireframe!==Ue)&&(c.geometry=re.id,c.program=Q.id,c.wireframe=Ue,Pe=!0)}K.isInstancedMesh===!0&&(Pe=!0),ue!==null&&t.update(ue,34963),Pe&&(R(K,ie,Q,re),ue!==null&&n.bindBuffer(34963,t.get(ue).buffer))}function v(){return r.isWebGL2?n.createVertexArray():o.createVertexArrayOES()}function p(K){return r.isWebGL2?n.bindVertexArray(K):o.bindVertexArrayOES(K)}function g(K){return r.isWebGL2?n.deleteVertexArray(K):o.deleteVertexArrayOES(K)}function y(K,ie,Q){const re=Q.wireframe===!0;let ue=a[K.id];ue===void 0&&(ue={},a[K.id]=ue);let Pe=ue[ie.id];Pe===void 0&&(Pe={},ue[ie.id]=Pe);let Ue=Pe[re];return Ue===void 0&&(Ue=S(v()),Pe[re]=Ue),Ue}function S(K){const ie=[],Q=[],re=[];for(let ue=0;ue<i;ue++)ie[ue]=0,Q[ue]=0,re[ue]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:ie,enabledAttributes:Q,attributeDivisors:re,object:K,attributes:{},index:null}}function M(K,ie){const Q=c.attributes,re=K.attributes;let ue=0;for(const Pe in re){const Ue=Q[Pe],Ve=re[Pe];if(Ue===void 0||Ue.attribute!==Ve||Ue.data!==Ve.data)return!0;ue++}return c.attributesNum!==ue||c.index!==ie}function x(K,ie){const Q={},re=K.attributes;let ue=0;for(const Pe in re){const Ue=re[Pe],Ve={};Ve.attribute=Ue,Ue.data&&(Ve.data=Ue.data),Q[Pe]=Ve,ue++}c.attributes=Q,c.attributesNum=ue,c.index=ie}function _(){const K=c.newAttributes;for(let ie=0,Q=K.length;ie<Q;ie++)K[ie]=0}function T(K){E(K,0)}function E(K,ie){const Q=c.newAttributes,re=c.enabledAttributes,ue=c.attributeDivisors;Q[K]=1,re[K]===0&&(n.enableVertexAttribArray(K),re[K]=1),ue[K]!==ie&&((r.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](K,ie),ue[K]=ie)}function C(){const K=c.newAttributes,ie=c.enabledAttributes;for(let Q=0,re=ie.length;Q<re;Q++)ie[Q]!==K[Q]&&(n.disableVertexAttribArray(Q),ie[Q]=0)}function I(K,ie,Q,re,ue,Pe){r.isWebGL2===!0&&(Q===5124||Q===5125)?n.vertexAttribIPointer(K,ie,Q,ue,Pe):n.vertexAttribPointer(K,ie,Q,re,ue,Pe)}function R(K,ie,Q,re){if(r.isWebGL2===!1&&(K.isInstancedMesh||re.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;_();const ue=re.attributes,Pe=Q.getAttributes(),Ue=ie.defaultAttributeValues;for(const Ve in Pe){const te=Pe[Ve];if(te.location>=0){let me=ue[Ve];if(me===void 0&&(Ve==="instanceMatrix"&&K.instanceMatrix&&(me=K.instanceMatrix),Ve==="instanceColor"&&K.instanceColor&&(me=K.instanceColor)),me!==void 0){const J=me.normalized,V=me.itemSize,j=t.get(me);if(j===void 0)continue;const Y=j.buffer,de=j.type,ye=j.bytesPerElement;if(me.isInterleavedBufferAttribute){const ge=me.data,be=ge.stride,De=me.offset;if(ge&&ge.isInstancedInterleavedBuffer){for(let ee=0;ee<te.locationSize;ee++)E(te.location+ee,ge.meshPerAttribute);K.isInstancedMesh!==!0&&re._maxInstanceCount===void 0&&(re._maxInstanceCount=ge.meshPerAttribute*ge.count)}else for(let ee=0;ee<te.locationSize;ee++)T(te.location+ee);n.bindBuffer(34962,Y);for(let ee=0;ee<te.locationSize;ee++)I(te.location+ee,V/te.locationSize,de,J,be*ye,(De+V/te.locationSize*ee)*ye)}else{if(me.isInstancedBufferAttribute){for(let ge=0;ge<te.locationSize;ge++)E(te.location+ge,me.meshPerAttribute);K.isInstancedMesh!==!0&&re._maxInstanceCount===void 0&&(re._maxInstanceCount=me.meshPerAttribute*me.count)}else for(let ge=0;ge<te.locationSize;ge++)T(te.location+ge);n.bindBuffer(34962,Y);for(let ge=0;ge<te.locationSize;ge++)I(te.location+ge,V/te.locationSize,de,J,V*ye,V/te.locationSize*ge*ye)}}else if(Ue!==void 0){const J=Ue[Ve];if(J!==void 0)switch(J.length){case 2:n.vertexAttrib2fv(te.location,J);break;case 3:n.vertexAttrib3fv(te.location,J);break;case 4:n.vertexAttrib4fv(te.location,J);break;default:n.vertexAttrib1fv(te.location,J)}}}}C()}function D(){B();for(const K in a){const ie=a[K];for(const Q in ie){const re=ie[Q];for(const ue in re)g(re[ue].object),delete re[ue];delete ie[Q]}delete a[K]}}function k(K){if(a[K.id]===void 0)return;const ie=a[K.id];for(const Q in ie){const re=ie[Q];for(const ue in re)g(re[ue].object),delete re[ue];delete ie[Q]}delete a[K.id]}function U(K){for(const ie in a){const Q=a[ie];if(Q[K.id]===void 0)continue;const re=Q[K.id];for(const ue in re)g(re[ue].object),delete re[ue];delete Q[K.id]}}function B(){$(),c!==l&&(c=l,p(c.object))}function $(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:m,reset:B,resetDefaultState:$,dispose:D,releaseStatesOfGeometry:k,releaseStatesOfProgram:U,initAttributes:_,enableAttribute:T,disableUnusedAttributes:C}}function uJ(n,e,t,r){const i=r.isWebGL2;let o;function s(c){o=c}function a(c,m){n.drawArrays(o,c,m),t.update(m,o,1)}function l(c,m,v){if(v===0)return;let p,g;if(i)p=n,g="drawArraysInstanced";else if(p=e.get("ANGLE_instanced_arrays"),g="drawArraysInstancedANGLE",p===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[g](o,c,m,v),t.update(m,o,v)}this.setMode=s,this.render=a,this.renderInstances=l}function cJ(n,e,t){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const R=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(R.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function o(R){if(R==="highp"){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";R="mediump"}return R==="mediump"&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const s=typeof WebGL2RenderingContext!="undefined"&&n instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext!="undefined"&&n instanceof WebGL2ComputeRenderingContext;let a=t.precision!==void 0?t.precision:"highp";const l=o(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=s||e.has("WEBGL_draw_buffers"),m=t.logarithmicDepthBuffer===!0,v=n.getParameter(34930),p=n.getParameter(35660),g=n.getParameter(3379),y=n.getParameter(34076),S=n.getParameter(34921),M=n.getParameter(36347),x=n.getParameter(36348),_=n.getParameter(36349),T=p>0,E=s||e.has("OES_texture_float"),C=T&&E,I=s?n.getParameter(36183):0;return{isWebGL2:s,drawBuffers:c,getMaxAnisotropy:i,getMaxPrecision:o,precision:a,logarithmicDepthBuffer:m,maxTextures:v,maxVertexTextures:p,maxTextureSize:g,maxCubemapSize:y,maxAttributes:S,maxVertexUniforms:M,maxVaryings:x,maxFragmentUniforms:_,vertexTextures:T,floatFragmentTextures:E,floatVertexTextures:C,maxSamples:I}}function fJ(n){const e=this;let t=null,r=0,i=!1,o=!1;const s=new Us,a=new Rr,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(v,p,g){const y=v.length!==0||p||r!==0||i;return i=p,t=m(v,g,0),r=v.length,y},this.beginShadows=function(){o=!0,m(null)},this.endShadows=function(){o=!1,c()},this.setState=function(v,p,g){const y=v.clippingPlanes,S=v.clipIntersection,M=v.clipShadows,x=n.get(v);if(!i||y===null||y.length===0||o&&!M)o?m(null):c();else{const _=o?0:r,T=_*4;let E=x.clippingState||null;l.value=E,E=m(y,p,T,g);for(let C=0;C!==T;++C)E[C]=t[C];x.clippingState=E,this.numIntersection=S?this.numPlanes:0,this.numPlanes+=_}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function m(v,p,g,y){const S=v!==null?v.length:0;let M=null;if(S!==0){if(M=l.value,y!==!0||M===null){const x=g+S*4,_=p.matrixWorldInverse;a.getNormalMatrix(_),(M===null||M.length<x)&&(M=new Float32Array(x));for(let T=0,E=g;T!==S;++T,E+=4)s.copy(v[T]).applyMatrix4(_,a),s.normal.toArray(M,E),M[E+3]=s.constant}l.value=M,l.needsUpdate=!0}return e.numPlanes=S,e.numIntersection=0,M}}function dJ(n){let e=new WeakMap;function t(s,a){return a===mv?s.mapping=Jc:a===gv&&(s.mapping=Qc),s}function r(s){if(s&&s.isTexture&&s.isRenderTargetTexture===!1){const a=s.mapping;if(a===mv||a===gv)if(e.has(s)){const l=e.get(s).texture;return t(l,s.mapping)}else{const l=s.image;if(l&&l.height>0){const c=n.getRenderTarget(),m=new ow(l.height/2);return m.fromEquirectangularTexture(n,s),e.set(s,m),n.setRenderTarget(c),s.addEventListener("dispose",i),t(m.texture,s.mapping)}else return null}}return s}function i(s){const a=s.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function o(){e=new WeakMap}return{get:r,dispose:o}}class hs extends df{constructor(e=-1,t=1,r=1,i=-1,o=.1,s=2e3){super();this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=o,this.far=s,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,o,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let o=r-e,s=r+e,a=i+t,l=i-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,m=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=c*this.view.offsetX,s=o+c*this.view.width,a-=m*this.view.offsetY,l=a-m*this.view.height}this.projectionMatrix.makeOrthographic(o,s,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}hs.prototype.isOrthographicCamera=!0;class tp extends tl{constructor(e){super(e);this.type="RawShaderMaterial"}}tp.prototype.isRawShaderMaterial=!0;const np=4,vu=8,Vs=Math.pow(2,vu),Jk=[.125,.215,.35,.446,.526,.582],Qk=vu-np+1+Jk.length,rp=20,yu={[Hr]:0,[as]:1,[k_]:2,[CT]:3,[PT]:4,[RT]:5,[F_]:6},iA=new hs,{_lodPlanes:Rv,_sizeLods:eN,_sigmas:aw}=pJ(),tN=new Je;let oA=null;const pf=(1+Math.sqrt(5))/2,ip=1/pf,nN=[new H(1,1,1),new H(-1,1,1),new H(1,1,-1),new H(-1,1,-1),new H(0,pf,ip),new H(0,pf,-ip),new H(ip,0,pf),new H(-ip,0,pf),new H(pf,ip,0),new H(-pf,ip,0)];class rN{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._blurMaterial=mJ(rp),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){oA=this._renderer.getRenderTarget();const o=this._allocateTargets();return this._sceneToCubeUV(e,r,i,o),t>0&&this._blur(o,0,0,t),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(e){return this._fromTexture(e)}fromCubemap(e){return this._fromTexture(e)}compileCubemapShader(){this._cubemapShader===null&&(this._cubemapShader=sN(),this._compileMaterial(this._cubemapShader))}compileEquirectangularShader(){this._equirectShader===null&&(this._equirectShader=oN(),this._compileMaterial(this._equirectShader))}dispose(){this._blurMaterial.dispose(),this._cubemapShader!==null&&this._cubemapShader.dispose(),this._equirectShader!==null&&this._equirectShader.dispose();for(let e=0;e<Rv.length;e++)Rv[e].dispose()}_cleanup(e){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(oA),e.scissorTest=!1,lw(e,0,0,e.width,e.height)}_fromTexture(e){oA=this._renderer.getRenderTarget();const t=this._allocateTargets(e);return this._textureToCubeUV(e,t),this._applyPMREM(t),this._cleanup(t),t}_allocateTargets(e){const t={magFilter:ir,minFilter:ir,generateMipmaps:!1,type:ja,format:DF,encoding:hJ(e)?e.encoding:k_,depthBuffer:!1},r=iN(t);return r.depthBuffer=!e,this._pingPongRenderTarget=iN(t),r}_compileMaterial(e){const t=new Hn(Rv[0],e);this._renderer.compile(t,iA)}_sceneToCubeUV(e,t,r,i){const o=90,s=1,a=new Tn(o,s,t,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],m=this._renderer,v=m.autoClear,p=m.outputEncoding,g=m.toneMapping;m.getClearColor(tN),m.toneMapping=Ha,m.outputEncoding=Hr,m.autoClear=!1;const y=new Qa({name:"PMREM.Background",side:hr,depthWrite:!1,depthTest:!1}),S=new Hn(new el,y);let M=!1;const x=e.background;x?x.isColor&&(y.color.copy(x),e.background=null,M=!0):(y.color.copy(tN),M=!0);for(let _=0;_<6;_++){const T=_%3;T==0?(a.up.set(0,l[_],0),a.lookAt(c[_],0,0)):T==1?(a.up.set(0,0,l[_]),a.lookAt(0,c[_],0)):(a.up.set(0,l[_],0),a.lookAt(0,0,c[_])),lw(i,T*Vs,_>2?Vs:0,Vs,Vs),m.setRenderTarget(i),M&&m.render(S,a),m.render(e,a)}S.geometry.dispose(),S.material.dispose(),m.toneMapping=g,m.outputEncoding=p,m.autoClear=v,e.background=x}_setEncoding(e,t){this._renderer.capabilities.isWebGL2===!0&&t.format===ii&&t.type===ja&&t.encoding===as?e.value=yu[Hr]:e.value=yu[t.encoding]}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===Jc||e.mapping===Qc;i?this._cubemapShader==null&&(this._cubemapShader=sN()):this._equirectShader==null&&(this._equirectShader=oN());const o=i?this._cubemapShader:this._equirectShader,s=new Hn(Rv[0],o),a=o.uniforms;a.envMap.value=e,i||a.texelSize.value.set(1/e.image.width,1/e.image.height),this._setEncoding(a.inputEncoding,e),this._setEncoding(a.outputEncoding,t.texture),lw(t,0,0,3*Vs,2*Vs),r.setRenderTarget(t),r.render(s,iA)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;for(let i=1;i<Qk;i++){const o=Math.sqrt(aw[i]*aw[i]-aw[i-1]*aw[i-1]),s=nN[(i-1)%nN.length];this._blur(e,i-1,i,o,s)}t.autoClear=r}_blur(e,t,r,i,o){const s=this._pingPongRenderTarget;this._halfBlur(e,s,t,r,i,"latitudinal",o),this._halfBlur(s,e,r,r,i,"longitudinal",o)}_halfBlur(e,t,r,i,o,s,a){const l=this._renderer,c=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const m=3,v=new Hn(Rv[i],c),p=c.uniforms,g=eN[r]-1,y=isFinite(o)?Math.PI/(2*g):2*Math.PI/(2*rp-1),S=o/y,M=isFinite(o)?1+Math.floor(m*S):rp;M>rp&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${M} samples when the maximum is set to ${rp}`);const x=[];let _=0;for(let I=0;I<rp;++I){const R=I/S,D=Math.exp(-R*R/2);x.push(D),I==0?_+=D:I<M&&(_+=2*D)}for(let I=0;I<x.length;I++)x[I]=x[I]/_;p.envMap.value=e.texture,p.samples.value=M,p.weights.value=x,p.latitudinal.value=s==="latitudinal",a&&(p.poleAxis.value=a),p.dTheta.value=y,p.mipInt.value=vu-r,this._setEncoding(p.inputEncoding,e.texture),this._setEncoding(p.outputEncoding,e.texture);const T=eN[i],E=3*Math.max(0,Vs-2*T),C=(i===0?0:2*Vs)+2*T*(i>vu-np?i-vu+np:0);lw(t,E,C,3*T,2*T),l.setRenderTarget(t),l.render(v,iA)}}function hJ(n){return n===void 0||n.type!==ja?!1:n.encoding===Hr||n.encoding===as||n.encoding===F_}function pJ(){const n=[],e=[],t=[];let r=vu;for(let i=0;i<Qk;i++){const o=Math.pow(2,r);e.push(o);let s=1/o;i>vu-np?s=Jk[i-vu+np-1]:i==0&&(s=0),t.push(s);const a=1/(o-1),l=-a/2,c=1+a/2,m=[l,l,c,l,c,c,l,l,c,c,l,c],v=6,p=6,g=3,y=2,S=1,M=new Float32Array(g*p*v),x=new Float32Array(y*p*v),_=new Float32Array(S*p*v);for(let E=0;E<v;E++){const C=E%3*2/3-1,I=E>2?0:-1,R=[C,I,0,C+2/3,I,0,C+2/3,I+1,0,C,I,0,C+2/3,I+1,0,C,I+1,0];M.set(R,g*p*E),x.set(m,y*p*E);const D=[E,E,E,E,E,E];_.set(D,S*p*E)}const T=new gt;T.setAttribute("position",new Wt(M,g)),T.setAttribute("uv",new Wt(x,y)),T.setAttribute("faceIndex",new Wt(_,S)),n.push(T),r>np&&r--}return{_lodPlanes:n,_sizeLods:e,_sigmas:t}}function iN(n){const e=new ls(3*Vs,3*Vs,n);return e.texture.mapping=Dh,e.texture.name="PMREM.cubeUv",e.scissorTest=!0,e}function lw(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function mJ(n){const e=new Float32Array(n),t=new H(0,1,0);return new tp({name:"SphericalGaussianBlur",defines:{n},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:e},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:t},inputEncoding:{value:yu[Hr]},outputEncoding:{value:yu[Hr]}},vertexShader:sA(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			${aA()}

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:Va,depthTest:!1,depthWrite:!1})}function oN(){const n=new Oe(1,1);return new tp({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:n},inputEncoding:{value:yu[Hr]},outputEncoding:{value:yu[Hr]}},vertexShader:sA(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform vec2 texelSize;

			${aA()}

			#include <common>

			void main() {

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				vec2 f = fract( uv / texelSize - 0.5 );
				uv -= f * texelSize;
				vec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.x += texelSize.x;
				vec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.y += texelSize.y;
				vec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.x -= texelSize.x;
				vec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;

				vec3 tm = mix( tl, tr, f.x );
				vec3 bm = mix( bl, br, f.x );
				gl_FragColor.rgb = mix( tm, bm, f.y );

				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:Va,depthTest:!1,depthWrite:!1})}function sN(){return new tp({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:yu[Hr]},outputEncoding:{value:yu[Hr]}},vertexShader:sA(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			${aA()}

			void main() {

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;
				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:Va,depthTest:!1,depthWrite:!1})}function sA(){return`

		precision mediump float;
		precision mediump int;

		attribute vec3 position;
		attribute vec2 uv;
		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function aA(){return`

		uniform int inputEncoding;
		uniform int outputEncoding;

		#include <encodings_pars_fragment>

		vec4 inputTexelToLinear( vec4 value ) {

			if ( inputEncoding == 0 ) {

				return value;

			} else if ( inputEncoding == 1 ) {

				return sRGBToLinear( value );

			} else if ( inputEncoding == 2 ) {

				return RGBEToLinear( value );

			} else if ( inputEncoding == 3 ) {

				return RGBMToLinear( value, 7.0 );

			} else if ( inputEncoding == 4 ) {

				return RGBMToLinear( value, 16.0 );

			} else if ( inputEncoding == 5 ) {

				return RGBDToLinear( value, 256.0 );

			} else {

				return GammaToLinear( value, 2.2 );

			}

		}

		vec4 linearToOutputTexel( vec4 value ) {

			if ( outputEncoding == 0 ) {

				return value;

			} else if ( outputEncoding == 1 ) {

				return LinearTosRGB( value );

			} else if ( outputEncoding == 2 ) {

				return LinearToRGBE( value );

			} else if ( outputEncoding == 3 ) {

				return LinearToRGBM( value, 7.0 );

			} else if ( outputEncoding == 4 ) {

				return LinearToRGBM( value, 16.0 );

			} else if ( outputEncoding == 5 ) {

				return LinearToRGBD( value, 256.0 );

			} else {

				return LinearToGamma( value, 2.2 );

			}

		}

		vec4 envMapTexelToLinear( vec4 color ) {

			return inputTexelToLinear( color );

		}
	`}function gJ(n){let e=new WeakMap,t=null;function r(a){if(a&&a.isTexture&&a.isRenderTargetTexture===!1){const l=a.mapping,c=l===mv||l===gv,m=l===Jc||l===Qc;if(c||m){if(e.has(a))return e.get(a).texture;{const v=a.image;if(c&&v&&v.height>0||m&&v&&i(v)){const p=n.getRenderTarget();t===null&&(t=new rN(n));const g=c?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,g),n.setRenderTarget(p),a.addEventListener("dispose",o),g.texture}else return null}}}return a}function i(a){let l=0;const c=6;for(let m=0;m<c;m++)a[m]!==void 0&&l++;return l===c}function o(a){const l=a.target;l.removeEventListener("dispose",o);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function s(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:s}}function vJ(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(r){r.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float")},get:function(r){const i=t(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function yJ(n,e,t,r){const i={},o=new WeakMap;function s(v){const p=v.target;p.index!==null&&e.remove(p.index);for(const y in p.attributes)e.remove(p.attributes[y]);p.removeEventListener("dispose",s),delete i[p.id];const g=o.get(p);g&&(e.remove(g),o.delete(p)),r.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,t.memory.geometries--}function a(v,p){return i[p.id]===!0||(p.addEventListener("dispose",s),i[p.id]=!0,t.memory.geometries++),p}function l(v){const p=v.attributes;for(const y in p)e.update(p[y],34962);const g=v.morphAttributes;for(const y in g){const S=g[y];for(let M=0,x=S.length;M<x;M++)e.update(S[M],34962)}}function c(v){const p=[],g=v.index,y=v.attributes.position;let S=0;if(g!==null){const _=g.array;S=g.version;for(let T=0,E=_.length;T<E;T+=3){const C=_[T+0],I=_[T+1],R=_[T+2];p.push(C,I,I,R,R,C)}}else{const _=y.array;S=y.version;for(let T=0,E=_.length/3-1;T<E;T+=3){const C=T+0,I=T+1,R=T+2;p.push(C,I,I,R,R,C)}}const M=new(Ck(p)>65535?Y_:K_)(p,1);M.version=S;const x=o.get(v);x&&e.remove(x),o.set(v,M)}function m(v){const p=o.get(v);if(p){const g=v.index;g!==null&&p.version<g.version&&c(v)}else c(v);return o.get(v)}return{get:a,update:l,getWireframeAttribute:m}}function xJ(n,e,t,r){const i=r.isWebGL2;let o;function s(p){o=p}let a,l;function c(p){a=p.type,l=p.bytesPerElement}function m(p,g){n.drawElements(o,g,a,p*l),t.update(g,o,1)}function v(p,g,y){if(y===0)return;let S,M;if(i)S=n,M="drawElementsInstanced";else if(S=e.get("ANGLE_instanced_arrays"),M="drawElementsInstancedANGLE",S===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}S[M](o,g,a,p*l,y),t.update(g,o,y)}this.setMode=s,this.setIndex=c,this.render=m,this.renderInstances=v}function _J(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(o,s,a){switch(t.calls++,s){case 4:t.triangles+=a*(o/3);break;case 1:t.lines+=a*(o/2);break;case 3:t.lines+=a*(o-1);break;case 2:t.lines+=a*o;break;case 0:t.points+=a*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s);break}}function i(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}class uw extends _r{constructor(e=null,t=1,r=1,i=1){super(null);this.image={data:e,width:t,height:r,depth:i},this.magFilter=ir,this.minFilter=ir,this.wrapR=Pr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}uw.prototype.isDataTexture2DArray=!0;function wJ(n,e){return n[0]-e[0]}function SJ(n,e){return Math.abs(e[1])-Math.abs(n[1])}function aN(n,e){let t=1;const r=e.isInterleavedBufferAttribute?e.data.array:e.array;r instanceof Int8Array?t=127:r instanceof Int16Array?t=32767:r instanceof Int32Array?t=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",r),n.divideScalar(t)}function bJ(n,e,t){const r={},i=new Float32Array(8),o=new WeakMap,s=new H,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(c,m,v,p){const g=c.morphTargetInfluences;if(e.isWebGL2===!0){const y=m.morphAttributes.position.length;let S=o.get(m);if(S===void 0||S.count!==y){S!==void 0&&S.texture.dispose();const _=m.morphAttributes.normal!==void 0,T=m.morphAttributes.position,E=m.morphAttributes.normal||[],C=m.attributes.position.count,I=_===!0?2:1;let R=C*I,D=1;R>e.maxTextureSize&&(D=Math.ceil(R/e.maxTextureSize),R=e.maxTextureSize);const k=new Float32Array(R*D*4*y),U=new uw(k,R,D,y);U.format=ii,U.type=zs;const B=I*4;for(let $=0;$<y;$++){const K=T[$],ie=E[$],Q=R*D*4*$;for(let re=0;re<K.count;re++){s.fromBufferAttribute(K,re),K.normalized===!0&&aN(s,K);const ue=re*B;k[Q+ue+0]=s.x,k[Q+ue+1]=s.y,k[Q+ue+2]=s.z,k[Q+ue+3]=0,_===!0&&(s.fromBufferAttribute(ie,re),ie.normalized===!0&&aN(s,ie),k[Q+ue+4]=s.x,k[Q+ue+5]=s.y,k[Q+ue+6]=s.z,k[Q+ue+7]=0)}}S={count:y,texture:U,size:new Oe(R,D)},o.set(m,S)}let M=0;for(let _=0;_<g.length;_++)M+=g[_];const x=m.morphTargetsRelative?1:1-M;p.getUniforms().setValue(n,"morphTargetBaseInfluence",x),p.getUniforms().setValue(n,"morphTargetInfluences",g),p.getUniforms().setValue(n,"morphTargetsTexture",S.texture,t),p.getUniforms().setValue(n,"morphTargetsTextureSize",S.size)}else{const y=g===void 0?0:g.length;let S=r[m.id];if(S===void 0||S.length!==y){S=[];for(let E=0;E<y;E++)S[E]=[E,0];r[m.id]=S}for(let E=0;E<y;E++){const C=S[E];C[0]=E,C[1]=g[E]}S.sort(SJ);for(let E=0;E<8;E++)E<y&&S[E][1]?(a[E][0]=S[E][0],a[E][1]=S[E][1]):(a[E][0]=Number.MAX_SAFE_INTEGER,a[E][1]=0);a.sort(wJ);const M=m.morphAttributes.position,x=m.morphAttributes.normal;let _=0;for(let E=0;E<8;E++){const C=a[E],I=C[0],R=C[1];I!==Number.MAX_SAFE_INTEGER&&R?(M&&m.getAttribute("morphTarget"+E)!==M[I]&&m.setAttribute("morphTarget"+E,M[I]),x&&m.getAttribute("morphNormal"+E)!==x[I]&&m.setAttribute("morphNormal"+E,x[I]),i[E]=R,_+=R):(M&&m.hasAttribute("morphTarget"+E)===!0&&m.deleteAttribute("morphTarget"+E),x&&m.hasAttribute("morphNormal"+E)===!0&&m.deleteAttribute("morphNormal"+E),i[E]=0)}const T=m.morphTargetsRelative?1:1-_;p.getUniforms().setValue(n,"morphTargetBaseInfluence",T),p.getUniforms().setValue(n,"morphTargetInfluences",i)}}return{update:l}}function MJ(n,e,t,r){let i=new WeakMap;function o(l){const c=r.render.frame,m=l.geometry,v=e.get(l,m);return i.get(v)!==c&&(e.update(v),i.set(v,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),t.update(l.instanceMatrix,34962),l.instanceColor!==null&&t.update(l.instanceColor,34962)),v}function s(){i=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:o,dispose:s}}class lA extends _r{constructor(e=null,t=1,r=1,i=1){super(null);this.image={data:e,width:t,height:r,depth:i},this.magFilter=ir,this.minFilter=ir,this.wrapR=Pr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}lA.prototype.isDataTexture3D=!0;const lN=new _r,EJ=new uw,TJ=new lA,uN=new Qh,cN=[],fN=[],dN=new Float32Array(16),hN=new Float32Array(9),pN=new Float32Array(4);function op(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let o=cN[i];if(o===void 0&&(o=new Float32Array(i),cN[i]=o),e!==0){r.toArray(o,0);for(let s=1,a=0;s!==e;++s)a+=t,n[s].toArray(o,a)}return o}function Ni(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function Si(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function mN(n,e){let t=fN[e];t===void 0&&(t=new Int32Array(e),fN[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function AJ(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function CJ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Ni(t,e))return;n.uniform2fv(this.addr,e),Si(t,e)}}function PJ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Ni(t,e))return;n.uniform3fv(this.addr,e),Si(t,e)}}function RJ(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Ni(t,e))return;n.uniform4fv(this.addr,e),Si(t,e)}}function LJ(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Ni(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Si(t,e)}else{if(Ni(t,r))return;pN.set(r),n.uniformMatrix2fv(this.addr,!1,pN),Si(t,r)}}function IJ(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Ni(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Si(t,e)}else{if(Ni(t,r))return;hN.set(r),n.uniformMatrix3fv(this.addr,!1,hN),Si(t,r)}}function DJ(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Ni(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Si(t,e)}else{if(Ni(t,r))return;dN.set(r),n.uniformMatrix4fv(this.addr,!1,dN),Si(t,r)}}function OJ(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function FJ(n,e){const t=this.cache;Ni(t,e)||(n.uniform2iv(this.addr,e),Si(t,e))}function kJ(n,e){const t=this.cache;Ni(t,e)||(n.uniform3iv(this.addr,e),Si(t,e))}function NJ(n,e){const t=this.cache;Ni(t,e)||(n.uniform4iv(this.addr,e),Si(t,e))}function BJ(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function zJ(n,e){const t=this.cache;Ni(t,e)||(n.uniform2uiv(this.addr,e),Si(t,e))}function UJ(n,e){const t=this.cache;Ni(t,e)||(n.uniform3uiv(this.addr,e),Si(t,e))}function VJ(n,e){const t=this.cache;Ni(t,e)||(n.uniform4uiv(this.addr,e),Si(t,e))}function HJ(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.safeSetTexture2D(e||lN,i)}function GJ(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||TJ,i)}function WJ(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.safeSetTextureCube(e||uN,i)}function jJ(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||EJ,i)}function qJ(n){switch(n){case 5126:return AJ;case 35664:return CJ;case 35665:return PJ;case 35666:return RJ;case 35674:return LJ;case 35675:return IJ;case 35676:return DJ;case 5124:case 35670:return OJ;case 35667:case 35671:return FJ;case 35668:case 35672:return kJ;case 35669:case 35673:return NJ;case 5125:return BJ;case 36294:return zJ;case 36295:return UJ;case 36296:return VJ;case 35678:case 36198:case 36298:case 36306:case 35682:return HJ;case 35679:case 36299:case 36307:return GJ;case 35680:case 36300:case 36308:case 36293:return WJ;case 36289:case 36303:case 36311:case 36292:return jJ}}function XJ(n,e){n.uniform1fv(this.addr,e)}function KJ(n,e){const t=op(e,this.size,2);n.uniform2fv(this.addr,t)}function YJ(n,e){const t=op(e,this.size,3);n.uniform3fv(this.addr,t)}function $J(n,e){const t=op(e,this.size,4);n.uniform4fv(this.addr,t)}function ZJ(n,e){const t=op(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function JJ(n,e){const t=op(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function QJ(n,e){const t=op(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function eQ(n,e){n.uniform1iv(this.addr,e)}function tQ(n,e){n.uniform2iv(this.addr,e)}function nQ(n,e){n.uniform3iv(this.addr,e)}function rQ(n,e){n.uniform4iv(this.addr,e)}function iQ(n,e){n.uniform1uiv(this.addr,e)}function oQ(n,e){n.uniform2uiv(this.addr,e)}function sQ(n,e){n.uniform3uiv(this.addr,e)}function aQ(n,e){n.uniform4uiv(this.addr,e)}function lQ(n,e,t){const r=e.length,i=mN(t,r);n.uniform1iv(this.addr,i);for(let o=0;o!==r;++o)t.safeSetTexture2D(e[o]||lN,i[o])}function uQ(n,e,t){const r=e.length,i=mN(t,r);n.uniform1iv(this.addr,i);for(let o=0;o!==r;++o)t.safeSetTextureCube(e[o]||uN,i[o])}function cQ(n){switch(n){case 5126:return XJ;case 35664:return KJ;case 35665:return YJ;case 35666:return $J;case 35674:return ZJ;case 35675:return JJ;case 35676:return QJ;case 5124:case 35670:return eQ;case 35667:case 35671:return tQ;case 35668:case 35672:return nQ;case 35669:case 35673:return rQ;case 5125:return iQ;case 36294:return oQ;case 36295:return sQ;case 36296:return aQ;case 35678:case 36198:case 36298:case 36306:case 35682:return lQ;case 35680:case 36300:case 36308:case 36293:return uQ}}function fQ(n,e,t){this.id=n,this.addr=t,this.cache=[],this.setValue=qJ(e.type)}function gN(n,e,t){this.id=n,this.addr=t,this.cache=[],this.size=e.size,this.setValue=cQ(e.type)}gN.prototype.updateCache=function(n){const e=this.cache;n instanceof Float32Array&&e.length!==n.length&&(this.cache=new Float32Array(n.length)),Si(e,n)};function vN(n){this.id=n,this.seq=[],this.map={}}vN.prototype.setValue=function(n,e,t){const r=this.seq;for(let i=0,o=r.length;i!==o;++i){const s=r[i];s.setValue(n,e[s.id],t)}};const uA=/(\w+)(\])?(\[|\.)?/g;function yN(n,e){n.seq.push(e),n.map[e.id]=e}function dQ(n,e,t){const r=n.name,i=r.length;for(uA.lastIndex=0;;){const o=uA.exec(r),s=uA.lastIndex;let a=o[1];const l=o[2]==="]",c=o[3];if(l&&(a=a|0),c===void 0||c==="["&&s+2===i){yN(t,c===void 0?new fQ(a,n,e):new gN(a,n,e));break}else{let v=t.map[a];v===void 0&&(v=new vN(a),yN(t,v)),t=v}}}function xu(n,e){this.seq=[],this.map={};const t=n.getProgramParameter(e,35718);for(let r=0;r<t;++r){const i=n.getActiveUniform(e,r),o=n.getUniformLocation(e,i.name);dQ(i,o,this)}}xu.prototype.setValue=function(n,e,t,r){const i=this.map[e];i!==void 0&&i.setValue(n,t,r)};xu.prototype.setOptional=function(n,e,t){const r=e[t];r!==void 0&&this.setValue(n,t,r)};xu.upload=function(n,e,t,r){for(let i=0,o=e.length;i!==o;++i){const s=e[i],a=t[s.id];a.needsUpdate!==!1&&s.setValue(n,a.value,r)}};xu.seqWithValue=function(n,e){const t=[];for(let r=0,i=n.length;r!==i;++r){const o=n[r];o.id in e&&t.push(o)}return t};function xN(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}let hQ=0;function pQ(n){const e=n.split(`
`);for(let t=0;t<e.length;t++)e[t]=t+1+": "+e[t];return e.join(`
`)}function _N(n){switch(n){case Hr:return["Linear","( value )"];case as:return["sRGB","( value )"];case k_:return["RGBE","( value )"];case CT:return["RGBM","( value, 7.0 )"];case PT:return["RGBM","( value, 16.0 )"];case RT:return["RGBD","( value, 256.0 )"];case F_:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case _k:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}function wN(n,e,t){const r=n.getShaderParameter(e,35713),i=n.getShaderInfoLog(e).trim();return r&&i===""?"":t.toUpperCase()+`

`+i+`

`+pQ(n.getShaderSource(e))}function mf(n,e){const t=_N(e);return"vec4 "+n+"( vec4 value ) { return "+t[0]+"ToLinear"+t[1]+"; }"}function mQ(n,e){const t=_N(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function gQ(n,e){let t;switch(e){case _F:t="Linear";break;case wF:t="Reinhard";break;case SF:t="OptimizedCineon";break;case mT:t="ACESFilmic";break;case bF:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function vQ(n){return[n.extensionDerivatives||n.envMapCubeUV||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Lv).join(`
`)}function yQ(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function xQ(n,e){const t={},r=n.getProgramParameter(e,35721);for(let i=0;i<r;i++){const o=n.getActiveAttrib(e,i),s=o.name;let a=1;o.type===35674&&(a=2),o.type===35675&&(a=3),o.type===35676&&(a=4),t[s]={type:o.type,location:n.getAttribLocation(e,s),locationSize:a}}return t}function Lv(n){return n!==""}function SN(n,e){return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function bN(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const _Q=/^[ \t]*#include +<([\w\d./]+)>/gm;function cA(n){return n.replace(_Q,wQ)}function wQ(n,e){const t=Kt[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return cA(t)}const SQ=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,bQ=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function MN(n){return n.replace(bQ,EN).replace(SQ,MQ)}function MQ(n,e,t,r){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),EN(n,e,t,r)}function EN(n,e,t,r){let i="";for(let o=parseInt(e);o<parseInt(t);o++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function TN(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function EQ(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===oT?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===sT?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Lh&&(e="SHADOWMAP_TYPE_VSM"),e}function TQ(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Jc:case Qc:e="ENVMAP_TYPE_CUBE";break;case Dh:case vv:e="ENVMAP_TYPE_CUBE_UV";break}return e}function AQ(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Qc:case vv:e="ENVMAP_MODE_REFRACTION";break}return e}function CQ(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case pv:e="ENVMAP_BLENDING_MULTIPLY";break;case yF:e="ENVMAP_BLENDING_MIX";break;case xF:e="ENVMAP_BLENDING_ADD";break}return e}function PQ(n,e,t,r){const i=n.getContext(),o=t.defines;let s=t.vertexShader,a=t.fragmentShader;const l=EQ(t),c=TQ(t),m=AQ(t),v=CQ(t),p=n.gammaFactor>0?n.gammaFactor:1,g=t.isWebGL2?"":vQ(t),y=yQ(o),S=i.createProgram();let M,x,_=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(M=[y].filter(Lv).join(`
`),M.length>0&&(M+=`
`),x=[g,y].filter(Lv).join(`
`),x.length>0&&(x+=`
`)):(M=[TN(t),"#define SHADER_NAME "+t.shaderName,y,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+p,"#define MAX_BONES "+t.maxBones,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+m:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.useVertexTexture?"#define BONE_TEXTURE":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphTargets&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargets&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Lv).join(`
`),x=[g,TN(t),"#define SHADER_NAME "+t.shaderName,y,"#define GAMMA_FACTOR "+p,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+m:"",t.envMap?"#define "+v:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(t.extensionShaderTextureLOD||t.envMap)&&t.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Ha?"#define TONE_MAPPING":"",t.toneMapping!==Ha?Kt.tonemapping_pars_fragment:"",t.toneMapping!==Ha?gQ("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.format===nf?"#define OPAQUE":"",Kt.encodings_pars_fragment,t.map?mf("mapTexelToLinear",t.mapEncoding):"",t.matcap?mf("matcapTexelToLinear",t.matcapEncoding):"",t.envMap?mf("envMapTexelToLinear",t.envMapEncoding):"",t.emissiveMap?mf("emissiveMapTexelToLinear",t.emissiveMapEncoding):"",t.specularColorMap?mf("specularColorMapTexelToLinear",t.specularColorMapEncoding):"",t.sheenColorMap?mf("sheenColorMapTexelToLinear",t.sheenColorMapEncoding):"",t.lightMap?mf("lightMapTexelToLinear",t.lightMapEncoding):"",mQ("linearToOutputTexel",t.outputEncoding),t.depthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Lv).join(`
`)),s=cA(s),s=SN(s,t),s=bN(s,t),a=cA(a),a=SN(a,t),a=bN(a,t),s=MN(s),a=MN(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(_=`#version 300 es
`,M=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+M,x=["#define varying in",t.glslVersion===LT?"":"out highp vec4 pc_fragColor;",t.glslVersion===LT?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+x);const T=_+M+s,E=_+x+a,C=xN(i,35633,T),I=xN(i,35632,E);if(i.attachShader(S,C),i.attachShader(S,I),t.index0AttributeName!==void 0?i.bindAttribLocation(S,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(S,0,"position"),i.linkProgram(S),n.debug.checkShaderErrors){const k=i.getProgramInfoLog(S).trim(),U=i.getShaderInfoLog(C).trim(),B=i.getShaderInfoLog(I).trim();let $=!0,K=!0;if(i.getProgramParameter(S,35714)===!1){$=!1;const ie=wN(i,C,"vertex"),Q=wN(i,I,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(S,35715)+`

Program Info Log: `+k+`
`+ie+`
`+Q)}else k!==""?console.warn("THREE.WebGLProgram: Program Info Log:",k):(U===""||B==="")&&(K=!1);K&&(this.diagnostics={runnable:$,programLog:k,vertexShader:{log:U,prefix:M},fragmentShader:{log:B,prefix:x}})}i.deleteShader(C),i.deleteShader(I);let R;this.getUniforms=function(){return R===void 0&&(R=new xu(i,S)),R};let D;return this.getAttributes=function(){return D===void 0&&(D=xQ(i,S)),D},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(S),this.program=void 0},this.name=t.shaderName,this.id=hQ++,this.cacheKey=e,this.usedTimes=1,this.program=S,this.vertexShader=C,this.fragmentShader=I,this}function RQ(n,e,t,r,i,o,s){const a=[],l=i.isWebGL2,c=i.logarithmicDepthBuffer,m=i.floatVertexTextures,v=i.maxVertexUniforms,p=i.vertexTextures;let g=i.precision;const y={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},S=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoat","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap",,"roughnessMap","metalnessMap","gradientMap","alphaMap","alphaTest","combine","vertexColors","vertexAlphas","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","morphTargetsCount","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","format","specularIntensityMap","specularColorMap","specularColorMapEncoding","transmission","transmissionMap","thicknessMap","sheen","sheenColorMap","sheenColorMapEncoding","sheenRoughnessMap"];function M(R){const k=R.skeleton.bones;if(m)return 1024;{const B=Math.floor((v-20)/4),$=Math.min(B,k.length);return $<k.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+k.length+" bones. This GPU supports "+$+"."),0):$}}function x(R){let D;return R&&R.isTexture?D=R.encoding:R&&R.isWebGLRenderTarget?(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),D=R.texture.encoding):D=Hr,l&&R&&R.isTexture&&R.format===ii&&R.type===ja&&R.encoding===as&&(D=Hr),D}function _(R,D,k,U,B){const $=U.fog,K=R.isMeshStandardMaterial?U.environment:null,ie=(R.isMeshStandardMaterial?t:e).get(R.envMap||K),Q=y[R.type],re=B.isSkinnedMesh?M(B):0;R.precision!==null&&(g=i.getMaxPrecision(R.precision),g!==R.precision&&console.warn("THREE.WebGLProgram.getParameters:",R.precision,"not supported, using",g,"instead."));let ue,Pe;if(Q){const J=ds[Q];ue=J.vertexShader,Pe=J.fragmentShader}else ue=R.vertexShader,Pe=R.fragmentShader;const Ue=n.getRenderTarget(),Ve=R.alphaTest>0,te=R.clearcoat>0;return{isWebGL2:l,shaderID:Q,shaderName:R.type,vertexShader:ue,fragmentShader:Pe,defines:R.defines,isRawShaderMaterial:R.isRawShaderMaterial===!0,glslVersion:R.glslVersion,precision:g,instancing:B.isInstancedMesh===!0,instancingColor:B.isInstancedMesh===!0&&B.instanceColor!==null,supportsVertexTextures:p,outputEncoding:Ue!==null?x(Ue.texture):n.outputEncoding,map:!!R.map,mapEncoding:x(R.map),matcap:!!R.matcap,matcapEncoding:x(R.matcap),envMap:!!ie,envMapMode:ie&&ie.mapping,envMapEncoding:x(ie),envMapCubeUV:!!ie&&(ie.mapping===Dh||ie.mapping===vv),lightMap:!!R.lightMap,lightMapEncoding:x(R.lightMap),aoMap:!!R.aoMap,emissiveMap:!!R.emissiveMap,emissiveMapEncoding:x(R.emissiveMap),bumpMap:!!R.bumpMap,normalMap:!!R.normalMap,objectSpaceNormalMap:R.normalMapType===bk,tangentSpaceNormalMap:R.normalMapType===af,clearcoat:te,clearcoatMap:te&&!!R.clearcoatMap,clearcoatRoughnessMap:te&&!!R.clearcoatRoughnessMap,clearcoatNormalMap:te&&!!R.clearcoatNormalMap,displacementMap:!!R.displacementMap,roughnessMap:!!R.roughnessMap,metalnessMap:!!R.metalnessMap,specularMap:!!R.specularMap,specularIntensityMap:!!R.specularIntensityMap,specularColorMap:!!R.specularColorMap,specularColorMapEncoding:x(R.specularColorMap),alphaMap:!!R.alphaMap,alphaTest:Ve,gradientMap:!!R.gradientMap,sheen:R.sheen>0,sheenColorMap:!!R.sheenColorMap,sheenColorMapEncoding:x(R.sheenColorMap),sheenRoughnessMap:!!R.sheenRoughnessMap,transmission:R.transmission>0,transmissionMap:!!R.transmissionMap,thicknessMap:!!R.thicknessMap,combine:R.combine,vertexTangents:!!R.normalMap&&!!B.geometry&&!!B.geometry.attributes.tangent,vertexColors:R.vertexColors,vertexAlphas:R.vertexColors===!0&&!!B.geometry&&!!B.geometry.attributes.color&&B.geometry.attributes.color.itemSize===4,vertexUvs:!!R.map||!!R.bumpMap||!!R.normalMap||!!R.specularMap||!!R.alphaMap||!!R.emissiveMap||!!R.roughnessMap||!!R.metalnessMap||!!R.clearcoatMap||!!R.clearcoatRoughnessMap||!!R.clearcoatNormalMap||!!R.displacementMap||!!R.transmissionMap||!!R.thicknessMap||!!R.specularIntensityMap||!!R.specularColorMap||!!R.sheenColorMap||R.sheenRoughnessMap,uvsVertexOnly:!(!!R.map||!!R.bumpMap||!!R.normalMap||!!R.specularMap||!!R.alphaMap||!!R.emissiveMap||!!R.roughnessMap||!!R.metalnessMap||!!R.clearcoatNormalMap||R.transmission>0||!!R.transmissionMap||!!R.thicknessMap||!!R.specularIntensityMap||!!R.specularColorMap||!!R.sheen>0||!!R.sheenColorMap||!!R.sheenRoughnessMap)&&!!R.displacementMap,fog:!!$,useFog:R.fog,fogExp2:$&&$.isFogExp2,flatShading:!!R.flatShading,sizeAttenuation:R.sizeAttenuation,logarithmicDepthBuffer:c,skinning:B.isSkinnedMesh===!0&&re>0,maxBones:re,useVertexTexture:m,morphTargets:!!B.geometry&&!!B.geometry.morphAttributes.position,morphNormals:!!B.geometry&&!!B.geometry.morphAttributes.normal,morphTargetsCount:!!B.geometry&&!!B.geometry.morphAttributes.position?B.geometry.morphAttributes.position.length:0,numDirLights:D.directional.length,numPointLights:D.point.length,numSpotLights:D.spot.length,numRectAreaLights:D.rectArea.length,numHemiLights:D.hemi.length,numDirLightShadows:D.directionalShadowMap.length,numPointLightShadows:D.pointShadowMap.length,numSpotLightShadows:D.spotShadowMap.length,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,format:R.format,dithering:R.dithering,shadowMapEnabled:n.shadowMap.enabled&&k.length>0,shadowMapType:n.shadowMap.type,toneMapping:R.toneMapped?n.toneMapping:Ha,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:R.premultipliedAlpha,doubleSided:R.side===$c,flipSided:R.side===hr,depthPacking:R.depthPacking!==void 0?R.depthPacking:!1,index0AttributeName:R.index0AttributeName,extensionDerivatives:R.extensions&&R.extensions.derivatives,extensionFragDepth:R.extensions&&R.extensions.fragDepth,extensionDrawBuffers:R.extensions&&R.extensions.drawBuffers,extensionShaderTextureLOD:R.extensions&&R.extensions.shaderTextureLOD,rendererExtensionFragDepth:l||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:l||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:l||r.has("EXT_shader_texture_lod"),customProgramCacheKey:R.customProgramCacheKey()}}function T(R){const D=[];if(R.shaderID?D.push(R.shaderID):(D.push(Pk(R.fragmentShader)),D.push(Pk(R.vertexShader))),R.defines!==void 0)for(const k in R.defines)D.push(k),D.push(R.defines[k]);if(R.isRawShaderMaterial===!1){for(let k=0;k<S.length;k++)D.push(R[S[k]]);D.push(n.outputEncoding),D.push(n.gammaFactor)}return D.push(R.customProgramCacheKey),D.join()}function E(R){const D=y[R.type];let k;if(D){const U=ds[D];k=$k.clone(U.uniforms)}else k=R.uniforms;return k}function C(R,D){let k;for(let U=0,B=a.length;U<B;U++){const $=a[U];if($.cacheKey===D){k=$,++k.usedTimes;break}}return k===void 0&&(k=new PQ(n,D,R,o),a.push(k)),k}function I(R){if(--R.usedTimes==0){const D=a.indexOf(R);a[D]=a[a.length-1],a.pop(),R.destroy()}}return{getParameters:_,getProgramCacheKey:T,getUniforms:E,acquireProgram:C,releaseProgram:I,programs:a}}function LQ(){let n=new WeakMap;function e(o){let s=n.get(o);return s===void 0&&(s={},n.set(o,s)),s}function t(o){n.delete(o)}function r(o,s,a){n.get(o)[s]=a}function i(){n=new WeakMap}return{get:e,remove:t,update:r,dispose:i}}function IQ(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.program!==e.program?n.program.id-e.program.id:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function AN(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function CN(n){const e=[];let t=0;const r=[],i=[],o=[],s={id:-1};function a(){t=0,r.length=0,i.length=0,o.length=0}function l(g,y,S,M,x,_){let T=e[t];const E=n.get(S);return T===void 0?(T={id:g.id,object:g,geometry:y,material:S,program:E.program||s,groupOrder:M,renderOrder:g.renderOrder,z:x,group:_},e[t]=T):(T.id=g.id,T.object=g,T.geometry=y,T.material=S,T.program=E.program||s,T.groupOrder=M,T.renderOrder=g.renderOrder,T.z=x,T.group=_),t++,T}function c(g,y,S,M,x,_){const T=l(g,y,S,M,x,_);S.transmission>0?i.push(T):S.transparent===!0?o.push(T):r.push(T)}function m(g,y,S,M,x,_){const T=l(g,y,S,M,x,_);S.transmission>0?i.unshift(T):S.transparent===!0?o.unshift(T):r.unshift(T)}function v(g,y){r.length>1&&r.sort(g||IQ),i.length>1&&i.sort(y||AN),o.length>1&&o.sort(y||AN)}function p(){for(let g=t,y=e.length;g<y;g++){const S=e[g];if(S.id===null)break;S.id=null,S.object=null,S.geometry=null,S.material=null,S.program=null,S.group=null}}return{opaque:r,transmissive:i,transparent:o,init:a,push:c,unshift:m,finish:p,sort:v}}function DQ(n){let e=new WeakMap;function t(i,o){let s;return e.has(i)===!1?(s=new CN(n),e.set(i,[s])):o>=e.get(i).length?(s=new CN(n),e.get(i).push(s)):s=e.get(i)[o],s}function r(){e=new WeakMap}return{get:t,dispose:r}}function OQ(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new H,color:new Je};break;case"SpotLight":t={position:new H,direction:new H,color:new Je,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new H,color:new Je,distance:0,decay:0};break;case"HemisphereLight":t={direction:new H,skyColor:new Je,groundColor:new Je};break;case"RectAreaLight":t={color:new Je,position:new H,halfWidth:new H,halfHeight:new H};break}return n[e.id]=t,t}}}function FQ(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Oe};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Oe};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Oe,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let kQ=0;function NQ(n,e){return(e.castShadow?1:0)-(n.castShadow?1:0)}function BQ(n,e){const t=new OQ,r=FQ(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let m=0;m<9;m++)i.probe.push(new H);const o=new H,s=new ht,a=new ht;function l(m,v){let p=0,g=0,y=0;for(let k=0;k<9;k++)i.probe[k].set(0,0,0);let S=0,M=0,x=0,_=0,T=0,E=0,C=0,I=0;m.sort(NQ);const R=v!==!0?Math.PI:1;for(let k=0,U=m.length;k<U;k++){const B=m[k],$=B.color,K=B.intensity,ie=B.distance,Q=B.shadow&&B.shadow.map?B.shadow.map.texture:null;if(B.isAmbientLight)p+=$.r*K*R,g+=$.g*K*R,y+=$.b*K*R;else if(B.isLightProbe)for(let re=0;re<9;re++)i.probe[re].addScaledVector(B.sh.coefficients[re],K);else if(B.isDirectionalLight){const re=t.get(B);if(re.color.copy(B.color).multiplyScalar(B.intensity*R),B.castShadow){const ue=B.shadow,Pe=r.get(B);Pe.shadowBias=ue.bias,Pe.shadowNormalBias=ue.normalBias,Pe.shadowRadius=ue.radius,Pe.shadowMapSize=ue.mapSize,i.directionalShadow[S]=Pe,i.directionalShadowMap[S]=Q,i.directionalShadowMatrix[S]=B.shadow.matrix,E++}i.directional[S]=re,S++}else if(B.isSpotLight){const re=t.get(B);if(re.position.setFromMatrixPosition(B.matrixWorld),re.color.copy($).multiplyScalar(K*R),re.distance=ie,re.coneCos=Math.cos(B.angle),re.penumbraCos=Math.cos(B.angle*(1-B.penumbra)),re.decay=B.decay,B.castShadow){const ue=B.shadow,Pe=r.get(B);Pe.shadowBias=ue.bias,Pe.shadowNormalBias=ue.normalBias,Pe.shadowRadius=ue.radius,Pe.shadowMapSize=ue.mapSize,i.spotShadow[x]=Pe,i.spotShadowMap[x]=Q,i.spotShadowMatrix[x]=B.shadow.matrix,I++}i.spot[x]=re,x++}else if(B.isRectAreaLight){const re=t.get(B);re.color.copy($).multiplyScalar(K),re.halfWidth.set(B.width*.5,0,0),re.halfHeight.set(0,B.height*.5,0),i.rectArea[_]=re,_++}else if(B.isPointLight){const re=t.get(B);if(re.color.copy(B.color).multiplyScalar(B.intensity*R),re.distance=B.distance,re.decay=B.decay,B.castShadow){const ue=B.shadow,Pe=r.get(B);Pe.shadowBias=ue.bias,Pe.shadowNormalBias=ue.normalBias,Pe.shadowRadius=ue.radius,Pe.shadowMapSize=ue.mapSize,Pe.shadowCameraNear=ue.camera.near,Pe.shadowCameraFar=ue.camera.far,i.pointShadow[M]=Pe,i.pointShadowMap[M]=Q,i.pointShadowMatrix[M]=B.shadow.matrix,C++}i.point[M]=re,M++}else if(B.isHemisphereLight){const re=t.get(B);re.skyColor.copy(B.color).multiplyScalar(K*R),re.groundColor.copy(B.groundColor).multiplyScalar(K*R),i.hemi[T]=re,T++}}_>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=$e.LTC_FLOAT_1,i.rectAreaLTC2=$e.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=$e.LTC_HALF_1,i.rectAreaLTC2=$e.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=p,i.ambient[1]=g,i.ambient[2]=y;const D=i.hash;(D.directionalLength!==S||D.pointLength!==M||D.spotLength!==x||D.rectAreaLength!==_||D.hemiLength!==T||D.numDirectionalShadows!==E||D.numPointShadows!==C||D.numSpotShadows!==I)&&(i.directional.length=S,i.spot.length=x,i.rectArea.length=_,i.point.length=M,i.hemi.length=T,i.directionalShadow.length=E,i.directionalShadowMap.length=E,i.pointShadow.length=C,i.pointShadowMap.length=C,i.spotShadow.length=I,i.spotShadowMap.length=I,i.directionalShadowMatrix.length=E,i.pointShadowMatrix.length=C,i.spotShadowMatrix.length=I,D.directionalLength=S,D.pointLength=M,D.spotLength=x,D.rectAreaLength=_,D.hemiLength=T,D.numDirectionalShadows=E,D.numPointShadows=C,D.numSpotShadows=I,i.version=kQ++)}function c(m,v){let p=0,g=0,y=0,S=0,M=0;const x=v.matrixWorldInverse;for(let _=0,T=m.length;_<T;_++){const E=m[_];if(E.isDirectionalLight){const C=i.directional[p];C.direction.setFromMatrixPosition(E.matrixWorld),o.setFromMatrixPosition(E.target.matrixWorld),C.direction.sub(o),C.direction.transformDirection(x),p++}else if(E.isSpotLight){const C=i.spot[y];C.position.setFromMatrixPosition(E.matrixWorld),C.position.applyMatrix4(x),C.direction.setFromMatrixPosition(E.matrixWorld),o.setFromMatrixPosition(E.target.matrixWorld),C.direction.sub(o),C.direction.transformDirection(x),y++}else if(E.isRectAreaLight){const C=i.rectArea[S];C.position.setFromMatrixPosition(E.matrixWorld),C.position.applyMatrix4(x),a.identity(),s.copy(E.matrixWorld),s.premultiply(x),a.extractRotation(s),C.halfWidth.set(E.width*.5,0,0),C.halfHeight.set(0,E.height*.5,0),C.halfWidth.applyMatrix4(a),C.halfHeight.applyMatrix4(a),S++}else if(E.isPointLight){const C=i.point[g];C.position.setFromMatrixPosition(E.matrixWorld),C.position.applyMatrix4(x),g++}else if(E.isHemisphereLight){const C=i.hemi[M];C.direction.setFromMatrixPosition(E.matrixWorld),C.direction.transformDirection(x),C.direction.normalize(),M++}}}return{setup:l,setupView:c,state:i}}function PN(n,e){const t=new BQ(n,e),r=[],i=[];function o(){r.length=0,i.length=0}function s(v){r.push(v)}function a(v){i.push(v)}function l(v){t.setup(r,v)}function c(v){t.setupView(r,v)}return{init:o,state:{lightsArray:r,shadowsArray:i,lights:t},setupLights:l,setupLightsView:c,pushLight:s,pushShadow:a}}function zQ(n,e){let t=new WeakMap;function r(o,s=0){let a;return t.has(o)===!1?(a=new PN(n,e),t.set(o,[a])):s>=t.get(o).length?(a=new PN(n,e),t.get(o).push(a)):a=t.get(o)[s],a}function i(){t=new WeakMap}return{get:r,dispose:i}}class cw extends Gr{constructor(e){super();this.type="MeshDepthMaterial",this.depthPacking=wk,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}cw.prototype.isMeshDepthMaterial=!0;class fw extends Gr{constructor(e){super();this.type="MeshDistanceMaterial",this.referencePosition=new H,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}fw.prototype.isMeshDistanceMaterial=!0;const UQ=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,VQ=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function RN(n,e,t){let r=new Pv;const i=new Oe,o=new Oe,s=new _n,a=new cw({depthPacking:Sk}),l=new fw,c={},m=t.maxTextureSize,v={0:hr,1:Yc,2:$c},p=new tl({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Oe},radius:{value:4}},vertexShader:UQ,fragmentShader:VQ}),g=p.clone();g.defines.HORIZONTAL_PASS=1;const y=new gt;y.setAttribute("position",new Wt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const S=new Hn(y,p),M=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=oT,this.render=function(E,C,I){if(M.enabled===!1||M.autoUpdate===!1&&M.needsUpdate===!1||E.length===0)return;const R=n.getRenderTarget(),D=n.getActiveCubeFace(),k=n.getActiveMipmapLevel(),U=n.state;U.setBlending(Va),U.buffers.color.setClear(1,1,1,1),U.buffers.depth.setTest(!0),U.setScissorTest(!1);for(let B=0,$=E.length;B<$;B++){const K=E[B],ie=K.shadow;if(ie===void 0){console.warn("THREE.WebGLShadowMap:",K,"has no shadow.");continue}if(ie.autoUpdate===!1&&ie.needsUpdate===!1)continue;i.copy(ie.mapSize);const Q=ie.getFrameExtents();if(i.multiply(Q),o.copy(ie.mapSize),(i.x>m||i.y>m)&&(i.x>m&&(o.x=Math.floor(m/Q.x),i.x=o.x*Q.x,ie.mapSize.x=o.x),i.y>m&&(o.y=Math.floor(m/Q.y),i.y=o.y*Q.y,ie.mapSize.y=o.y)),ie.map===null&&!ie.isPointLightShadow&&this.type===Lh){const ue={minFilter:Yn,magFilter:Yn,format:ii};ie.map=new ls(i.x,i.y,ue),ie.map.texture.name=K.name+".shadowMap",ie.mapPass=new ls(i.x,i.y,ue),ie.camera.updateProjectionMatrix()}if(ie.map===null){const ue={minFilter:ir,magFilter:ir,format:ii};ie.map=new ls(i.x,i.y,ue),ie.map.texture.name=K.name+".shadowMap",ie.camera.updateProjectionMatrix()}n.setRenderTarget(ie.map),n.clear();const re=ie.getViewportCount();for(let ue=0;ue<re;ue++){const Pe=ie.getViewport(ue);s.set(o.x*Pe.x,o.y*Pe.y,o.x*Pe.z,o.y*Pe.w),U.viewport(s),ie.updateMatrices(K,ue),r=ie.getFrustum(),T(C,I,ie.camera,K,this.type)}!ie.isPointLightShadow&&this.type===Lh&&x(ie,I),ie.needsUpdate=!1}M.needsUpdate=!1,n.setRenderTarget(R,D,k)};function x(E,C){const I=e.update(S);p.defines.VSM_SAMPLES!==E.blurSamples&&(p.defines.VSM_SAMPLES=E.blurSamples,g.defines.VSM_SAMPLES=E.blurSamples,p.needsUpdate=!0,g.needsUpdate=!0),p.uniforms.shadow_pass.value=E.map.texture,p.uniforms.resolution.value=E.mapSize,p.uniforms.radius.value=E.radius,n.setRenderTarget(E.mapPass),n.clear(),n.renderBufferDirect(C,null,I,p,S,null),g.uniforms.shadow_pass.value=E.mapPass.texture,g.uniforms.resolution.value=E.mapSize,g.uniforms.radius.value=E.radius,n.setRenderTarget(E.map),n.clear(),n.renderBufferDirect(C,null,I,g,S,null)}function _(E,C,I,R,D,k,U){let B=null;const $=R.isPointLight===!0?E.customDistanceMaterial:E.customDepthMaterial;if($!==void 0?B=$:B=R.isPointLight===!0?l:a,n.localClippingEnabled&&I.clipShadows===!0&&I.clippingPlanes.length!==0||I.displacementMap&&I.displacementScale!==0||I.alphaMap&&I.alphaTest>0){const K=B.uuid,ie=I.uuid;let Q=c[K];Q===void 0&&(Q={},c[K]=Q);let re=Q[ie];re===void 0&&(re=B.clone(),Q[ie]=re),B=re}return B.visible=I.visible,B.wireframe=I.wireframe,U===Lh?B.side=I.shadowSide!==null?I.shadowSide:I.side:B.side=I.shadowSide!==null?I.shadowSide:v[I.side],B.alphaMap=I.alphaMap,B.alphaTest=I.alphaTest,B.clipShadows=I.clipShadows,B.clippingPlanes=I.clippingPlanes,B.clipIntersection=I.clipIntersection,B.displacementMap=I.displacementMap,B.displacementScale=I.displacementScale,B.displacementBias=I.displacementBias,B.wireframeLinewidth=I.wireframeLinewidth,B.linewidth=I.linewidth,R.isPointLight===!0&&B.isMeshDistanceMaterial===!0&&(B.referencePosition.setFromMatrixPosition(R.matrixWorld),B.nearDistance=D,B.farDistance=k),B}function T(E,C,I,R,D){if(E.visible===!1)return;if(E.layers.test(C.layers)&&(E.isMesh||E.isLine||E.isPoints)&&(E.castShadow||E.receiveShadow&&D===Lh)&&(!E.frustumCulled||r.intersectsObject(E))){E.modelViewMatrix.multiplyMatrices(I.matrixWorldInverse,E.matrixWorld);const B=e.update(E),$=E.material;if(Array.isArray($)){const K=B.groups;for(let ie=0,Q=K.length;ie<Q;ie++){const re=K[ie],ue=$[re.materialIndex];if(ue&&ue.visible){const Pe=_(E,B,ue,R,I.near,I.far,D);n.renderBufferDirect(I,null,B,Pe,E,re)}}}else if($.visible){const K=_(E,B,$,R,I.near,I.far,D);n.renderBufferDirect(I,null,B,K,E,null)}}const U=E.children;for(let B=0,$=U.length;B<$;B++)T(U[B],C,I,R,D)}}function HQ(n,e,t){const r=t.isWebGL2;function i(){let oe=!1;const Xe=new _n;let Ne=null;const ct=new _n(0,0,0,0);return{setMask:function(ot){Ne!==ot&&!oe&&(n.colorMask(ot,ot,ot,ot),Ne=ot)},setLocked:function(ot){oe=ot},setClear:function(ot,ae,Ge,at,It){It===!0&&(ot*=at,ae*=at,Ge*=at),Xe.set(ot,ae,Ge,at),ct.equals(Xe)===!1&&(n.clearColor(ot,ae,Ge,at),ct.copy(Xe))},reset:function(){oe=!1,Ne=null,ct.set(-1,0,0,0)}}}function o(){let oe=!1,Xe=null,Ne=null,ct=null;return{setTest:function(ot){ot?V(2929):j(2929)},setMask:function(ot){Xe!==ot&&!oe&&(n.depthMask(ot),Xe=ot)},setFunc:function(ot){if(Ne!==ot){if(ot)switch(ot){case fF:n.depthFunc(512);break;case dF:n.depthFunc(519);break;case hF:n.depthFunc(513);break;case P_:n.depthFunc(515);break;case pF:n.depthFunc(514);break;case mF:n.depthFunc(518);break;case gF:n.depthFunc(516);break;case vF:n.depthFunc(517);break;default:n.depthFunc(515)}else n.depthFunc(515);Ne=ot}},setLocked:function(ot){oe=ot},setClear:function(ot){ct!==ot&&(n.clearDepth(ot),ct=ot)},reset:function(){oe=!1,Xe=null,Ne=null,ct=null}}}function s(){let oe=!1,Xe=null,Ne=null,ct=null,ot=null,ae=null,Ge=null,at=null,It=null;return{setTest:function(Ot){oe||(Ot?V(2960):j(2960))},setMask:function(Ot){Xe!==Ot&&!oe&&(n.stencilMask(Ot),Xe=Ot)},setFunc:function(Ot,Cn,vr){(Ne!==Ot||ct!==Cn||ot!==vr)&&(n.stencilFunc(Ot,Cn,vr),Ne=Ot,ct=Cn,ot=vr)},setOp:function(Ot,Cn,vr){(ae!==Ot||Ge!==Cn||at!==vr)&&(n.stencilOp(Ot,Cn,vr),ae=Ot,Ge=Cn,at=vr)},setLocked:function(Ot){oe=Ot},setClear:function(Ot){It!==Ot&&(n.clearStencil(Ot),It=Ot)},reset:function(){oe=!1,Xe=null,Ne=null,ct=null,ot=null,ae=null,Ge=null,at=null,It=null}}}const a=new i,l=new o,c=new s;let m={},v=null,p={},g=null,y=!1,S=null,M=null,x=null,_=null,T=null,E=null,C=null,I=!1,R=null,D=null,k=null,U=null,B=null;const $=n.getParameter(35661);let K=!1,ie=0;const Q=n.getParameter(7938);Q.indexOf("WebGL")!==-1?(ie=parseFloat(/^WebGL (\d)/.exec(Q)[1]),K=ie>=1):Q.indexOf("OpenGL ES")!==-1&&(ie=parseFloat(/^OpenGL ES (\d)/.exec(Q)[1]),K=ie>=2);let re=null,ue={};const Pe=n.getParameter(3088),Ue=n.getParameter(2978),Ve=new _n().fromArray(Pe),te=new _n().fromArray(Ue);function me(oe,Xe,Ne){const ct=new Uint8Array(4),ot=n.createTexture();n.bindTexture(oe,ot),n.texParameteri(oe,10241,9728),n.texParameteri(oe,10240,9728);for(let ae=0;ae<Ne;ae++)n.texImage2D(Xe+ae,0,6408,1,1,0,6408,5121,ct);return ot}const J={};J[3553]=me(3553,3553,1),J[34067]=me(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),V(2929),l.setFunc(P_),pe(!1),ve(iT),V(2884),De(Va);function V(oe){m[oe]!==!0&&(n.enable(oe),m[oe]=!0)}function j(oe){m[oe]!==!1&&(n.disable(oe),m[oe]=!1)}function Y(oe){oe!==v&&(n.bindFramebuffer(36160,oe),v=oe)}function de(oe,Xe){return Xe===null&&v!==null&&(Xe=v),p[oe]!==Xe?(n.bindFramebuffer(oe,Xe),p[oe]=Xe,r&&(oe===36009&&(p[36160]=Xe),oe===36160&&(p[36009]=Xe)),!0):!1}function ye(oe){return g!==oe?(n.useProgram(oe),g=oe,!0):!1}const ge={[Zc]:32774,[eF]:32778,[tF]:32779};if(r)ge[fT]=32775,ge[dT]=32776;else{const oe=e.get("EXT_blend_minmax");oe!==null&&(ge[fT]=oe.MIN_EXT,ge[dT]=oe.MAX_EXT)}const be={[nF]:0,[rF]:1,[iF]:768,[hT]:770,[cF]:776,[lF]:774,[sF]:772,[oF]:769,[pT]:771,[uF]:775,[aF]:773};function De(oe,Xe,Ne,ct,ot,ae,Ge,at){if(oe===Va){y===!0&&(j(3042),y=!1);return}if(y===!1&&(V(3042),y=!0),oe!==QO){if(oe!==S||at!==I){if((M!==Zc||T!==Zc)&&(n.blendEquation(32774),M=Zc,T=Zc),at)switch(oe){case Ih:n.blendFuncSeparate(1,771,1,771);break;case lT:n.blendFunc(1,1);break;case uT:n.blendFuncSeparate(0,0,769,771);break;case cT:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",oe);break}else switch(oe){case Ih:n.blendFuncSeparate(770,771,1,771);break;case lT:n.blendFunc(770,1);break;case uT:n.blendFunc(0,769);break;case cT:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",oe);break}x=null,_=null,E=null,C=null,S=oe,I=at}return}ot=ot||Xe,ae=ae||Ne,Ge=Ge||ct,(Xe!==M||ot!==T)&&(n.blendEquationSeparate(ge[Xe],ge[ot]),M=Xe,T=ot),(Ne!==x||ct!==_||ae!==E||Ge!==C)&&(n.blendFuncSeparate(be[Ne],be[ct],be[ae],be[Ge]),x=Ne,_=ct,E=ae,C=Ge),S=oe,I=null}function ee(oe,Xe){oe.side===$c?j(2884):V(2884);let Ne=oe.side===hr;Xe&&(Ne=!Ne),pe(Ne),oe.blending===Ih&&oe.transparent===!1?De(Va):De(oe.blending,oe.blendEquation,oe.blendSrc,oe.blendDst,oe.blendEquationAlpha,oe.blendSrcAlpha,oe.blendDstAlpha,oe.premultipliedAlpha),l.setFunc(oe.depthFunc),l.setTest(oe.depthTest),l.setMask(oe.depthWrite),a.setMask(oe.colorWrite);const ct=oe.stencilWrite;c.setTest(ct),ct&&(c.setMask(oe.stencilWriteMask),c.setFunc(oe.stencilFunc,oe.stencilRef,oe.stencilFuncMask),c.setOp(oe.stencilFail,oe.stencilZFail,oe.stencilZPass)),He(oe.polygonOffset,oe.polygonOffsetFactor,oe.polygonOffsetUnits),oe.alphaToCoverage===!0?V(32926):j(32926)}function pe(oe){R!==oe&&(oe?n.frontFace(2304):n.frontFace(2305),R=oe)}function ve(oe){oe!==ZO?(V(2884),oe!==D&&(oe===iT?n.cullFace(1029):oe===JO?n.cullFace(1028):n.cullFace(1032))):j(2884),D=oe}function Le(oe){oe!==k&&(K&&n.lineWidth(oe),k=oe)}function He(oe,Xe,Ne){oe?(V(32823),(U!==Xe||B!==Ne)&&(n.polygonOffset(Xe,Ne),U=Xe,B=Ne)):j(32823)}function W(oe){oe?V(3089):j(3089)}function G(oe){oe===void 0&&(oe=33984+$-1),re!==oe&&(n.activeTexture(oe),re=oe)}function xe(oe,Xe){re===null&&G();let Ne=ue[re];Ne===void 0&&(Ne={type:void 0,texture:void 0},ue[re]=Ne),(Ne.type!==oe||Ne.texture!==Xe)&&(n.bindTexture(oe,Xe||J[oe]),Ne.type=oe,Ne.texture=Xe)}function Ae(){const oe=ue[re];oe!==void 0&&oe.type!==void 0&&(n.bindTexture(oe.type,null),oe.type=void 0,oe.texture=void 0)}function Te(){try{n.compressedTexImage2D.apply(n,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function We(){try{n.texImage2D.apply(n,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function Ye(){try{n.texImage3D.apply(n,arguments)}catch(oe){console.error("THREE.WebGLState:",oe)}}function et(oe){Ve.equals(oe)===!1&&(n.scissor(oe.x,oe.y,oe.z,oe.w),Ve.copy(oe))}function st(oe){te.equals(oe)===!1&&(n.viewport(oe.x,oe.y,oe.z,oe.w),te.copy(oe))}function it(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),r===!0&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),m={},re=null,ue={},v=null,p={},g=null,y=!1,S=null,M=null,x=null,_=null,T=null,E=null,C=null,I=!1,R=null,D=null,k=null,U=null,B=null,Ve.set(0,0,n.canvas.width,n.canvas.height),te.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:V,disable:j,bindFramebuffer:de,bindXRFramebuffer:Y,useProgram:ye,setBlending:De,setMaterial:ee,setFlipSided:pe,setCullFace:ve,setLineWidth:Le,setPolygonOffset:He,setScissorTest:W,activeTexture:G,bindTexture:xe,unbindTexture:Ae,compressedTexImage2D:Te,texImage2D:We,texImage3D:Ye,scissor:et,viewport:st,reset:it}}function GQ(n,e,t,r,i,o,s){const a=i.isWebGL2,l=i.maxTextures,c=i.maxCubemapSize,m=i.maxTextureSize,v=i.maxSamples,p=new WeakMap;let g,y=!1;try{y=typeof OffscreenCanvas!="undefined"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function S(W,G){return y?new OffscreenCanvas(W,G):z_("canvas")}function M(W,G,xe,Ae){let Te=1;if((W.width>Ae||W.height>Ae)&&(Te=Ae/Math.max(W.width,W.height)),Te<1||G===!0)if(typeof HTMLImageElement!="undefined"&&W instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&W instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&W instanceof ImageBitmap){const We=G?Tk:Math.floor,Ye=We(Te*W.width),et=We(Te*W.height);g===void 0&&(g=S(Ye,et));const st=xe?S(Ye,et):g;return st.width=Ye,st.height=et,st.getContext("2d").drawImage(W,0,0,Ye,et),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+W.width+"x"+W.height+") to ("+Ye+"x"+et+")."),st}else return"data"in W&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+W.width+"x"+W.height+")."),W;return W}function x(W){return DT(W.width)&&DT(W.height)}function _(W){return a?!1:W.wrapS!==Pr||W.wrapT!==Pr||W.minFilter!==ir&&W.minFilter!==Yn}function T(W,G){return W.generateMipmaps&&G&&W.minFilter!==ir&&W.minFilter!==Yn}function E(W,G,xe,Ae,Te=1){n.generateMipmap(W);const We=r.get(G);We.__maxMipLevel=Math.log2(Math.max(xe,Ae,Te))}function C(W,G,xe,Ae){if(a===!1)return G;if(W!==null){if(n[W]!==void 0)return n[W];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+W+"'")}let Te=G;return G===6403&&(xe===5126&&(Te=33326),xe===5131&&(Te=33325),xe===5121&&(Te=33321)),G===6407&&(xe===5126&&(Te=34837),xe===5131&&(Te=34843),xe===5121&&(Te=32849)),G===6408&&(xe===5126&&(Te=34836),xe===5131&&(Te=34842),xe===5121&&(Te=Ae===as?35907:32856)),(Te===33325||Te===33326||Te===34842||Te===34836)&&e.get("EXT_color_buffer_float"),Te}function I(W){return W===ir||W===L_||W===I_?9728:9729}function R(W){const G=W.target;G.removeEventListener("dispose",R),k(G),G.isVideoTexture&&p.delete(G),s.memory.textures--}function D(W){const G=W.target;G.removeEventListener("dispose",D),U(G)}function k(W){const G=r.get(W);G.__webglInit!==void 0&&(n.deleteTexture(G.__webglTexture),r.remove(W))}function U(W){const G=W.texture,xe=r.get(W),Ae=r.get(G);if(!!W){if(Ae.__webglTexture!==void 0&&(n.deleteTexture(Ae.__webglTexture),s.memory.textures--),W.depthTexture&&W.depthTexture.dispose(),W.isWebGLCubeRenderTarget)for(let Te=0;Te<6;Te++)n.deleteFramebuffer(xe.__webglFramebuffer[Te]),xe.__webglDepthbuffer&&n.deleteRenderbuffer(xe.__webglDepthbuffer[Te]);else n.deleteFramebuffer(xe.__webglFramebuffer),xe.__webglDepthbuffer&&n.deleteRenderbuffer(xe.__webglDepthbuffer),xe.__webglMultisampledFramebuffer&&n.deleteFramebuffer(xe.__webglMultisampledFramebuffer),xe.__webglColorRenderbuffer&&n.deleteRenderbuffer(xe.__webglColorRenderbuffer),xe.__webglDepthRenderbuffer&&n.deleteRenderbuffer(xe.__webglDepthRenderbuffer);if(W.isWebGLMultipleRenderTargets)for(let Te=0,We=G.length;Te<We;Te++){const Ye=r.get(G[Te]);Ye.__webglTexture&&(n.deleteTexture(Ye.__webglTexture),s.memory.textures--),r.remove(G[Te])}r.remove(G),r.remove(W)}}let B=0;function $(){B=0}function K(){const W=B;return W>=l&&console.warn("THREE.WebGLTextures: Trying to use "+W+" texture units while this GPU supports only "+l),B+=1,W}function ie(W,G){const xe=r.get(W);if(W.isVideoTexture&&ee(W),W.version>0&&xe.__version!==W.version){const Ae=W.image;if(Ae===void 0)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else if(Ae.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{me(xe,W,G);return}}t.activeTexture(33984+G),t.bindTexture(3553,xe.__webglTexture)}function Q(W,G){const xe=r.get(W);if(W.version>0&&xe.__version!==W.version){me(xe,W,G);return}t.activeTexture(33984+G),t.bindTexture(35866,xe.__webglTexture)}function re(W,G){const xe=r.get(W);if(W.version>0&&xe.__version!==W.version){me(xe,W,G);return}t.activeTexture(33984+G),t.bindTexture(32879,xe.__webglTexture)}function ue(W,G){const xe=r.get(W);if(W.version>0&&xe.__version!==W.version){J(xe,W,G);return}t.activeTexture(33984+G),t.bindTexture(34067,xe.__webglTexture)}const Pe={[Ga]:10497,[Pr]:33071,[ef]:33648},Ue={[ir]:9728,[L_]:9984,[I_]:9986,[Yn]:9729,[gT]:9985,[Wa]:9987};function Ve(W,G,xe){if(xe?(n.texParameteri(W,10242,Pe[G.wrapS]),n.texParameteri(W,10243,Pe[G.wrapT]),(W===32879||W===35866)&&n.texParameteri(W,32882,Pe[G.wrapR]),n.texParameteri(W,10240,Ue[G.magFilter]),n.texParameteri(W,10241,Ue[G.minFilter])):(n.texParameteri(W,10242,33071),n.texParameteri(W,10243,33071),(W===32879||W===35866)&&n.texParameteri(W,32882,33071),(G.wrapS!==Pr||G.wrapT!==Pr)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(W,10240,I(G.magFilter)),n.texParameteri(W,10241,I(G.minFilter)),G.minFilter!==ir&&G.minFilter!==Yn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const Ae=e.get("EXT_texture_filter_anisotropic");if(G.type===zs&&e.has("OES_texture_float_linear")===!1||a===!1&&G.type===tf&&e.has("OES_texture_half_float_linear")===!1)return;(G.anisotropy>1||r.get(G).__currentAnisotropy)&&(n.texParameterf(W,Ae.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(G.anisotropy,i.getMaxAnisotropy())),r.get(G).__currentAnisotropy=G.anisotropy)}}function te(W,G){W.__webglInit===void 0&&(W.__webglInit=!0,G.addEventListener("dispose",R),W.__webglTexture=n.createTexture(),s.memory.textures++)}function me(W,G,xe){let Ae=3553;G.isDataTexture2DArray&&(Ae=35866),G.isDataTexture3D&&(Ae=32879),te(W,G),t.activeTexture(33984+xe),t.bindTexture(Ae,W.__webglTexture),n.pixelStorei(37440,G.flipY),n.pixelStorei(37441,G.premultiplyAlpha),n.pixelStorei(3317,G.unpackAlignment),n.pixelStorei(37443,0);const Te=_(G)&&x(G.image)===!1,We=M(G.image,Te,!1,m),Ye=x(We)||a,et=o.convert(G.format);let st=o.convert(G.type),it=C(G.internalFormat,et,st,G.encoding);Ve(Ae,G,Ye);let oe;const Xe=G.mipmaps;if(G.isDepthTexture)it=6402,a?G.type===zs?it=36012:G.type===xv?it=33190:G.type===Oh?it=35056:it=33189:G.type===zs&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),G.format===rf&&it===6402&&G.type!==yv&&G.type!==xv&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),G.type=yv,st=o.convert(G.type)),G.format===Fh&&it===6402&&(it=34041,G.type!==Oh&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),G.type=Oh,st=o.convert(G.type))),t.texImage2D(3553,0,it,We.width,We.height,0,et,st,null);else if(G.isDataTexture)if(Xe.length>0&&Ye){for(let Ne=0,ct=Xe.length;Ne<ct;Ne++)oe=Xe[Ne],t.texImage2D(3553,Ne,it,oe.width,oe.height,0,et,st,oe.data);G.generateMipmaps=!1,W.__maxMipLevel=Xe.length-1}else t.texImage2D(3553,0,it,We.width,We.height,0,et,st,We.data),W.__maxMipLevel=0;else if(G.isCompressedTexture){for(let Ne=0,ct=Xe.length;Ne<ct;Ne++)oe=Xe[Ne],G.format!==ii&&G.format!==nf?et!==null?t.compressedTexImage2D(3553,Ne,it,oe.width,oe.height,0,oe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):t.texImage2D(3553,Ne,it,oe.width,oe.height,0,et,st,oe.data);W.__maxMipLevel=Xe.length-1}else if(G.isDataTexture2DArray)t.texImage3D(35866,0,it,We.width,We.height,We.depth,0,et,st,We.data),W.__maxMipLevel=0;else if(G.isDataTexture3D)t.texImage3D(32879,0,it,We.width,We.height,We.depth,0,et,st,We.data),W.__maxMipLevel=0;else if(Xe.length>0&&Ye){for(let Ne=0,ct=Xe.length;Ne<ct;Ne++)oe=Xe[Ne],t.texImage2D(3553,Ne,it,et,st,oe);G.generateMipmaps=!1,W.__maxMipLevel=Xe.length-1}else t.texImage2D(3553,0,it,et,st,We),W.__maxMipLevel=0;T(G,Ye)&&E(Ae,G,We.width,We.height),W.__version=G.version,G.onUpdate&&G.onUpdate(G)}function J(W,G,xe){if(G.image.length!==6)return;te(W,G),t.activeTexture(33984+xe),t.bindTexture(34067,W.__webglTexture),n.pixelStorei(37440,G.flipY),n.pixelStorei(37441,G.premultiplyAlpha),n.pixelStorei(3317,G.unpackAlignment),n.pixelStorei(37443,0);const Ae=G&&(G.isCompressedTexture||G.image[0].isCompressedTexture),Te=G.image[0]&&G.image[0].isDataTexture,We=[];for(let Ne=0;Ne<6;Ne++)!Ae&&!Te?We[Ne]=M(G.image[Ne],!1,!0,c):We[Ne]=Te?G.image[Ne].image:G.image[Ne];const Ye=We[0],et=x(Ye)||a,st=o.convert(G.format),it=o.convert(G.type),oe=C(G.internalFormat,st,it,G.encoding);Ve(34067,G,et);let Xe;if(Ae){for(let Ne=0;Ne<6;Ne++){Xe=We[Ne].mipmaps;for(let ct=0;ct<Xe.length;ct++){const ot=Xe[ct];G.format!==ii&&G.format!==nf?st!==null?t.compressedTexImage2D(34069+Ne,ct,oe,ot.width,ot.height,0,ot.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):t.texImage2D(34069+Ne,ct,oe,ot.width,ot.height,0,st,it,ot.data)}}W.__maxMipLevel=Xe.length-1}else{Xe=G.mipmaps;for(let Ne=0;Ne<6;Ne++)if(Te){t.texImage2D(34069+Ne,0,oe,We[Ne].width,We[Ne].height,0,st,it,We[Ne].data);for(let ct=0;ct<Xe.length;ct++){const ae=Xe[ct].image[Ne].image;t.texImage2D(34069+Ne,ct+1,oe,ae.width,ae.height,0,st,it,ae.data)}}else{t.texImage2D(34069+Ne,0,oe,st,it,We[Ne]);for(let ct=0;ct<Xe.length;ct++){const ot=Xe[ct];t.texImage2D(34069+Ne,ct+1,oe,st,it,ot.image[Ne])}}W.__maxMipLevel=Xe.length}T(G,et)&&E(34067,G,Ye.width,Ye.height),W.__version=G.version,G.onUpdate&&G.onUpdate(G)}function V(W,G,xe,Ae,Te){const We=o.convert(xe.format),Ye=o.convert(xe.type),et=C(xe.internalFormat,We,Ye,xe.encoding);Te===32879||Te===35866?t.texImage3D(Te,0,et,G.width,G.height,G.depth,0,We,Ye,null):t.texImage2D(Te,0,et,G.width,G.height,0,We,Ye,null),t.bindFramebuffer(36160,W),n.framebufferTexture2D(36160,Ae,Te,r.get(xe).__webglTexture,0),t.bindFramebuffer(36160,null)}function j(W,G,xe){if(n.bindRenderbuffer(36161,W),G.depthBuffer&&!G.stencilBuffer){let Ae=33189;if(xe){const Te=G.depthTexture;Te&&Te.isDepthTexture&&(Te.type===zs?Ae=36012:Te.type===xv&&(Ae=33190));const We=De(G);n.renderbufferStorageMultisample(36161,We,Ae,G.width,G.height)}else n.renderbufferStorage(36161,Ae,G.width,G.height);n.framebufferRenderbuffer(36160,36096,36161,W)}else if(G.depthBuffer&&G.stencilBuffer){if(xe){const Ae=De(G);n.renderbufferStorageMultisample(36161,Ae,35056,G.width,G.height)}else n.renderbufferStorage(36161,34041,G.width,G.height);n.framebufferRenderbuffer(36160,33306,36161,W)}else{const Ae=G.isWebGLMultipleRenderTargets===!0?G.texture[0]:G.texture,Te=o.convert(Ae.format),We=o.convert(Ae.type),Ye=C(Ae.internalFormat,Te,We,Ae.encoding);if(xe){const et=De(G);n.renderbufferStorageMultisample(36161,et,Ye,G.width,G.height)}else n.renderbufferStorage(36161,Ye,G.width,G.height)}n.bindRenderbuffer(36161,null)}function Y(W,G){if(G&&G.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,W),!(G.depthTexture&&G.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(G.depthTexture).__webglTexture||G.depthTexture.image.width!==G.width||G.depthTexture.image.height!==G.height)&&(G.depthTexture.image.width=G.width,G.depthTexture.image.height=G.height,G.depthTexture.needsUpdate=!0),ie(G.depthTexture,0);const Ae=r.get(G.depthTexture).__webglTexture;if(G.depthTexture.format===rf)n.framebufferTexture2D(36160,36096,3553,Ae,0);else if(G.depthTexture.format===Fh)n.framebufferTexture2D(36160,33306,3553,Ae,0);else throw new Error("Unknown depthTexture format")}function de(W){const G=r.get(W),xe=W.isWebGLCubeRenderTarget===!0;if(W.depthTexture){if(xe)throw new Error("target.depthTexture not supported in Cube render targets");Y(G.__webglFramebuffer,W)}else if(xe){G.__webglDepthbuffer=[];for(let Ae=0;Ae<6;Ae++)t.bindFramebuffer(36160,G.__webglFramebuffer[Ae]),G.__webglDepthbuffer[Ae]=n.createRenderbuffer(),j(G.__webglDepthbuffer[Ae],W,!1)}else t.bindFramebuffer(36160,G.__webglFramebuffer),G.__webglDepthbuffer=n.createRenderbuffer(),j(G.__webglDepthbuffer,W,!1);t.bindFramebuffer(36160,null)}function ye(W){const G=W.texture,xe=r.get(W),Ae=r.get(G);W.addEventListener("dispose",D),W.isWebGLMultipleRenderTargets!==!0&&(Ae.__webglTexture=n.createTexture(),Ae.__version=G.version,s.memory.textures++);const Te=W.isWebGLCubeRenderTarget===!0,We=W.isWebGLMultipleRenderTargets===!0,Ye=W.isWebGLMultisampleRenderTarget===!0,et=G.isDataTexture3D||G.isDataTexture2DArray,st=x(W)||a;if(a&&G.format===nf&&(G.type===zs||G.type===tf)&&(G.format=ii,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),Te){xe.__webglFramebuffer=[];for(let it=0;it<6;it++)xe.__webglFramebuffer[it]=n.createFramebuffer()}else if(xe.__webglFramebuffer=n.createFramebuffer(),We)if(i.drawBuffers){const it=W.texture;for(let oe=0,Xe=it.length;oe<Xe;oe++){const Ne=r.get(it[oe]);Ne.__webglTexture===void 0&&(Ne.__webglTexture=n.createTexture(),s.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(Ye)if(a){xe.__webglMultisampledFramebuffer=n.createFramebuffer(),xe.__webglColorRenderbuffer=n.createRenderbuffer(),n.bindRenderbuffer(36161,xe.__webglColorRenderbuffer);const it=o.convert(G.format),oe=o.convert(G.type),Xe=C(G.internalFormat,it,oe,G.encoding),Ne=De(W);n.renderbufferStorageMultisample(36161,Ne,Xe,W.width,W.height),t.bindFramebuffer(36160,xe.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064,36161,xe.__webglColorRenderbuffer),n.bindRenderbuffer(36161,null),W.depthBuffer&&(xe.__webglDepthRenderbuffer=n.createRenderbuffer(),j(xe.__webglDepthRenderbuffer,W,!0)),t.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(Te){t.bindTexture(34067,Ae.__webglTexture),Ve(34067,G,st);for(let it=0;it<6;it++)V(xe.__webglFramebuffer[it],W,G,36064,34069+it);T(G,st)&&E(34067,G,W.width,W.height),t.unbindTexture()}else if(We){const it=W.texture;for(let oe=0,Xe=it.length;oe<Xe;oe++){const Ne=it[oe],ct=r.get(Ne);t.bindTexture(3553,ct.__webglTexture),Ve(3553,Ne,st),V(xe.__webglFramebuffer,W,Ne,36064+oe,3553),T(Ne,st)&&E(3553,Ne,W.width,W.height)}t.unbindTexture()}else{let it=3553;et&&(a?it=G.isDataTexture3D?32879:35866:console.warn("THREE.DataTexture3D and THREE.DataTexture2DArray only supported with WebGL2.")),t.bindTexture(it,Ae.__webglTexture),Ve(it,G,st),V(xe.__webglFramebuffer,W,G,36064,it),T(G,st)&&E(it,G,W.width,W.height,W.depth),t.unbindTexture()}W.depthBuffer&&de(W)}function ge(W){const G=x(W)||a,xe=W.isWebGLMultipleRenderTargets===!0?W.texture:[W.texture];for(let Ae=0,Te=xe.length;Ae<Te;Ae++){const We=xe[Ae];if(T(We,G)){const Ye=W.isWebGLCubeRenderTarget?34067:3553,et=r.get(We).__webglTexture;t.bindTexture(Ye,et),E(Ye,We,W.width,W.height),t.unbindTexture()}}}function be(W){if(W.isWebGLMultisampleRenderTarget)if(a){const G=W.width,xe=W.height;let Ae=16384;W.depthBuffer&&(Ae|=256),W.stencilBuffer&&(Ae|=1024);const Te=r.get(W);t.bindFramebuffer(36008,Te.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,Te.__webglFramebuffer),n.blitFramebuffer(0,0,G,xe,0,0,G,xe,Ae,9728),t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,Te.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")}function De(W){return a&&W.isWebGLMultisampleRenderTarget?Math.min(v,W.samples):0}function ee(W){const G=s.render.frame;p.get(W)!==G&&(p.set(W,G),W.update())}let pe=!1,ve=!1;function Le(W,G){W&&W.isWebGLRenderTarget&&(pe===!1&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),pe=!0),W=W.texture),ie(W,G)}function He(W,G){W&&W.isWebGLCubeRenderTarget&&(ve===!1&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),ve=!0),W=W.texture),ue(W,G)}this.allocateTextureUnit=K,this.resetTextureUnits=$,this.setTexture2D=ie,this.setTexture2DArray=Q,this.setTexture3D=re,this.setTextureCube=ue,this.setupRenderTarget=ye,this.updateRenderTargetMipmap=ge,this.updateMultisampleRenderTarget=be,this.safeSetTexture2D=Le,this.safeSetTextureCube=He}function LN(n,e,t){const r=t.isWebGL2;function i(o){let s;if(o===ja)return 5121;if(o===AF)return 32819;if(o===CF)return 32820;if(o===PF)return 33635;if(o===MF)return 5120;if(o===EF)return 5122;if(o===yv)return 5123;if(o===TF)return 5124;if(o===xv)return 5125;if(o===zs)return 5126;if(o===tf)return r?5131:(s=e.get("OES_texture_half_float"),s!==null?s.HALF_FLOAT_OES:null);if(o===RF)return 6406;if(o===nf)return 6407;if(o===ii)return 6408;if(o===LF)return 6409;if(o===IF)return 6410;if(o===rf)return 6402;if(o===Fh)return 34041;if(o===OF)return 6403;if(o===FF)return 36244;if(o===kF)return 33319;if(o===NF)return 33320;if(o===BF)return 36248;if(o===zF)return 36249;if(o===vT||o===yT||o===xT||o===_T)if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(o===vT)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(o===yT)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(o===xT)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(o===_T)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(o===wT||o===ST||o===bT||o===MT)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(o===wT)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(o===ST)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(o===bT)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(o===MT)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(o===UF)return s=e.get("WEBGL_compressed_texture_etc1"),s!==null?s.COMPRESSED_RGB_ETC1_WEBGL:null;if((o===ET||o===TT)&&(s=e.get("WEBGL_compressed_texture_etc"),s!==null)){if(o===ET)return s.COMPRESSED_RGB8_ETC2;if(o===TT)return s.COMPRESSED_RGBA8_ETC2_EAC}if(o===VF||o===HF||o===GF||o===WF||o===jF||o===qF||o===XF||o===KF||o===YF||o===$F||o===ZF||o===JF||o===QF||o===ek||o===nk||o===rk||o===ik||o===ok||o===sk||o===ak||o===lk||o===uk||o===ck||o===fk||o===dk||o===hk||o===pk||o===mk)return s=e.get("WEBGL_compressed_texture_astc"),s!==null?o:null;if(o===tk)return s=e.get("EXT_texture_compression_bptc"),s!==null?o:null;if(o===Oh)return r?34042:(s=e.get("WEBGL_depth_texture"),s!==null?s.UNSIGNED_INT_24_8_WEBGL:null)}return{convert:i}}class fA extends Tn{constructor(e=[]){super();this.cameras=e}}fA.prototype.isArrayCamera=!0;class ps extends Jt{constructor(){super();this.type="Group"}}ps.prototype.isGroup=!0;const WQ={type:"move"};class dA{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new ps,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new ps,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new H,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new H),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new ps,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new H,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new H),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,o=null,s=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred")if(a!==null&&(i=t.getPose(e.targetRaySpace,r),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(WQ))),c&&e.hand){s=!0;for(const S of e.hand.values()){const M=t.getJointPose(S,r);if(c.joints[S.jointName]===void 0){const _=new ps;_.matrixAutoUpdate=!1,_.visible=!1,c.joints[S.jointName]=_,c.add(_)}const x=c.joints[S.jointName];M!==null&&(x.matrix.fromArray(M.transform.matrix),x.matrix.decompose(x.position,x.rotation,x.scale),x.jointRadius=M.radius),x.visible=M!==null}const m=c.joints["index-finger-tip"],v=c.joints["thumb-tip"],p=m.position.distanceTo(v.position),g=.02,y=.005;c.inputState.pinching&&p>g+y?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&p<=g-y&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(o=t.getPose(e.gripSpace,r),o!==null&&(l.matrix.fromArray(o.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),o.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(o.linearVelocity)):l.hasLinearVelocity=!1,o.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(o.angularVelocity)):l.hasAngularVelocity=!1));return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=o!==null),c!==null&&(c.visible=s!==null),this}}class jQ extends qa{constructor(e,t){super();const r=this,i=e.state;let o=null,s=1,a=null,l="local-floor",c=null,m=null,v=null,p=null,g=null,y=!1,S=null,M=null,x=null,_=null,T=null,E=null;const C=[],I=new Map,R=new Tn;R.layers.enable(1),R.viewport=new _n;const D=new Tn;D.layers.enable(2),D.viewport=new _n;const k=[R,D],U=new fA;U.layers.enable(1),U.layers.enable(2);let B=null,$=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(J){let V=C[J];return V===void 0&&(V=new dA,C[J]=V),V.getTargetRaySpace()},this.getControllerGrip=function(J){let V=C[J];return V===void 0&&(V=new dA,C[J]=V),V.getGripSpace()},this.getHand=function(J){let V=C[J];return V===void 0&&(V=new dA,C[J]=V),V.getHandSpace()};function K(J){const V=I.get(J.inputSource);V&&V.dispatchEvent({type:J.type,data:J.inputSource})}function ie(){I.forEach(function(J,V){J.disconnect(V)}),I.clear(),B=null,$=null,i.bindXRFramebuffer(null),e.setRenderTarget(e.getRenderTarget()),v&&t.deleteFramebuffer(v),S&&t.deleteFramebuffer(S),M&&t.deleteRenderbuffer(M),x&&t.deleteRenderbuffer(x),v=null,S=null,M=null,x=null,g=null,p=null,m=null,o=null,me.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(J){s=J,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(J){l=J,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return a},this.getBaseLayer=function(){return p!==null?p:g},this.getBinding=function(){return m},this.getFrame=function(){return _},this.getSession=function(){return o},this.setSession=async function(J){if(o=J,o!==null){o.addEventListener("select",K),o.addEventListener("selectstart",K),o.addEventListener("selectend",K),o.addEventListener("squeeze",K),o.addEventListener("squeezestart",K),o.addEventListener("squeezeend",K),o.addEventListener("end",ie),o.addEventListener("inputsourceschange",Q);const V=t.getContextAttributes();if(V.xrCompatible!==!0&&await t.makeXRCompatible(),o.renderState.layers===void 0){const j={antialias:V.antialias,alpha:V.alpha,depth:V.depth,stencil:V.stencil,framebufferScaleFactor:s};g=new XRWebGLLayer(o,t,j),o.updateRenderState({baseLayer:g})}else if(t instanceof WebGLRenderingContext){const j={antialias:!0,alpha:V.alpha,depth:V.depth,stencil:V.stencil,framebufferScaleFactor:s};g=new XRWebGLLayer(o,t,j),o.updateRenderState({layers:[g]})}else{y=V.antialias;let j=null;V.depth&&(E=256,V.stencil&&(E|=1024),T=V.stencil?33306:36096,j=V.stencil?35056:33190);const Y={colorFormat:V.alpha?32856:32849,depthFormat:j,scaleFactor:s};m=new XRWebGLBinding(o,t),p=m.createProjectionLayer(Y),v=t.createFramebuffer(),o.updateRenderState({layers:[p]}),y&&(S=t.createFramebuffer(),M=t.createRenderbuffer(),t.bindRenderbuffer(36161,M),t.renderbufferStorageMultisample(36161,4,32856,p.textureWidth,p.textureHeight),i.bindFramebuffer(36160,S),t.framebufferRenderbuffer(36160,36064,36161,M),t.bindRenderbuffer(36161,null),j!==null&&(x=t.createRenderbuffer(),t.bindRenderbuffer(36161,x),t.renderbufferStorageMultisample(36161,4,j,p.textureWidth,p.textureHeight),t.framebufferRenderbuffer(36160,T,36161,x),t.bindRenderbuffer(36161,null)),i.bindFramebuffer(36160,null))}a=await o.requestReferenceSpace(l),me.setContext(o),me.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}};function Q(J){const V=o.inputSources;for(let j=0;j<C.length;j++)I.set(V[j],C[j]);for(let j=0;j<J.removed.length;j++){const Y=J.removed[j],de=I.get(Y);de&&(de.dispatchEvent({type:"disconnected",data:Y}),I.delete(Y))}for(let j=0;j<J.added.length;j++){const Y=J.added[j],de=I.get(Y);de&&de.dispatchEvent({type:"connected",data:Y})}}const re=new H,ue=new H;function Pe(J,V,j){re.setFromMatrixPosition(V.matrixWorld),ue.setFromMatrixPosition(j.matrixWorld);const Y=re.distanceTo(ue),de=V.projectionMatrix.elements,ye=j.projectionMatrix.elements,ge=de[14]/(de[10]-1),be=de[14]/(de[10]+1),De=(de[9]+1)/de[5],ee=(de[9]-1)/de[5],pe=(de[8]-1)/de[0],ve=(ye[8]+1)/ye[0],Le=ge*pe,He=ge*ve,W=Y/(-pe+ve),G=W*-pe;V.matrixWorld.decompose(J.position,J.quaternion,J.scale),J.translateX(G),J.translateZ(W),J.matrixWorld.compose(J.position,J.quaternion,J.scale),J.matrixWorldInverse.copy(J.matrixWorld).invert();const xe=ge+W,Ae=be+W,Te=Le-G,We=He+(Y-G),Ye=De*be/Ae*xe,et=ee*be/Ae*xe;J.projectionMatrix.makePerspective(Te,We,Ye,et,xe,Ae)}function Ue(J,V){V===null?J.matrixWorld.copy(J.matrix):J.matrixWorld.multiplyMatrices(V.matrixWorld,J.matrix),J.matrixWorldInverse.copy(J.matrixWorld).invert()}this.updateCamera=function(J){if(o===null)return;U.near=D.near=R.near=J.near,U.far=D.far=R.far=J.far,(B!==U.near||$!==U.far)&&(o.updateRenderState({depthNear:U.near,depthFar:U.far}),B=U.near,$=U.far);const V=J.parent,j=U.cameras;Ue(U,V);for(let de=0;de<j.length;de++)Ue(j[de],V);U.matrixWorld.decompose(U.position,U.quaternion,U.scale),J.position.copy(U.position),J.quaternion.copy(U.quaternion),J.scale.copy(U.scale),J.matrix.copy(U.matrix),J.matrixWorld.copy(U.matrixWorld);const Y=J.children;for(let de=0,ye=Y.length;de<ye;de++)Y[de].updateMatrixWorld(!0);j.length===2?Pe(U,R,D):U.projectionMatrix.copy(R.projectionMatrix)},this.getCamera=function(){return U},this.getFoveation=function(){if(p!==null)return p.fixedFoveation;if(g!==null)return g.fixedFoveation},this.setFoveation=function(J){p!==null&&(p.fixedFoveation=J),g!==null&&g.fixedFoveation!==void 0&&(g.fixedFoveation=J)};let Ve=null;function te(J,V){if(c=V.getViewerPose(a),_=V,c!==null){const Y=c.views;g!==null&&i.bindXRFramebuffer(g.framebuffer);let de=!1;Y.length!==U.cameras.length&&(U.cameras.length=0,de=!0);for(let ye=0;ye<Y.length;ye++){const ge=Y[ye];let be=null;if(g!==null)be=g.getViewport(ge);else{const ee=m.getViewSubImage(p,ge);i.bindXRFramebuffer(v),ee.depthStencilTexture!==void 0&&t.framebufferTexture2D(36160,T,3553,ee.depthStencilTexture,0),t.framebufferTexture2D(36160,36064,3553,ee.colorTexture,0),be=ee.viewport}const De=k[ye];De.matrix.fromArray(ge.transform.matrix),De.projectionMatrix.fromArray(ge.projectionMatrix),De.viewport.set(be.x,be.y,be.width,be.height),ye===0&&U.matrix.copy(De.matrix),de===!0&&U.cameras.push(De)}y&&(i.bindXRFramebuffer(S),E!==null&&t.clear(E))}const j=o.inputSources;for(let Y=0;Y<C.length;Y++){const de=C[Y],ye=j[Y];de.update(ye,V,a)}if(Ve&&Ve(J,V),y){const Y=p.textureWidth,de=p.textureHeight;i.bindFramebuffer(36008,S),i.bindFramebuffer(36009,v),t.invalidateFramebuffer(36008,[T]),t.invalidateFramebuffer(36009,[T]),t.blitFramebuffer(0,0,Y,de,0,0,Y,de,16384,9728),t.invalidateFramebuffer(36008,[36064]),i.bindFramebuffer(36008,null),i.bindFramebuffer(36009,null),i.bindFramebuffer(36160,S)}_=null}const me=new Zk;me.setAnimationLoop(te),this.setAnimationLoop=function(J){Ve=J},this.dispose=function(){}}}function qQ(n){function e(x,_){x.fogColor.value.copy(_.color),_.isFog?(x.fogNear.value=_.near,x.fogFar.value=_.far):_.isFogExp2&&(x.fogDensity.value=_.density)}function t(x,_,T,E,C){_.isMeshBasicMaterial?r(x,_):_.isMeshLambertMaterial?(r(x,_),l(x,_)):_.isMeshToonMaterial?(r(x,_),m(x,_)):_.isMeshPhongMaterial?(r(x,_),c(x,_)):_.isMeshStandardMaterial?(r(x,_),_.isMeshPhysicalMaterial?p(x,_,C):v(x,_)):_.isMeshMatcapMaterial?(r(x,_),g(x,_)):_.isMeshDepthMaterial?(r(x,_),y(x,_)):_.isMeshDistanceMaterial?(r(x,_),S(x,_)):_.isMeshNormalMaterial?(r(x,_),M(x,_)):_.isLineBasicMaterial?(i(x,_),_.isLineDashedMaterial&&o(x,_)):_.isPointsMaterial?s(x,_,T,E):_.isSpriteMaterial?a(x,_):_.isShadowMaterial?(x.color.value.copy(_.color),x.opacity.value=_.opacity):_.isShaderMaterial&&(_.uniformsNeedUpdate=!1)}function r(x,_){x.opacity.value=_.opacity,_.color&&x.diffuse.value.copy(_.color),_.emissive&&x.emissive.value.copy(_.emissive).multiplyScalar(_.emissiveIntensity),_.map&&(x.map.value=_.map),_.alphaMap&&(x.alphaMap.value=_.alphaMap),_.specularMap&&(x.specularMap.value=_.specularMap),_.alphaTest>0&&(x.alphaTest.value=_.alphaTest);const T=n.get(_).envMap;if(T){x.envMap.value=T,x.flipEnvMap.value=T.isCubeTexture&&T.isRenderTargetTexture===!1?-1:1,x.reflectivity.value=_.reflectivity,x.ior.value=_.ior,x.refractionRatio.value=_.refractionRatio;const I=n.get(T).__maxMipLevel;I!==void 0&&(x.maxMipLevel.value=I)}_.lightMap&&(x.lightMap.value=_.lightMap,x.lightMapIntensity.value=_.lightMapIntensity),_.aoMap&&(x.aoMap.value=_.aoMap,x.aoMapIntensity.value=_.aoMapIntensity);let E;_.map?E=_.map:_.specularMap?E=_.specularMap:_.displacementMap?E=_.displacementMap:_.normalMap?E=_.normalMap:_.bumpMap?E=_.bumpMap:_.roughnessMap?E=_.roughnessMap:_.metalnessMap?E=_.metalnessMap:_.alphaMap?E=_.alphaMap:_.emissiveMap?E=_.emissiveMap:_.clearcoatMap?E=_.clearcoatMap:_.clearcoatNormalMap?E=_.clearcoatNormalMap:_.clearcoatRoughnessMap?E=_.clearcoatRoughnessMap:_.specularIntensityMap?E=_.specularIntensityMap:_.specularColorMap?E=_.specularColorMap:_.transmissionMap?E=_.transmissionMap:_.thicknessMap?E=_.thicknessMap:_.sheenColorMap?E=_.sheenColorMap:_.sheenRoughnessMap&&(E=_.sheenRoughnessMap),E!==void 0&&(E.isWebGLRenderTarget&&(E=E.texture),E.matrixAutoUpdate===!0&&E.updateMatrix(),x.uvTransform.value.copy(E.matrix));let C;_.aoMap?C=_.aoMap:_.lightMap&&(C=_.lightMap),C!==void 0&&(C.isWebGLRenderTarget&&(C=C.texture),C.matrixAutoUpdate===!0&&C.updateMatrix(),x.uv2Transform.value.copy(C.matrix))}function i(x,_){x.diffuse.value.copy(_.color),x.opacity.value=_.opacity}function o(x,_){x.dashSize.value=_.dashSize,x.totalSize.value=_.dashSize+_.gapSize,x.scale.value=_.scale}function s(x,_,T,E){x.diffuse.value.copy(_.color),x.opacity.value=_.opacity,x.size.value=_.size*T,x.scale.value=E*.5,_.map&&(x.map.value=_.map),_.alphaMap&&(x.alphaMap.value=_.alphaMap),_.alphaTest>0&&(x.alphaTest.value=_.alphaTest);let C;_.map?C=_.map:_.alphaMap&&(C=_.alphaMap),C!==void 0&&(C.matrixAutoUpdate===!0&&C.updateMatrix(),x.uvTransform.value.copy(C.matrix))}function a(x,_){x.diffuse.value.copy(_.color),x.opacity.value=_.opacity,x.rotation.value=_.rotation,_.map&&(x.map.value=_.map),_.alphaMap&&(x.alphaMap.value=_.alphaMap),_.alphaTest>0&&(x.alphaTest.value=_.alphaTest);let T;_.map?T=_.map:_.alphaMap&&(T=_.alphaMap),T!==void 0&&(T.matrixAutoUpdate===!0&&T.updateMatrix(),x.uvTransform.value.copy(T.matrix))}function l(x,_){_.emissiveMap&&(x.emissiveMap.value=_.emissiveMap)}function c(x,_){x.specular.value.copy(_.specular),x.shininess.value=Math.max(_.shininess,1e-4),_.emissiveMap&&(x.emissiveMap.value=_.emissiveMap),_.bumpMap&&(x.bumpMap.value=_.bumpMap,x.bumpScale.value=_.bumpScale,_.side===hr&&(x.bumpScale.value*=-1)),_.normalMap&&(x.normalMap.value=_.normalMap,x.normalScale.value.copy(_.normalScale),_.side===hr&&x.normalScale.value.negate()),_.displacementMap&&(x.displacementMap.value=_.displacementMap,x.displacementScale.value=_.displacementScale,x.displacementBias.value=_.displacementBias)}function m(x,_){_.gradientMap&&(x.gradientMap.value=_.gradientMap),_.emissiveMap&&(x.emissiveMap.value=_.emissiveMap),_.bumpMap&&(x.bumpMap.value=_.bumpMap,x.bumpScale.value=_.bumpScale,_.side===hr&&(x.bumpScale.value*=-1)),_.normalMap&&(x.normalMap.value=_.normalMap,x.normalScale.value.copy(_.normalScale),_.side===hr&&x.normalScale.value.negate()),_.displacementMap&&(x.displacementMap.value=_.displacementMap,x.displacementScale.value=_.displacementScale,x.displacementBias.value=_.displacementBias)}function v(x,_){x.roughness.value=_.roughness,x.metalness.value=_.metalness,_.roughnessMap&&(x.roughnessMap.value=_.roughnessMap),_.metalnessMap&&(x.metalnessMap.value=_.metalnessMap),_.emissiveMap&&(x.emissiveMap.value=_.emissiveMap),_.bumpMap&&(x.bumpMap.value=_.bumpMap,x.bumpScale.value=_.bumpScale,_.side===hr&&(x.bumpScale.value*=-1)),_.normalMap&&(x.normalMap.value=_.normalMap,x.normalScale.value.copy(_.normalScale),_.side===hr&&x.normalScale.value.negate()),_.displacementMap&&(x.displacementMap.value=_.displacementMap,x.displacementScale.value=_.displacementScale,x.displacementBias.value=_.displacementBias),n.get(_).envMap&&(x.envMapIntensity.value=_.envMapIntensity)}function p(x,_,T){v(x,_),x.ior.value=_.ior,_.sheen>0&&(x.sheenColor.value.copy(_.sheenColor).multiplyScalar(_.sheen),x.sheenRoughness.value=_.sheenRoughness,_.sheenColorMap&&(x.sheenColorMap.value=_.sheenColorMap),_.sheenRoughnessMap&&(x.sheenRoughnessMap.value=_.sheenRoughnessMap)),_.clearcoat>0&&(x.clearcoat.value=_.clearcoat,x.clearcoatRoughness.value=_.clearcoatRoughness,_.clearcoatMap&&(x.clearcoatMap.value=_.clearcoatMap),_.clearcoatRoughnessMap&&(x.clearcoatRoughnessMap.value=_.clearcoatRoughnessMap),_.clearcoatNormalMap&&(x.clearcoatNormalScale.value.copy(_.clearcoatNormalScale),x.clearcoatNormalMap.value=_.clearcoatNormalMap,_.side===hr&&x.clearcoatNormalScale.value.negate())),_.transmission>0&&(x.transmission.value=_.transmission,x.transmissionSamplerMap.value=T.texture,x.transmissionSamplerSize.value.set(T.width,T.height),_.transmissionMap&&(x.transmissionMap.value=_.transmissionMap),x.thickness.value=_.thickness,_.thicknessMap&&(x.thicknessMap.value=_.thicknessMap),x.attenuationDistance.value=_.attenuationDistance,x.attenuationColor.value.copy(_.attenuationColor)),x.specularIntensity.value=_.specularIntensity,x.specularColor.value.copy(_.specularColor),_.specularIntensityMap&&(x.specularIntensityMap.value=_.specularIntensityMap),_.specularColorMap&&(x.specularColorMap.value=_.specularColorMap)}function g(x,_){_.matcap&&(x.matcap.value=_.matcap),_.bumpMap&&(x.bumpMap.value=_.bumpMap,x.bumpScale.value=_.bumpScale,_.side===hr&&(x.bumpScale.value*=-1)),_.normalMap&&(x.normalMap.value=_.normalMap,x.normalScale.value.copy(_.normalScale),_.side===hr&&x.normalScale.value.negate()),_.displacementMap&&(x.displacementMap.value=_.displacementMap,x.displacementScale.value=_.displacementScale,x.displacementBias.value=_.displacementBias)}function y(x,_){_.displacementMap&&(x.displacementMap.value=_.displacementMap,x.displacementScale.value=_.displacementScale,x.displacementBias.value=_.displacementBias)}function S(x,_){_.displacementMap&&(x.displacementMap.value=_.displacementMap,x.displacementScale.value=_.displacementScale,x.displacementBias.value=_.displacementBias),x.referencePosition.value.copy(_.referencePosition),x.nearDistance.value=_.nearDistance,x.farDistance.value=_.farDistance}function M(x,_){_.bumpMap&&(x.bumpMap.value=_.bumpMap,x.bumpScale.value=_.bumpScale,_.side===hr&&(x.bumpScale.value*=-1)),_.normalMap&&(x.normalMap.value=_.normalMap,x.normalScale.value.copy(_.normalScale),_.side===hr&&x.normalScale.value.negate()),_.displacementMap&&(x.displacementMap.value=_.displacementMap,x.displacementScale.value=_.displacementScale,x.displacementBias.value=_.displacementBias)}return{refreshFogUniforms:e,refreshMaterialUniforms:t}}function XQ(){const n=z_("canvas");return n.style.display="block",n}function gn(n={}){const e=n.canvas!==void 0?n.canvas:XQ(),t=n.context!==void 0?n.context:null,r=n.alpha!==void 0?n.alpha:!1,i=n.depth!==void 0?n.depth:!0,o=n.stencil!==void 0?n.stencil:!0,s=n.antialias!==void 0?n.antialias:!1,a=n.premultipliedAlpha!==void 0?n.premultipliedAlpha:!0,l=n.preserveDrawingBuffer!==void 0?n.preserveDrawingBuffer:!1,c=n.powerPreference!==void 0?n.powerPreference:"default",m=n.failIfMajorPerformanceCaveat!==void 0?n.failIfMajorPerformanceCaveat:!1;let v=null,p=null;const g=[],y=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=Hr,this.physicallyCorrectLights=!1,this.toneMapping=Ha,this.toneMappingExposure=1;const S=this;let M=!1,x=0,_=0,T=null,E=-1,C=null;const I=new _n,R=new _n;let D=null,k=e.width,U=e.height,B=1,$=null,K=null;const ie=new _n(0,0,k,U),Q=new _n(0,0,k,U);let re=!1;const ue=[],Pe=new Pv;let Ue=!1,Ve=!1,te=null;const me=new ht,J=new H,V={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function j(){return T===null?B:1}let Y=t;function de(X,we){for(let Ie=0;Ie<X.length;Ie++){const Me=X[Ie],Be=e.getContext(Me,we);if(Be!==null)return Be}return null}try{const X={alpha:r,depth:i,stencil:o,antialias:s,premultipliedAlpha:a,preserveDrawingBuffer:l,powerPreference:c,failIfMajorPerformanceCaveat:m};if(e.addEventListener("webglcontextlost",Ge,!1),e.addEventListener("webglcontextrestored",at,!1),Y===null){const we=["webgl2","webgl","experimental-webgl"];if(S.isWebGL1Renderer===!0&&we.shift(),Y=de(we,X),Y===null)throw de(we)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}Y.getShaderPrecisionFormat===void 0&&(Y.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(X){throw console.error("THREE.WebGLRenderer: "+X.message),X}let ye,ge,be,De,ee,pe,ve,Le,He,W,G,xe,Ae,Te,We,Ye,et,st,it,oe,Xe,Ne,ct;function ot(){ye=new vJ(Y),ge=new cJ(Y,ye,n),ye.init(ge),Ne=new LN(Y,ye,ge),be=new HQ(Y,ye,ge),ue[0]=1029,De=new _J(Y),ee=new LQ,pe=new GQ(Y,ye,be,ee,ge,Ne,De),ve=new dJ(S),Le=new gJ(S),He=new OY(Y,ge),ct=new lJ(Y,ye,He,ge),W=new yJ(Y,He,De,ct),G=new MJ(Y,W,He,De),it=new bJ(Y,ge,pe),Ye=new fJ(ee),xe=new RQ(S,ve,Le,ye,ge,ct,Ye),Ae=new qQ(ee),Te=new DQ(ee),We=new zQ(ye,ge),st=new aJ(S,ve,be,G,a),et=new RN(S,G,ge),oe=new uJ(Y,ye,De,ge),Xe=new xJ(Y,ye,De,ge),De.programs=xe.programs,S.capabilities=ge,S.extensions=ye,S.properties=ee,S.renderLists=Te,S.shadowMap=et,S.state=be,S.info=De}ot();const ae=new jQ(S,Y);this.xr=ae,this.getContext=function(){return Y},this.getContextAttributes=function(){return Y.getContextAttributes()},this.forceContextLoss=function(){const X=ye.get("WEBGL_lose_context");X&&X.loseContext()},this.forceContextRestore=function(){const X=ye.get("WEBGL_lose_context");X&&X.restoreContext()},this.getPixelRatio=function(){return B},this.setPixelRatio=function(X){X!==void 0&&(B=X,this.setSize(k,U,!1))},this.getSize=function(X){return X.set(k,U)},this.setSize=function(X,we,Ie){if(ae.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}k=X,U=we,e.width=Math.floor(X*B),e.height=Math.floor(we*B),Ie!==!1&&(e.style.width=X+"px",e.style.height=we+"px"),this.setViewport(0,0,X,we)},this.getDrawingBufferSize=function(X){return X.set(k*B,U*B).floor()},this.setDrawingBufferSize=function(X,we,Ie){k=X,U=we,B=Ie,e.width=Math.floor(X*Ie),e.height=Math.floor(we*Ie),this.setViewport(0,0,X,we)},this.getCurrentViewport=function(X){return X.copy(I)},this.getViewport=function(X){return X.copy(ie)},this.setViewport=function(X,we,Ie,Me){X.isVector4?ie.set(X.x,X.y,X.z,X.w):ie.set(X,we,Ie,Me),be.viewport(I.copy(ie).multiplyScalar(B).floor())},this.getScissor=function(X){return X.copy(Q)},this.setScissor=function(X,we,Ie,Me){X.isVector4?Q.set(X.x,X.y,X.z,X.w):Q.set(X,we,Ie,Me),be.scissor(R.copy(Q).multiplyScalar(B).floor())},this.getScissorTest=function(){return re},this.setScissorTest=function(X){be.setScissorTest(re=X)},this.setOpaqueSort=function(X){$=X},this.setTransparentSort=function(X){K=X},this.getClearColor=function(X){return X.copy(st.getClearColor())},this.setClearColor=function(){st.setClearColor.apply(st,arguments)},this.getClearAlpha=function(){return st.getClearAlpha()},this.setClearAlpha=function(){st.setClearAlpha.apply(st,arguments)},this.clear=function(X,we,Ie){let Me=0;(X===void 0||X)&&(Me|=16384),(we===void 0||we)&&(Me|=256),(Ie===void 0||Ie)&&(Me|=1024),Y.clear(Me)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",Ge,!1),e.removeEventListener("webglcontextrestored",at,!1),Te.dispose(),We.dispose(),ee.dispose(),ve.dispose(),Le.dispose(),G.dispose(),ct.dispose(),ae.dispose(),ae.removeEventListener("sessionstart",qr),ae.removeEventListener("sessionend",Xr),te&&(te.dispose(),te=null),_o.stop()};function Ge(X){X.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),M=!0}function at(){console.log("THREE.WebGLRenderer: Context Restored."),M=!1;const X=De.autoReset,we=et.enabled,Ie=et.autoUpdate,Me=et.needsUpdate,Be=et.type;ot(),De.autoReset=X,et.enabled=we,et.autoUpdate=Ie,et.needsUpdate=Me,et.type=Be}function It(X){const we=X.target;we.removeEventListener("dispose",It),Ot(we)}function Ot(X){Cn(X),ee.remove(X)}function Cn(X){const we=ee.get(X).programs;we!==void 0&&we.forEach(function(Ie){xe.releaseProgram(Ie)})}this.renderBufferDirect=function(X,we,Ie,Me,Be,Et){we===null&&(we=V);const wt=Be.isMesh&&Be.matrixWorld.determinant()<0,yt=kf(X,we,Ie,Me,Be);be.setMaterial(Me,wt);let Bt=Ie.index;const en=Ie.attributes.position;if(Bt===null){if(en===void 0||en.count===0)return}else if(Bt.count===0)return;let Gt=1;Me.wireframe===!0&&(Bt=W.getWireframeAttribute(Ie),Gt=2),ct.setup(Be,Me,yt,Ie,Bt);let jt,dn=oe;Bt!==null&&(jt=He.get(Bt),dn=Xe,dn.setIndex(jt));const no=Bt!==null?Bt.count:en.count,qt=Ie.drawRange.start*Gt,zo=Ie.drawRange.count*Gt,Yt=Et!==null?Et.start*Gt:0,Ir=Et!==null?Et.count*Gt:1/0,Xt=Math.max(qt,Yt),un=Math.min(no,qt+zo,Yt+Ir)-1,Sr=Math.max(0,un-Xt+1);if(Sr!==0){if(Be.isMesh)Me.wireframe===!0?(be.setLineWidth(Me.wireframeLinewidth*j()),dn.setMode(1)):dn.setMode(4);else if(Be.isLine){let zt=Me.linewidth;zt===void 0&&(zt=1),be.setLineWidth(zt*j()),Be.isLineSegments?dn.setMode(1):Be.isLineLoop?dn.setMode(2):dn.setMode(3)}else Be.isPoints?dn.setMode(0):Be.isSprite&&dn.setMode(4);if(Be.isInstancedMesh)dn.renderInstances(Xt,Sr,Be.count);else if(Ie.isInstancedBufferGeometry){const zt=Math.min(Ie.instanceCount,Ie._maxInstanceCount);dn.renderInstances(Xt,Sr,zt)}else dn.render(Xt,Sr)}},this.compile=function(X,we){p=We.get(X),p.init(),y.push(p),X.traverseVisible(function(Ie){Ie.isLight&&Ie.layers.test(we.layers)&&(p.pushLight(Ie),Ie.castShadow&&p.pushShadow(Ie))}),p.setupLights(S.physicallyCorrectLights),X.traverse(function(Ie){const Me=Ie.material;if(Me)if(Array.isArray(Me))for(let Be=0;Be<Me.length;Be++){const Et=Me[Be];ul(Et,X,Ie)}else ul(Me,X,Ie)}),y.pop(),p=null};let vr=null;function al(X){vr&&vr(X)}function qr(){_o.stop()}function Xr(){_o.start()}const _o=new Zk;_o.setAnimationLoop(al),typeof window!="undefined"&&_o.setContext(window),this.setAnimationLoop=function(X){vr=X,ae.setAnimationLoop(X),X===null?_o.stop():_o.start()},ae.addEventListener("sessionstart",qr),ae.addEventListener("sessionend",Xr),this.render=function(X,we){if(we!==void 0&&we.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(M===!0)return;X.autoUpdate===!0&&X.updateMatrixWorld(),we.parent===null&&we.updateMatrixWorld(),ae.enabled===!0&&ae.isPresenting===!0&&(ae.cameraAutoUpdate===!0&&ae.updateCamera(we),we=ae.getCamera()),X.isScene===!0&&X.onBeforeRender(S,X,we,T),p=We.get(X,y.length),p.init(),y.push(p),me.multiplyMatrices(we.projectionMatrix,we.matrixWorldInverse),Pe.setFromProjectionMatrix(me),Ve=this.localClippingEnabled,Ue=Ye.init(this.clippingPlanes,Ve,we),v=Te.get(X,g.length),v.init(),g.push(v),Df(X,we,0,S.sortObjects),v.finish(),S.sortObjects===!0&&v.sort($,K),Ue===!0&&Ye.beginShadows();const Ie=p.state.shadowsArray;if(et.render(Ie,X,we),Ue===!0&&Ye.endShadows(),this.info.autoReset===!0&&this.info.reset(),st.render(v,X),p.setupLights(S.physicallyCorrectLights),we.isArrayCamera){const Me=we.cameras;for(let Be=0,Et=Me.length;Be<Et;Be++){const wt=Me[Be];Of(v,X,wt,wt.viewport)}}else Of(v,X,we);T!==null&&(pe.updateMultisampleRenderTarget(T),pe.updateRenderTargetMipmap(T)),X.isScene===!0&&X.onAfterRender(S,X,we),be.buffers.depth.setTest(!0),be.buffers.depth.setMask(!0),be.buffers.color.setMask(!0),be.setPolygonOffset(!1),ct.resetDefaultState(),E=-1,C=null,y.pop(),y.length>0?p=y[y.length-1]:p=null,g.pop(),g.length>0?v=g[g.length-1]:v=null};function Df(X,we,Ie,Me){if(X.visible===!1)return;if(X.layers.test(we.layers)){if(X.isGroup)Ie=X.renderOrder;else if(X.isLOD)X.autoUpdate===!0&&X.update(we);else if(X.isLight)p.pushLight(X),X.castShadow&&p.pushShadow(X);else if(X.isSprite){if(!X.frustumCulled||Pe.intersectsSprite(X)){Me&&J.setFromMatrixPosition(X.matrixWorld).applyMatrix4(me);const wt=G.update(X),yt=X.material;yt.visible&&v.push(X,wt,yt,Ie,J.z,null)}}else if((X.isMesh||X.isLine||X.isPoints)&&(X.isSkinnedMesh&&X.skeleton.frame!==De.render.frame&&(X.skeleton.update(),X.skeleton.frame=De.render.frame),!X.frustumCulled||Pe.intersectsObject(X))){Me&&J.setFromMatrixPosition(X.matrixWorld).applyMatrix4(me);const wt=G.update(X),yt=X.material;if(Array.isArray(yt)){const Bt=wt.groups;for(let en=0,Gt=Bt.length;en<Gt;en++){const jt=Bt[en],dn=yt[jt.materialIndex];dn&&dn.visible&&v.push(X,wt,dn,Ie,J.z,jt)}}else yt.visible&&v.push(X,wt,yt,Ie,J.z,null)}}const Et=X.children;for(let wt=0,yt=Et.length;wt<yt;wt++)Df(Et[wt],we,Ie,Me)}function Of(X,we,Ie,Me){const Be=X.opaque,Et=X.transmissive,wt=X.transparent;p.setupLightsView(Ie),Et.length>0&&Iu(Be,we,Ie),Me&&be.viewport(I.copy(Me)),Be.length>0&&ll(Be,we,Ie),Et.length>0&&ll(Et,we,Ie),wt.length>0&&ll(wt,we,Ie)}function Iu(X,we,Ie){if(te===null){const wt=s===!0&&ge.isWebGL2===!0?FT:ls;te=new wt(1024,1024,{generateMipmaps:!0,type:Ne.convert(tf)!==null?tf:ja,minFilter:Wa,magFilter:ir,wrapS:Pr,wrapT:Pr})}const Me=S.getRenderTarget();S.setRenderTarget(te),S.clear();const Be=S.toneMapping;S.toneMapping=Ha,ll(X,we,Ie),S.toneMapping=Be,pe.updateMultisampleRenderTarget(te),pe.updateRenderTargetMipmap(te),S.setRenderTarget(Me)}function ll(X,we,Ie){const Me=we.isScene===!0?we.overrideMaterial:null;for(let Be=0,Et=X.length;Be<Et;Be++){const wt=X[Be],yt=wt.object,Bt=wt.geometry,en=Me===null?wt.material:Me,Gt=wt.group;yt.layers.test(Ie.layers)&&Du(yt,we,Ie,Bt,en,Gt)}}function Du(X,we,Ie,Me,Be,Et){X.onBeforeRender(S,we,Ie,Me,Be,Et),X.modelViewMatrix.multiplyMatrices(Ie.matrixWorldInverse,X.matrixWorld),X.normalMatrix.getNormalMatrix(X.modelViewMatrix),Be.onBeforeRender(S,we,Ie,Me,X,Et),Be.transparent===!0&&Be.side===$c?(Be.side=hr,Be.needsUpdate=!0,S.renderBufferDirect(Ie,we,Me,Be,X,Et),Be.side=Yc,Be.needsUpdate=!0,S.renderBufferDirect(Ie,we,Me,Be,X,Et),Be.side=$c):S.renderBufferDirect(Ie,we,Me,Be,X,Et),X.onAfterRender(S,we,Ie,Me,Be,Et)}function ul(X,we,Ie){we.isScene!==!0&&(we=V);const Me=ee.get(X),Be=p.state.lights,Et=p.state.shadowsArray,wt=Be.state.version,yt=xe.getParameters(X,Be.state,Et,we,Ie),Bt=xe.getProgramCacheKey(yt);let en=Me.programs;Me.environment=X.isMeshStandardMaterial?we.environment:null,Me.fog=we.fog,Me.envMap=(X.isMeshStandardMaterial?Le:ve).get(X.envMap||Me.environment),en===void 0&&(X.addEventListener("dispose",It),en=new Map,Me.programs=en);let Gt=en.get(Bt);if(Gt!==void 0){if(Me.currentProgram===Gt&&Me.lightsStateVersion===wt)return Ff(X,yt),Gt}else yt.uniforms=xe.getUniforms(X),X.onBuild(Ie,yt,S),X.onBeforeCompile(yt,S),Gt=xe.acquireProgram(yt,Bt),en.set(Bt,Gt),Me.uniforms=yt.uniforms;const jt=Me.uniforms;(!X.isShaderMaterial&&!X.isRawShaderMaterial||X.clipping===!0)&&(jt.clippingPlanes=Ye.uniform),Ff(X,yt),Me.needsLights=Nf(X),Me.lightsStateVersion=wt,Me.needsLights&&(jt.ambientLightColor.value=Be.state.ambient,jt.lightProbe.value=Be.state.probe,jt.directionalLights.value=Be.state.directional,jt.directionalLightShadows.value=Be.state.directionalShadow,jt.spotLights.value=Be.state.spot,jt.spotLightShadows.value=Be.state.spotShadow,jt.rectAreaLights.value=Be.state.rectArea,jt.ltc_1.value=Be.state.rectAreaLTC1,jt.ltc_2.value=Be.state.rectAreaLTC2,jt.pointLights.value=Be.state.point,jt.pointLightShadows.value=Be.state.pointShadow,jt.hemisphereLights.value=Be.state.hemi,jt.directionalShadowMap.value=Be.state.directionalShadowMap,jt.directionalShadowMatrix.value=Be.state.directionalShadowMatrix,jt.spotShadowMap.value=Be.state.spotShadowMap,jt.spotShadowMatrix.value=Be.state.spotShadowMatrix,jt.pointShadowMap.value=Be.state.pointShadowMap,jt.pointShadowMatrix.value=Be.state.pointShadowMatrix);const dn=Gt.getUniforms(),no=xu.seqWithValue(dn.seq,jt);return Me.currentProgram=Gt,Me.uniformsList=no,Gt}function Ff(X,we){const Ie=ee.get(X);Ie.outputEncoding=we.outputEncoding,Ie.instancing=we.instancing,Ie.skinning=we.skinning,Ie.morphTargets=we.morphTargets,Ie.morphNormals=we.morphNormals,Ie.morphTargetsCount=we.morphTargetsCount,Ie.numClippingPlanes=we.numClippingPlanes,Ie.numIntersection=we.numClipIntersection,Ie.vertexAlphas=we.vertexAlphas,Ie.vertexTangents=we.vertexTangents}function kf(X,we,Ie,Me,Be){we.isScene!==!0&&(we=V),pe.resetTextureUnits();const Et=we.fog,wt=Me.isMeshStandardMaterial?we.environment:null,yt=T===null?S.outputEncoding:T.texture.encoding,Bt=(Me.isMeshStandardMaterial?Le:ve).get(Me.envMap||wt),en=Me.vertexColors===!0&&!!Ie.attributes.color&&Ie.attributes.color.itemSize===4,Gt=!!Me.normalMap&&!!Ie.attributes.tangent,jt=!!Ie.morphAttributes.position,dn=!!Ie.morphAttributes.normal,no=Ie.morphAttributes.position?Ie.morphAttributes.position.length:0,qt=ee.get(Me),zo=p.state.lights;if(Ue===!0&&(Ve===!0||X!==C)){const Zn=X===C&&Me.id===E;Ye.setState(Me,X,Zn)}let Yt=!1;Me.version===qt.__version?(qt.needsLights&&qt.lightsStateVersion!==zo.state.version||qt.outputEncoding!==yt||Be.isInstancedMesh&&qt.instancing===!1||!Be.isInstancedMesh&&qt.instancing===!0||Be.isSkinnedMesh&&qt.skinning===!1||!Be.isSkinnedMesh&&qt.skinning===!0||qt.envMap!==Bt||Me.fog&&qt.fog!==Et||qt.numClippingPlanes!==void 0&&(qt.numClippingPlanes!==Ye.numPlanes||qt.numIntersection!==Ye.numIntersection)||qt.vertexAlphas!==en||qt.vertexTangents!==Gt||qt.morphTargets!==jt||qt.morphNormals!==dn||ge.isWebGL2===!0&&qt.morphTargetsCount!==no)&&(Yt=!0):(Yt=!0,qt.__version=Me.version);let Ir=qt.currentProgram;Yt===!0&&(Ir=ul(Me,we,Be));let Xt=!1,un=!1,Sr=!1;const zt=Ir.getUniforms(),Wn=qt.uniforms;if(be.useProgram(Ir.program)&&(Xt=!0,un=!0,Sr=!0),Me.id!==E&&(E=Me.id,un=!0),Xt||C!==X){if(zt.setValue(Y,"projectionMatrix",X.projectionMatrix),ge.logarithmicDepthBuffer&&zt.setValue(Y,"logDepthBufFC",2/(Math.log(X.far+1)/Math.LN2)),C!==X&&(C=X,un=!0,Sr=!0),Me.isShaderMaterial||Me.isMeshPhongMaterial||Me.isMeshToonMaterial||Me.isMeshStandardMaterial||Me.envMap){const Zn=zt.map.cameraPosition;Zn!==void 0&&Zn.setValue(Y,J.setFromMatrixPosition(X.matrixWorld))}(Me.isMeshPhongMaterial||Me.isMeshToonMaterial||Me.isMeshLambertMaterial||Me.isMeshBasicMaterial||Me.isMeshStandardMaterial||Me.isShaderMaterial)&&zt.setValue(Y,"isOrthographic",X.isOrthographicCamera===!0),(Me.isMeshPhongMaterial||Me.isMeshToonMaterial||Me.isMeshLambertMaterial||Me.isMeshBasicMaterial||Me.isMeshStandardMaterial||Me.isShaderMaterial||Me.isShadowMaterial||Be.isSkinnedMesh)&&zt.setValue(Y,"viewMatrix",X.matrixWorldInverse)}if(Be.isSkinnedMesh){zt.setOptional(Y,Be,"bindMatrix"),zt.setOptional(Y,Be,"bindMatrixInverse");const Zn=Be.skeleton;Zn&&(ge.floatVertexTextures?(Zn.boneTexture===null&&Zn.computeBoneTexture(),zt.setValue(Y,"boneTexture",Zn.boneTexture,pe),zt.setValue(Y,"boneTextureSize",Zn.boneTextureSize)):zt.setOptional(Y,Zn,"boneMatrices"))}return!!Ie&&(Ie.morphAttributes.position!==void 0||Ie.morphAttributes.normal!==void 0)&&it.update(Be,Ie,Me,Ir),(un||qt.receiveShadow!==Be.receiveShadow)&&(qt.receiveShadow=Be.receiveShadow,zt.setValue(Y,"receiveShadow",Be.receiveShadow)),un&&(zt.setValue(Y,"toneMappingExposure",S.toneMappingExposure),qt.needsLights&&cl(Wn,Sr),Et&&Me.fog&&Ae.refreshFogUniforms(Wn,Et),Ae.refreshMaterialUniforms(Wn,Me,B,U,te),xu.upload(Y,qt.uniformsList,Wn,pe)),Me.isShaderMaterial&&Me.uniformsNeedUpdate===!0&&(xu.upload(Y,qt.uniformsList,Wn,pe),Me.uniformsNeedUpdate=!1),Me.isSpriteMaterial&&zt.setValue(Y,"center",Be.center),zt.setValue(Y,"modelViewMatrix",Be.modelViewMatrix),zt.setValue(Y,"normalMatrix",Be.normalMatrix),zt.setValue(Y,"modelMatrix",Be.matrixWorld),Ir}function cl(X,we){X.ambientLightColor.needsUpdate=we,X.lightProbe.needsUpdate=we,X.directionalLights.needsUpdate=we,X.directionalLightShadows.needsUpdate=we,X.pointLights.needsUpdate=we,X.pointLightShadows.needsUpdate=we,X.spotLights.needsUpdate=we,X.spotLightShadows.needsUpdate=we,X.rectAreaLights.needsUpdate=we,X.hemisphereLights.needsUpdate=we}function Nf(X){return X.isMeshLambertMaterial||X.isMeshToonMaterial||X.isMeshPhongMaterial||X.isMeshStandardMaterial||X.isShadowMaterial||X.isShaderMaterial&&X.lights===!0}this.getActiveCubeFace=function(){return x},this.getActiveMipmapLevel=function(){return _},this.getRenderTarget=function(){return T},this.setRenderTarget=function(X,we=0,Ie=0){T=X,x=we,_=Ie,X&&ee.get(X).__webglFramebuffer===void 0&&pe.setupRenderTarget(X);let Me=null,Be=!1,Et=!1;if(X){const yt=X.texture;(yt.isDataTexture3D||yt.isDataTexture2DArray)&&(Et=!0);const Bt=ee.get(X).__webglFramebuffer;X.isWebGLCubeRenderTarget?(Me=Bt[we],Be=!0):X.isWebGLMultisampleRenderTarget?Me=ee.get(X).__webglMultisampledFramebuffer:Me=Bt,I.copy(X.viewport),R.copy(X.scissor),D=X.scissorTest}else I.copy(ie).multiplyScalar(B).floor(),R.copy(Q).multiplyScalar(B).floor(),D=re;if(be.bindFramebuffer(36160,Me)&&ge.drawBuffers){let yt=!1;if(X)if(X.isWebGLMultipleRenderTargets){const Bt=X.texture;if(ue.length!==Bt.length||ue[0]!==36064){for(let en=0,Gt=Bt.length;en<Gt;en++)ue[en]=36064+en;ue.length=Bt.length,yt=!0}}else(ue.length!==1||ue[0]!==36064)&&(ue[0]=36064,ue.length=1,yt=!0);else(ue.length!==1||ue[0]!==1029)&&(ue[0]=1029,ue.length=1,yt=!0);yt&&(ge.isWebGL2?Y.drawBuffers(ue):ye.get("WEBGL_draw_buffers").drawBuffersWEBGL(ue))}if(be.viewport(I),be.scissor(R),be.setScissorTest(D),Be){const yt=ee.get(X.texture);Y.framebufferTexture2D(36160,36064,34069+we,yt.__webglTexture,Ie)}else if(Et){const yt=ee.get(X.texture),Bt=we||0;Y.framebufferTextureLayer(36160,36064,yt.__webglTexture,Ie||0,Bt)}E=-1},this.readRenderTargetPixels=function(X,we,Ie,Me,Be,Et,wt){if(!(X&&X.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let yt=ee.get(X).__webglFramebuffer;if(X.isWebGLCubeRenderTarget&&wt!==void 0&&(yt=yt[wt]),yt){be.bindFramebuffer(36160,yt);try{const Bt=X.texture,en=Bt.format,Gt=Bt.type;if(en!==ii&&Ne.convert(en)!==Y.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const jt=Gt===tf&&(ye.has("EXT_color_buffer_half_float")||ge.isWebGL2&&ye.has("EXT_color_buffer_float"));if(Gt!==ja&&Ne.convert(Gt)!==Y.getParameter(35738)&&!(Gt===zs&&(ge.isWebGL2||ye.has("OES_texture_float")||ye.has("WEBGL_color_buffer_float")))&&!jt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Y.checkFramebufferStatus(36160)===36053?we>=0&&we<=X.width-Me&&Ie>=0&&Ie<=X.height-Be&&Y.readPixels(we,Ie,Me,Be,Ne.convert(en),Ne.convert(Gt),Et):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{const Bt=T!==null?ee.get(T).__webglFramebuffer:null;be.bindFramebuffer(36160,Bt)}}},this.copyFramebufferToTexture=function(X,we,Ie=0){const Me=Math.pow(2,-Ie),Be=Math.floor(we.image.width*Me),Et=Math.floor(we.image.height*Me);let wt=Ne.convert(we.format);ge.isWebGL2&&(wt===6407&&(wt=32849),wt===6408&&(wt=32856)),pe.setTexture2D(we,0),Y.copyTexImage2D(3553,Ie,wt,X.x,X.y,Be,Et,0),be.unbindTexture()},this.copyTextureToTexture=function(X,we,Ie,Me=0){const Be=we.image.width,Et=we.image.height,wt=Ne.convert(Ie.format),yt=Ne.convert(Ie.type);pe.setTexture2D(Ie,0),Y.pixelStorei(37440,Ie.flipY),Y.pixelStorei(37441,Ie.premultiplyAlpha),Y.pixelStorei(3317,Ie.unpackAlignment),we.isDataTexture?Y.texSubImage2D(3553,Me,X.x,X.y,Be,Et,wt,yt,we.image.data):we.isCompressedTexture?Y.compressedTexSubImage2D(3553,Me,X.x,X.y,we.mipmaps[0].width,we.mipmaps[0].height,wt,we.mipmaps[0].data):Y.texSubImage2D(3553,Me,X.x,X.y,wt,yt,we.image),Me===0&&Ie.generateMipmaps&&Y.generateMipmap(3553),be.unbindTexture()},this.copyTextureToTexture3D=function(X,we,Ie,Me,Be=0){if(S.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const Et=X.max.x-X.min.x+1,wt=X.max.y-X.min.y+1,yt=X.max.z-X.min.z+1,Bt=Ne.convert(Me.format),en=Ne.convert(Me.type);let Gt;if(Me.isDataTexture3D)pe.setTexture3D(Me,0),Gt=32879;else if(Me.isDataTexture2DArray)pe.setTexture2DArray(Me,0),Gt=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Y.pixelStorei(37440,Me.flipY),Y.pixelStorei(37441,Me.premultiplyAlpha),Y.pixelStorei(3317,Me.unpackAlignment);const jt=Y.getParameter(3314),dn=Y.getParameter(32878),no=Y.getParameter(3316),qt=Y.getParameter(3315),zo=Y.getParameter(32877),Yt=Ie.isCompressedTexture?Ie.mipmaps[0]:Ie.image;Y.pixelStorei(3314,Yt.width),Y.pixelStorei(32878,Yt.height),Y.pixelStorei(3316,X.min.x),Y.pixelStorei(3315,X.min.y),Y.pixelStorei(32877,X.min.z),Ie.isDataTexture||Ie.isDataTexture3D?Y.texSubImage3D(Gt,Be,we.x,we.y,we.z,Et,wt,yt,Bt,en,Yt.data):Ie.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Y.compressedTexSubImage3D(Gt,Be,we.x,we.y,we.z,Et,wt,yt,Bt,Yt.data)):Y.texSubImage3D(Gt,Be,we.x,we.y,we.z,Et,wt,yt,Bt,en,Yt),Y.pixelStorei(3314,jt),Y.pixelStorei(32878,dn),Y.pixelStorei(3316,no),Y.pixelStorei(3315,qt),Y.pixelStorei(32877,zo),Be===0&&Me.generateMipmaps&&Y.generateMipmap(Gt),be.unbindTexture()},this.initTexture=function(X){pe.setTexture2D(X,0),be.unbindTexture()},this.resetState=function(){x=0,_=0,T=null,be.reset(),ct.reset()},typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}gn.prototype.isWebGLRenderer=!0;class IN extends gn{}IN.prototype.isWebGL1Renderer=!0;class Iv{constructor(e,t=25e-5){this.name="",this.color=new Je(e),this.density=t}clone(){return new Iv(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}Iv.prototype.isFogExp2=!0;class Dv{constructor(e,t=1,r=1e3){this.name="",this.color=new Je(e),this.near=t,this.far=r}clone(){return new Dv(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}Dv.prototype.isFog=!0;class Ov extends Jt{constructor(){super();this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),t}}Ov.prototype.isScene=!0;class gf{constructor(e,t){this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=kh,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=ho()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,o=this.stride;i<o;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ho()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ho()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}gf.prototype.isInterleavedBuffer=!0;const mr=new H;class _u{constructor(e,t,r,i=!1){this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)mr.x=this.getX(t),mr.y=this.getY(t),mr.z=this.getZ(t),mr.applyMatrix4(e),this.setXYZ(t,mr.x,mr.y,mr.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)mr.x=this.getX(t),mr.y=this.getY(t),mr.z=this.getZ(t),mr.applyNormalMatrix(e),this.setXYZ(t,mr.x,mr.y,mr.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)mr.x=this.getX(t),mr.y=this.getY(t),mr.z=this.getZ(t),mr.transformDirection(e),this.setXYZ(t,mr.x,mr.y,mr.z);return this}setX(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){return this.data.array[e*this.data.stride+this.offset]}getY(e){return this.data.array[e*this.data.stride+this.offset+1]}getZ(e){return this.data.array[e*this.data.stride+this.offset+2]}getW(e){return this.data.array[e*this.data.stride+this.offset+3]}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,o){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=o,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)t.push(this.data.array[i+o])}return new Wt(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new _u(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)t.push(this.data.array[i+o])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}_u.prototype.isInterleavedBufferAttribute=!0;class dw extends Gr{constructor(e){super();this.type="SpriteMaterial",this.color=new Je(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this}}dw.prototype.isSpriteMaterial=!0;let sp;const Fv=new H,ap=new H,lp=new H,up=new Oe,kv=new Oe,DN=new ht,hw=new H,Nv=new H,pw=new H,ON=new Oe,hA=new Oe,FN=new Oe;class mw extends Jt{constructor(e){super();if(this.type="Sprite",sp===void 0){sp=new gt;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new gf(t,5);sp.setIndex([0,1,2,0,2,3]),sp.setAttribute("position",new _u(r,3,0,!1)),sp.setAttribute("uv",new _u(r,2,3,!1))}this.geometry=sp,this.material=e!==void 0?e:new dw,this.center=new Oe(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),ap.setFromMatrixScale(this.matrixWorld),DN.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),lp.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&ap.multiplyScalar(-lp.z);const r=this.material.rotation;let i,o;r!==0&&(o=Math.cos(r),i=Math.sin(r));const s=this.center;gw(hw.set(-.5,-.5,0),lp,s,ap,i,o),gw(Nv.set(.5,-.5,0),lp,s,ap,i,o),gw(pw.set(.5,.5,0),lp,s,ap,i,o),ON.set(0,0),hA.set(1,0),FN.set(1,1);let a=e.ray.intersectTriangle(hw,Nv,pw,!1,Fv);if(a===null&&(gw(Nv.set(-.5,.5,0),lp,s,ap,i,o),hA.set(0,1),a=e.ray.intersectTriangle(hw,pw,Nv,!1,Fv),a===null))return;const l=e.ray.origin.distanceTo(Fv);l<e.near||l>e.far||t.push({distance:l,point:Fv.clone(),uv:pr.getUV(Fv,hw,Nv,pw,ON,hA,FN,new Oe),face:null,object:this})}copy(e){return super.copy(e),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}mw.prototype.isSprite=!0;function gw(n,e,t,r,i,o){up.subVectors(n,t).addScalar(.5).multiply(r),i!==void 0?(kv.x=o*up.x-i*up.y,kv.y=i*up.x+o*up.y):kv.copy(up),n.copy(e),n.x+=kv.x,n.y+=kv.y,n.applyMatrix4(DN)}const vw=new H,kN=new H;class NN extends Jt{constructor(){super();this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,i=t.length;r<i;r++){const o=t[r];this.addLevel(o.object.clone(),o.distance)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0){t=Math.abs(t);const r=this.levels;let i;for(i=0;i<r.length&&!(t<r[i].distance);i++);return r.splice(i,0,{distance:t,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,i;for(r=1,i=t.length;r<i&&!(e<t[r].distance);r++);return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){vw.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(vw);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){vw.setFromMatrixPosition(e.matrixWorld),kN.setFromMatrixPosition(this.matrixWorld);const r=vw.distanceTo(kN)/e.zoom;t[0].object.visible=!0;let i,o;for(i=1,o=t.length;i<o&&r>=t[i].distance;i++)t[i-1].object.visible=!1,t[i].object.visible=!0;for(this._currentLevel=i-1;i<o;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let i=0,o=r.length;i<o;i++){const s=r[i];t.object.levels.push({object:s.object.uuid,distance:s.distance})}return t}}const BN=new H,zN=new _n,UN=new _n,KQ=new H,VN=new ht;class yw extends Hn{constructor(e,t){super(e,t);this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new ht,this.bindMatrixInverse=new ht}copy(e){return super.copy(e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new _n,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.x=t.getX(r),e.y=t.getY(r),e.z=t.getZ(r),e.w=t.getW(r);const o=1/e.manhattanLength();o!==1/0?e.multiplyScalar(o):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const r=this.skeleton,i=this.geometry;zN.fromBufferAttribute(i.attributes.skinIndex,e),UN.fromBufferAttribute(i.attributes.skinWeight,e),BN.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let o=0;o<4;o++){const s=UN.getComponent(o);if(s!==0){const a=zN.getComponent(o);VN.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),t.addScaledVector(KQ.copy(BN).applyMatrix4(VN),s)}}return t.applyMatrix4(this.bindMatrixInverse)}}yw.prototype.isSkinnedMesh=!0;class xw extends Jt{constructor(){super();this.type="Bone"}}xw.prototype.isBone=!0;class vf extends _r{constructor(e=null,t=1,r=1,i,o,s,a,l,c=ir,m=ir,v,p){super(null,s,a,l,c,m,i,o,v,p);this.image={data:e,width:t,height:r},this.magFilter=c,this.minFilter=m,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}vf.prototype.isDataTexture=!0;const HN=new ht,YQ=new ht;class _w{constructor(e=[],t=[]){this.uuid=ho(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new ht)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new ht;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let o=0,s=e.length;o<s;o++){const a=e[o]?e[o].matrixWorld:YQ;HN.multiplyMatrices(a,t[o]),HN.toArray(r,o*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new _w(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Ek(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new vf(t,e,e,ii,zs);return this.boneMatrices=t,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const o=e.bones[r];let s=t[o];s===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",o),s=new xw),this.bones.push(s),this.boneInverses.push(new ht().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let i=0,o=t.length;i<o;i++){const s=t[i];e.bones.push(s.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class yf extends Wt{constructor(e,t,r,i=1){typeof r=="number"&&(i=r,r=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument."));super(e,t,r);this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}yf.prototype.isInstancedBufferAttribute=!0;const GN=new ht,WN=new ht,ww=[],Bv=new Hn;class pA extends Hn{constructor(e,t,r){super(e,t);this.instanceMatrix=new yf(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.frustumCulled=!1}copy(e){return super.copy(e),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const r=this.matrixWorld,i=this.count;if(Bv.geometry=this.geometry,Bv.material=this.material,Bv.material!==void 0)for(let o=0;o<i;o++){this.getMatrixAt(o,GN),WN.multiplyMatrices(r,GN),Bv.matrixWorld=WN,Bv.raycast(e,ww);for(let s=0,a=ww.length;s<a;s++){const l=ww[s];l.instanceId=o,l.object=this,t.push(l)}ww.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new yf(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}pA.prototype.isInstancedMesh=!0;class wr extends Gr{constructor(e){super();this.type="LineBasicMaterial",this.color=new Je(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this}}wr.prototype.isLineBasicMaterial=!0;const jN=new H,qN=new H,XN=new ht,mA=new fu,Sw=new Ka;class nl extends Jt{constructor(e=new gt,t=new wr){super();this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const t=e.attributes.position,r=[0];for(let i=1,o=t.count;i<o;i++)jN.fromBufferAttribute(t,i-1),qN.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=jN.distanceTo(qN);e.setAttribute("lineDistance",new rt(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,o=e.params.Line.threshold,s=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Sw.copy(r.boundingSphere),Sw.applyMatrix4(i),Sw.radius+=o,e.ray.intersectsSphere(Sw)===!1)return;XN.copy(i).invert(),mA.copy(e.ray).applyMatrix4(XN);const a=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new H,m=new H,v=new H,p=new H,g=this.isLineSegments?2:1;if(r.isBufferGeometry){const y=r.index,M=r.attributes.position;if(y!==null){const x=Math.max(0,s.start),_=Math.min(y.count,s.start+s.count);for(let T=x,E=_-1;T<E;T+=g){const C=y.getX(T),I=y.getX(T+1);if(c.fromBufferAttribute(M,C),m.fromBufferAttribute(M,I),mA.distanceSqToSegment(c,m,p,v)>l)continue;p.applyMatrix4(this.matrixWorld);const D=e.ray.origin.distanceTo(p);D<e.near||D>e.far||t.push({distance:D,point:v.clone().applyMatrix4(this.matrixWorld),index:T,face:null,faceIndex:null,object:this})}}else{const x=Math.max(0,s.start),_=Math.min(M.count,s.start+s.count);for(let T=x,E=_-1;T<E;T+=g){if(c.fromBufferAttribute(M,T),m.fromBufferAttribute(M,T+1),mA.distanceSqToSegment(c,m,p,v)>l)continue;p.applyMatrix4(this.matrixWorld);const I=e.ray.origin.distanceTo(p);I<e.near||I>e.far||t.push({distance:I,point:v.clone().applyMatrix4(this.matrixWorld),index:T,face:null,faceIndex:null,object:this})}}}else r.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=i.length;o<s;o++){const a=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}nl.prototype.isLine=!0;const KN=new H,YN=new H;class Bi extends nl{constructor(e,t){super(e,t);this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const t=e.attributes.position,r=[];for(let i=0,o=t.count;i<o;i+=2)KN.fromBufferAttribute(t,i),YN.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+KN.distanceTo(YN);e.setAttribute("lineDistance",new rt(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}Bi.prototype.isLineSegments=!0;class gA extends nl{constructor(e,t){super(e,t);this.type="LineLoop"}}gA.prototype.isLineLoop=!0;class xf extends Gr{constructor(e){super();this.type="PointsMaterial",this.color=new Je(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this}}xf.prototype.isPointsMaterial=!0;const $N=new ht,vA=new fu,bw=new Ka,Mw=new H;class zv extends Jt{constructor(e=new gt,t=new xf){super();this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,o=e.params.Points.threshold,s=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),bw.copy(r.boundingSphere),bw.applyMatrix4(i),bw.radius+=o,e.ray.intersectsSphere(bw)===!1)return;$N.copy(i).invert(),vA.copy(e.ray).applyMatrix4($N);const a=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a;if(r.isBufferGeometry){const c=r.index,v=r.attributes.position;if(c!==null){const p=Math.max(0,s.start),g=Math.min(c.count,s.start+s.count);for(let y=p,S=g;y<S;y++){const M=c.getX(y);Mw.fromBufferAttribute(v,M),ZN(Mw,M,l,i,e,t,this)}}else{const p=Math.max(0,s.start),g=Math.min(v.count,s.start+s.count);for(let y=p,S=g;y<S;y++)Mw.fromBufferAttribute(v,y),ZN(Mw,y,l,i,e,t,this)}}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=i.length;o<s;o++){const a=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}zv.prototype.isPoints=!0;function ZN(n,e,t,r,i,o,s){const a=vA.distanceSqToPoint(n);if(a<t){const l=new H;vA.closestPointToPoint(n,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;o.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:s})}}class JN extends _r{constructor(e,t,r,i,o,s,a,l,c){super(e,t,r,i,o,s,a,l,c);this.format=a!==void 0?a:nf,this.minFilter=s!==void 0?s:Yn,this.magFilter=o!==void 0?o:Yn,this.generateMipmaps=!1;const m=this;function v(){m.needsUpdate=!0,e.requestVideoFrameCallback(v)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(v)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}JN.prototype.isVideoTexture=!0;class yA extends _r{constructor(e,t,r,i,o,s,a,l,c,m,v,p){super(null,s,a,l,c,m,i,o,v,p);this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}yA.prototype.isCompressedTexture=!0;class QN extends _r{constructor(e,t,r,i,o,s,a,l,c){super(e,t,r,i,o,s,a,l,c);this.needsUpdate=!0}}QN.prototype.isCanvasTexture=!0;class eB extends _r{constructor(e,t,r,i,o,s,a,l,c,m){if(m=m!==void 0?m:rf,m!==rf&&m!==Fh)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&m===rf&&(r=yv),r===void 0&&m===Fh&&(r=Oh);super(null,i,o,s,a,l,m,r,c);this.image={width:e,height:t},this.magFilter=a!==void 0?a:ir,this.minFilter=l!==void 0?l:ir,this.flipY=!1,this.generateMipmaps=!1}}eB.prototype.isDepthTexture=!0;class cp extends gt{constructor(e=1,t=8,r=0,i=Math.PI*2){super();this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},t=Math.max(3,t);const o=[],s=[],a=[],l=[],c=new H,m=new Oe;s.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let v=0,p=3;v<=t;v++,p+=3){const g=r+v/t*i;c.x=e*Math.cos(g),c.y=e*Math.sin(g),s.push(c.x,c.y,c.z),a.push(0,0,1),m.x=(s[p]/e+1)/2,m.y=(s[p+1]/e+1)/2,l.push(m.x,m.y)}for(let v=1;v<=t;v++)o.push(v,v+1,0);this.setIndex(o),this.setAttribute("position",new rt(s,3)),this.setAttribute("normal",new rt(a,3)),this.setAttribute("uv",new rt(l,2))}static fromJSON(e){return new cp(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class wu extends gt{constructor(e=1,t=1,r=1,i=8,o=1,s=!1,a=0,l=Math.PI*2){super();this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:o,openEnded:s,thetaStart:a,thetaLength:l};const c=this;i=Math.floor(i),o=Math.floor(o);const m=[],v=[],p=[],g=[];let y=0;const S=[],M=r/2;let x=0;_(),s===!1&&(e>0&&T(!0),t>0&&T(!1)),this.setIndex(m),this.setAttribute("position",new rt(v,3)),this.setAttribute("normal",new rt(p,3)),this.setAttribute("uv",new rt(g,2));function _(){const E=new H,C=new H;let I=0;const R=(t-e)/r;for(let D=0;D<=o;D++){const k=[],U=D/o,B=U*(t-e)+e;for(let $=0;$<=i;$++){const K=$/i,ie=K*l+a,Q=Math.sin(ie),re=Math.cos(ie);C.x=B*Q,C.y=-U*r+M,C.z=B*re,v.push(C.x,C.y,C.z),E.set(Q,R,re).normalize(),p.push(E.x,E.y,E.z),g.push(K,1-U),k.push(y++)}S.push(k)}for(let D=0;D<i;D++)for(let k=0;k<o;k++){const U=S[k][D],B=S[k+1][D],$=S[k+1][D+1],K=S[k][D+1];m.push(U,B,K),m.push(B,$,K),I+=6}c.addGroup(x,I,0),x+=I}function T(E){const C=y,I=new Oe,R=new H;let D=0;const k=E===!0?e:t,U=E===!0?1:-1;for(let $=1;$<=i;$++)v.push(0,M*U,0),p.push(0,U,0),g.push(.5,.5),y++;const B=y;for(let $=0;$<=i;$++){const ie=$/i*l+a,Q=Math.cos(ie),re=Math.sin(ie);R.x=k*re,R.y=M*U,R.z=k*Q,v.push(R.x,R.y,R.z),p.push(0,U,0),I.x=Q*.5+.5,I.y=re*.5*U+.5,g.push(I.x,I.y),y++}for(let $=0;$<i;$++){const K=C+$,ie=B+$;E===!0?m.push(ie,ie+1,K):m.push(ie+1,ie,K),D+=3}c.addGroup(x,D,E===!0?1:2),x+=D}}static fromJSON(e){return new wu(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class fp extends wu{constructor(e=1,t=1,r=8,i=1,o=!1,s=0,a=Math.PI*2){super(0,e,t,r,i,o,s,a);this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:s,thetaLength:a}}static fromJSON(e){return new fp(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Hs extends gt{constructor(e=[],t=[],r=1,i=0){super();this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};const o=[],s=[];a(i),c(r),m(),this.setAttribute("position",new rt(o,3)),this.setAttribute("normal",new rt(o.slice(),3)),this.setAttribute("uv",new rt(s,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(_){const T=new H,E=new H,C=new H;for(let I=0;I<t.length;I+=3)g(t[I+0],T),g(t[I+1],E),g(t[I+2],C),l(T,E,C,_)}function l(_,T,E,C){const I=C+1,R=[];for(let D=0;D<=I;D++){R[D]=[];const k=_.clone().lerp(E,D/I),U=T.clone().lerp(E,D/I),B=I-D;for(let $=0;$<=B;$++)$===0&&D===I?R[D][$]=k:R[D][$]=k.clone().lerp(U,$/B)}for(let D=0;D<I;D++)for(let k=0;k<2*(I-D)-1;k++){const U=Math.floor(k/2);k%2==0?(p(R[D][U+1]),p(R[D+1][U]),p(R[D][U])):(p(R[D][U+1]),p(R[D+1][U+1]),p(R[D+1][U]))}}function c(_){const T=new H;for(let E=0;E<o.length;E+=3)T.x=o[E+0],T.y=o[E+1],T.z=o[E+2],T.normalize().multiplyScalar(_),o[E+0]=T.x,o[E+1]=T.y,o[E+2]=T.z}function m(){const _=new H;for(let T=0;T<o.length;T+=3){_.x=o[T+0],_.y=o[T+1],_.z=o[T+2];const E=M(_)/2/Math.PI+.5,C=x(_)/Math.PI+.5;s.push(E,1-C)}y(),v()}function v(){for(let _=0;_<s.length;_+=6){const T=s[_+0],E=s[_+2],C=s[_+4],I=Math.max(T,E,C),R=Math.min(T,E,C);I>.9&&R<.1&&(T<.2&&(s[_+0]+=1),E<.2&&(s[_+2]+=1),C<.2&&(s[_+4]+=1))}}function p(_){o.push(_.x,_.y,_.z)}function g(_,T){const E=_*3;T.x=e[E+0],T.y=e[E+1],T.z=e[E+2]}function y(){const _=new H,T=new H,E=new H,C=new H,I=new Oe,R=new Oe,D=new Oe;for(let k=0,U=0;k<o.length;k+=9,U+=6){_.set(o[k+0],o[k+1],o[k+2]),T.set(o[k+3],o[k+4],o[k+5]),E.set(o[k+6],o[k+7],o[k+8]),I.set(s[U+0],s[U+1]),R.set(s[U+2],s[U+3]),D.set(s[U+4],s[U+5]),C.copy(_).add(T).add(E).divideScalar(3);const B=M(C);S(I,U+0,_,B),S(R,U+2,T,B),S(D,U+4,E,B)}}function S(_,T,E,C){C<0&&_.x===1&&(s[T]=_.x-1),E.x===0&&E.z===0&&(s[T]=C/2/Math.PI+.5)}function M(_){return Math.atan2(_.z,-_.x)}function x(_){return Math.atan2(-_.y,Math.sqrt(_.x*_.x+_.z*_.z))}}static fromJSON(e){return new Hs(e.vertices,e.indices,e.radius,e.details)}}class dp extends Hs{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=1/r,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],s=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(o,s,e,t);this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new dp(e.radius,e.detail)}}const Ew=new H,Tw=new H,xA=new H,Aw=new pr;class _A extends gt{constructor(e=null,t=1){super();if(this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),o=Math.cos(lf*t),s=e.getIndex(),a=e.getAttribute("position"),l=s?s.count:a.count,c=[0,0,0],m=["a","b","c"],v=new Array(3),p={},g=[];for(let y=0;y<l;y+=3){s?(c[0]=s.getX(y),c[1]=s.getX(y+1),c[2]=s.getX(y+2)):(c[0]=y,c[1]=y+1,c[2]=y+2);const{a:S,b:M,c:x}=Aw;if(S.fromBufferAttribute(a,c[0]),M.fromBufferAttribute(a,c[1]),x.fromBufferAttribute(a,c[2]),Aw.getNormal(xA),v[0]=`${Math.round(S.x*i)},${Math.round(S.y*i)},${Math.round(S.z*i)}`,v[1]=`${Math.round(M.x*i)},${Math.round(M.y*i)},${Math.round(M.z*i)}`,v[2]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,!(v[0]===v[1]||v[1]===v[2]||v[2]===v[0]))for(let _=0;_<3;_++){const T=(_+1)%3,E=v[_],C=v[T],I=Aw[m[_]],R=Aw[m[T]],D=`${E}_${C}`,k=`${C}_${E}`;k in p&&p[k]?(xA.dot(p[k].normal)<=o&&(g.push(I.x,I.y,I.z),g.push(R.x,R.y,R.z)),p[k]=null):D in p||(p[D]={index0:c[_],index1:c[T],normal:xA.clone()})}}for(const y in p)if(p[y]){const{index0:S,index1:M}=p[y];Ew.fromBufferAttribute(a,S),Tw.fromBufferAttribute(a,M),g.push(Ew.x,Ew.y,Ew.z),g.push(Tw.x,Tw.y,Tw.z)}this.setAttribute("position",new rt(g,3))}}}class go{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,i=this.getPoint(0),o=0;t.push(0);for(let s=1;s<=e;s++)r=this.getPoint(s/e),o+=r.distanceTo(i),t.push(o),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const r=this.getLengths();let i=0;const o=r.length;let s;t?s=t:s=e*r[o-1];let a=0,l=o-1,c;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),c=r[i]-s,c<0)a=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===s)return i/(o-1);const m=r[i],p=r[i+1]-m,g=(s-m)/p;return(i+g)/(o-1)}getTangent(e,t){const r=1e-4;let i=e-r,o=e+r;i<0&&(i=0),o>1&&(o=1);const s=this.getPoint(i),a=this.getPoint(o),l=t||(s.isVector2?new Oe:new H);return l.copy(a).sub(s).normalize(),l}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t){const r=new H,i=[],o=[],s=[],a=new H,l=new ht;for(let g=0;g<=e;g++){const y=g/e;i[g]=this.getTangentAt(y,new H)}o[0]=new H,s[0]=new H;let c=Number.MAX_VALUE;const m=Math.abs(i[0].x),v=Math.abs(i[0].y),p=Math.abs(i[0].z);m<=c&&(c=m,r.set(1,0,0)),v<=c&&(c=v,r.set(0,1,0)),p<=c&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),o[0].crossVectors(i[0],a),s[0].crossVectors(i[0],o[0]);for(let g=1;g<=e;g++){if(o[g]=o[g-1].clone(),s[g]=s[g-1].clone(),a.crossVectors(i[g-1],i[g]),a.length()>Number.EPSILON){a.normalize();const y=Math.acos(si(i[g-1].dot(i[g]),-1,1));o[g].applyMatrix4(l.makeRotationAxis(a,y))}s[g].crossVectors(i[g],o[g])}if(t===!0){let g=Math.acos(si(o[0].dot(o[e]),-1,1));g/=e,i[0].dot(a.crossVectors(o[0],o[e]))>0&&(g=-g);for(let y=1;y<=e;y++)o[y].applyMatrix4(l.makeRotationAxis(i[y],g*y)),s[y].crossVectors(i[y],o[y])}return{tangents:i,normals:o,binormals:s}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Uv extends go{constructor(e=0,t=0,r=1,i=1,o=0,s=Math.PI*2,a=!1,l=0){super();this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=o,this.aEndAngle=s,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const r=t||new Oe,i=Math.PI*2;let o=this.aEndAngle-this.aStartAngle;const s=Math.abs(o)<Number.EPSILON;for(;o<0;)o+=i;for(;o>i;)o-=i;o<Number.EPSILON&&(s?o=0:o=i),this.aClockwise===!0&&!s&&(o===i?o=-i:o=o-i);const a=this.aStartAngle+e*o;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const m=Math.cos(this.aRotation),v=Math.sin(this.aRotation),p=l-this.aX,g=c-this.aY;l=p*m-g*v+this.aX,c=p*v+g*m+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}Uv.prototype.isEllipseCurve=!0;class wA extends Uv{constructor(e,t,r,i,o,s){super(e,t,r,r,i,o,s);this.type="ArcCurve"}}wA.prototype.isArcCurve=!0;function SA(){let n=0,e=0,t=0,r=0;function i(o,s,a,l){n=o,e=a,t=-3*o+3*s-2*a-l,r=2*o-2*s+a+l}return{initCatmullRom:function(o,s,a,l,c){i(s,a,c*(a-o),c*(l-s))},initNonuniformCatmullRom:function(o,s,a,l,c,m,v){let p=(s-o)/c-(a-o)/(c+m)+(a-s)/m,g=(a-s)/m-(l-s)/(m+v)+(l-a)/v;p*=m,g*=m,i(s,a,p,g)},calc:function(o){const s=o*o,a=s*o;return n+e*o+t*s+r*a}}}const Cw=new H,bA=new SA,MA=new SA,EA=new SA;class TA extends go{constructor(e=[],t=!1,r="centripetal",i=.5){super();this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new H){const r=t,i=this.points,o=i.length,s=(o-(this.closed?0:1))*e;let a=Math.floor(s),l=s-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/o)+1)*o:l===0&&a===o-1&&(a=o-2,l=1);let c,m;this.closed||a>0?c=i[(a-1)%o]:(Cw.subVectors(i[0],i[1]).add(i[0]),c=Cw);const v=i[a%o],p=i[(a+1)%o];if(this.closed||a+2<o?m=i[(a+2)%o]:(Cw.subVectors(i[o-1],i[o-2]).add(i[o-1]),m=Cw),this.curveType==="centripetal"||this.curveType==="chordal"){const g=this.curveType==="chordal"?.5:.25;let y=Math.pow(c.distanceToSquared(v),g),S=Math.pow(v.distanceToSquared(p),g),M=Math.pow(p.distanceToSquared(m),g);S<1e-4&&(S=1),y<1e-4&&(y=S),M<1e-4&&(M=S),bA.initNonuniformCatmullRom(c.x,v.x,p.x,m.x,y,S,M),MA.initNonuniformCatmullRom(c.y,v.y,p.y,m.y,y,S,M),EA.initNonuniformCatmullRom(c.z,v.z,p.z,m.z,y,S,M)}else this.curveType==="catmullrom"&&(bA.initCatmullRom(c.x,v.x,p.x,m.x,this.tension),MA.initCatmullRom(c.y,v.y,p.y,m.y,this.tension),EA.initCatmullRom(c.z,v.z,p.z,m.z,this.tension));return r.set(bA.calc(l),MA.calc(l),EA.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new H().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}TA.prototype.isCatmullRomCurve3=!0;function tB(n,e,t,r,i){const o=(r-e)*.5,s=(i-t)*.5,a=n*n,l=n*a;return(2*t-2*r+o+s)*l+(-3*t+3*r-2*o-s)*a+o*n+t}function $Q(n,e){const t=1-n;return t*t*e}function ZQ(n,e){return 2*(1-n)*n*e}function JQ(n,e){return n*n*e}function Vv(n,e,t,r){return $Q(n,e)+ZQ(n,t)+JQ(n,r)}function QQ(n,e){const t=1-n;return t*t*t*e}function eee(n,e){const t=1-n;return 3*t*t*n*e}function tee(n,e){return 3*(1-n)*n*n*e}function nee(n,e){return n*n*n*e}function Hv(n,e,t,r,i){return QQ(n,e)+eee(n,t)+tee(n,r)+nee(n,i)}class Pw extends go{constructor(e=new Oe,t=new Oe,r=new Oe,i=new Oe){super();this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new Oe){const r=t,i=this.v0,o=this.v1,s=this.v2,a=this.v3;return r.set(Hv(e,i.x,o.x,s.x,a.x),Hv(e,i.y,o.y,s.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}Pw.prototype.isCubicBezierCurve=!0;class AA extends go{constructor(e=new H,t=new H,r=new H,i=new H){super();this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new H){const r=t,i=this.v0,o=this.v1,s=this.v2,a=this.v3;return r.set(Hv(e,i.x,o.x,s.x,a.x),Hv(e,i.y,o.y,s.y,a.y),Hv(e,i.z,o.z,s.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}AA.prototype.isCubicBezierCurve3=!0;class Gv extends go{constructor(e=new Oe,t=new Oe){super();this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Oe){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const r=t||new Oe;return r.copy(this.v2).sub(this.v1).normalize(),r}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}Gv.prototype.isLineCurve=!0;class nB extends go{constructor(e=new H,t=new H){super();this.type="LineCurve3",this.isLineCurve3=!0,this.v1=e,this.v2=t}getPoint(e,t=new H){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Rw extends go{constructor(e=new Oe,t=new Oe,r=new Oe){super();this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new Oe){const r=t,i=this.v0,o=this.v1,s=this.v2;return r.set(Vv(e,i.x,o.x,s.x),Vv(e,i.y,o.y,s.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}Rw.prototype.isQuadraticBezierCurve=!0;class Lw extends go{constructor(e=new H,t=new H,r=new H){super();this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new H){const r=t,i=this.v0,o=this.v1,s=this.v2;return r.set(Vv(e,i.x,o.x,s.x),Vv(e,i.y,o.y,s.y),Vv(e,i.z,o.z,s.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}Lw.prototype.isQuadraticBezierCurve3=!0;class Iw extends go{constructor(e=[]){super();this.type="SplineCurve",this.points=e}getPoint(e,t=new Oe){const r=t,i=this.points,o=(i.length-1)*e,s=Math.floor(o),a=o-s,l=i[s===0?s:s-1],c=i[s],m=i[s>i.length-2?i.length-1:s+1],v=i[s>i.length-3?i.length-1:s+2];return r.set(tB(a,l.x,c.x,m.x,v.x),tB(a,l.y,c.y,m.y,v.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new Oe().fromArray(i))}return this}}Iw.prototype.isSplineCurve=!0;var CA=Object.freeze({__proto__:null,ArcCurve:wA,CatmullRomCurve3:TA,CubicBezierCurve:Pw,CubicBezierCurve3:AA,EllipseCurve:Uv,LineCurve:Gv,LineCurve3:nB,QuadraticBezierCurve:Rw,QuadraticBezierCurve3:Lw,SplineCurve:Iw});class rB extends go{constructor(){super();this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Gv(t,e))}getPoint(e,t){const r=e*this.getLength(),i=this.getCurveLengths();let o=0;for(;o<i.length;){if(i[o]>=r){const s=i[o]-r,a=this.curves[o],l=a.getLength(),c=l===0?0:1-s/l;return a.getPointAt(c,t)}o++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let i=0,o=this.curves;i<o.length;i++){const s=o[i],a=s&&s.isEllipseCurve?e*2:s&&(s.isLineCurve||s.isLineCurve3)?1:s&&s.isSplineCurve?e*s.points.length:e,l=s.getPoints(a);for(let c=0;c<l.length;c++){const m=l[c];r&&r.equals(m)||(t.push(m),r=m)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(new CA[i.type]().fromJSON(i))}return this}}class Wv extends rB{constructor(e){super();this.type="Path",this.currentPoint=new Oe,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new Gv(this.currentPoint.clone(),new Oe(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){const o=new Rw(this.currentPoint.clone(),new Oe(e,t),new Oe(r,i));return this.curves.push(o),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,o,s){const a=new Pw(this.currentPoint.clone(),new Oe(e,t),new Oe(r,i),new Oe(o,s));return this.curves.push(a),this.currentPoint.set(o,s),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new Iw(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,o,s){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,r,i,o,s),this}absarc(e,t,r,i,o,s){return this.absellipse(e,t,r,r,i,o,s),this}ellipse(e,t,r,i,o,s,a,l){const c=this.currentPoint.x,m=this.currentPoint.y;return this.absellipse(e+c,t+m,r,i,o,s,a,l),this}absellipse(e,t,r,i,o,s,a,l){const c=new Uv(e,t,r,i,o,s,a,l);if(this.curves.length>0){const v=c.getPoint(0);v.equals(this.currentPoint)||this.lineTo(v.x,v.y)}this.curves.push(c);const m=c.getPoint(1);return this.currentPoint.copy(m),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Gs extends Wv{constructor(e){super(e);this.uuid=ho(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(new Wv().fromJSON(i))}return this}}const ree={triangulate:function(n,e,t=2){const r=e&&e.length,i=r?e[0]*t:n.length;let o=iB(n,0,i,t,!0);const s=[];if(!o||o.next===o.prev)return s;let a,l,c,m,v,p,g;if(r&&(o=lee(n,e,o,t)),n.length>80*t){a=c=n[0],l=m=n[1];for(let y=t;y<i;y+=t)v=n[y],p=n[y+1],v<a&&(a=v),p<l&&(l=p),v>c&&(c=v),p>m&&(m=p);g=Math.max(c-a,m-l),g=g!==0?1/g:0}return jv(o,s,t,a,l,g),s}};function iB(n,e,t,r,i){let o,s;if(i===xee(n,e,t,r)>0)for(o=e;o<t;o+=r)s=aB(o,n[o],n[o+1],s);else for(o=t-r;o>=e;o-=r)s=aB(o,n[o],n[o+1],s);return s&&Dw(s,s.next)&&(Xv(s),s=s.next),s}function Su(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(Dw(t,t.next)||$n(t.prev,t,t.next)===0)){if(Xv(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function jv(n,e,t,r,i,o,s){if(!n)return;!s&&o&&hee(n,r,i,o);let a=n,l,c;for(;n.prev!==n.next;){if(l=n.prev,c=n.next,o?oee(n,r,i,o):iee(n)){e.push(l.i/t),e.push(n.i/t),e.push(c.i/t),Xv(n),n=c.next,a=c.next;continue}if(n=c,n===a){s?s===1?(n=see(Su(n),e,t),jv(n,e,t,r,i,o,2)):s===2&&aee(n,e,t,r,i,o):jv(Su(n),e,t,r,i,o,1);break}}}function iee(n){const e=n.prev,t=n,r=n.next;if($n(e,t,r)>=0)return!1;let i=n.next.next;for(;i!==n.prev;){if(hp(e.x,e.y,t.x,t.y,r.x,r.y,i.x,i.y)&&$n(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function oee(n,e,t,r){const i=n.prev,o=n,s=n.next;if($n(i,o,s)>=0)return!1;const a=i.x<o.x?i.x<s.x?i.x:s.x:o.x<s.x?o.x:s.x,l=i.y<o.y?i.y<s.y?i.y:s.y:o.y<s.y?o.y:s.y,c=i.x>o.x?i.x>s.x?i.x:s.x:o.x>s.x?o.x:s.x,m=i.y>o.y?i.y>s.y?i.y:s.y:o.y>s.y?o.y:s.y,v=PA(a,l,e,t,r),p=PA(c,m,e,t,r);let g=n.prevZ,y=n.nextZ;for(;g&&g.z>=v&&y&&y.z<=p;){if(g!==n.prev&&g!==n.next&&hp(i.x,i.y,o.x,o.y,s.x,s.y,g.x,g.y)&&$n(g.prev,g,g.next)>=0||(g=g.prevZ,y!==n.prev&&y!==n.next&&hp(i.x,i.y,o.x,o.y,s.x,s.y,y.x,y.y)&&$n(y.prev,y,y.next)>=0))return!1;y=y.nextZ}for(;g&&g.z>=v;){if(g!==n.prev&&g!==n.next&&hp(i.x,i.y,o.x,o.y,s.x,s.y,g.x,g.y)&&$n(g.prev,g,g.next)>=0)return!1;g=g.prevZ}for(;y&&y.z<=p;){if(y!==n.prev&&y!==n.next&&hp(i.x,i.y,o.x,o.y,s.x,s.y,y.x,y.y)&&$n(y.prev,y,y.next)>=0)return!1;y=y.nextZ}return!0}function see(n,e,t){let r=n;do{const i=r.prev,o=r.next.next;!Dw(i,o)&&oB(i,r,r.next,o)&&qv(i,o)&&qv(o,i)&&(e.push(i.i/t),e.push(r.i/t),e.push(o.i/t),Xv(r),Xv(r.next),r=n=o),r=r.next}while(r!==n);return Su(r)}function aee(n,e,t,r,i,o){let s=n;do{let a=s.next.next;for(;a!==s.prev;){if(s.i!==a.i&&gee(s,a)){let l=sB(s,a);s=Su(s,s.next),l=Su(l,l.next),jv(s,e,t,r,i,o),jv(l,e,t,r,i,o);return}a=a.next}s=s.next}while(s!==n)}function lee(n,e,t,r){const i=[];let o,s,a,l,c;for(o=0,s=e.length;o<s;o++)a=e[o]*r,l=o<s-1?e[o+1]*r:n.length,c=iB(n,a,l,r,!1),c===c.next&&(c.steiner=!0),i.push(mee(c));for(i.sort(uee),o=0;o<i.length;o++)cee(i[o],t),t=Su(t,t.next);return t}function uee(n,e){return n.x-e.x}function cee(n,e){if(e=fee(n,e),e){const t=sB(e,n);Su(e,e.next),Su(t,t.next)}}function fee(n,e){let t=e;const r=n.x,i=n.y;let o=-1/0,s;do{if(i<=t.y&&i>=t.next.y&&t.next.y!==t.y){const p=t.x+(i-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(p<=r&&p>o){if(o=p,p===r){if(i===t.y)return t;if(i===t.next.y)return t.next}s=t.x<t.next.x?t:t.next}}t=t.next}while(t!==e);if(!s)return null;if(r===o)return s;const a=s,l=s.x,c=s.y;let m=1/0,v;t=s;do r>=t.x&&t.x>=l&&r!==t.x&&hp(i<c?r:o,i,l,c,i<c?o:r,i,t.x,t.y)&&(v=Math.abs(i-t.y)/(r-t.x),qv(t,n)&&(v<m||v===m&&(t.x>s.x||t.x===s.x&&dee(s,t)))&&(s=t,m=v)),t=t.next;while(t!==a);return s}function dee(n,e){return $n(n.prev,n,e.prev)<0&&$n(e.next,n,n.next)<0}function hee(n,e,t,r){let i=n;do i.z===null&&(i.z=PA(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,pee(i)}function pee(n){let e,t,r,i,o,s,a,l,c=1;do{for(t=n,n=null,o=null,s=0;t;){for(s++,r=t,a=0,e=0;e<c&&(a++,r=r.nextZ,!!r);e++);for(l=c;a>0||l>0&&r;)a!==0&&(l===0||!r||t.z<=r.z)?(i=t,t=t.nextZ,a--):(i=r,r=r.nextZ,l--),o?o.nextZ=i:n=i,i.prevZ=o,o=i;t=r}o.nextZ=null,c*=2}while(s>1);return n}function PA(n,e,t,r,i){return n=32767*(n-t)*i,e=32767*(e-r)*i,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function mee(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function hp(n,e,t,r,i,o,s,a){return(i-s)*(e-a)-(n-s)*(o-a)>=0&&(n-s)*(r-a)-(t-s)*(e-a)>=0&&(t-s)*(o-a)-(i-s)*(r-a)>=0}function gee(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!vee(n,e)&&(qv(n,e)&&qv(e,n)&&yee(n,e)&&($n(n.prev,n,e.prev)||$n(n,e.prev,e))||Dw(n,e)&&$n(n.prev,n,n.next)>0&&$n(e.prev,e,e.next)>0)}function $n(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function Dw(n,e){return n.x===e.x&&n.y===e.y}function oB(n,e,t,r){const i=Fw($n(n,e,t)),o=Fw($n(n,e,r)),s=Fw($n(t,r,n)),a=Fw($n(t,r,e));return!!(i!==o&&s!==a||i===0&&Ow(n,t,e)||o===0&&Ow(n,r,e)||s===0&&Ow(t,n,r)||a===0&&Ow(t,e,r))}function Ow(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function Fw(n){return n>0?1:n<0?-1:0}function vee(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&oB(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function qv(n,e){return $n(n.prev,n,n.next)<0?$n(n,e,n.next)>=0&&$n(n,n.prev,e)>=0:$n(n,e,n.prev)<0||$n(n,n.next,e)<0}function yee(n,e){let t=n,r=!1;const i=(n.x+e.x)/2,o=(n.y+e.y)/2;do t.y>o!=t.next.y>o&&t.next.y!==t.y&&i<(t.next.x-t.x)*(o-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function sB(n,e){const t=new RA(n.i,n.x,n.y),r=new RA(e.i,e.x,e.y),i=n.next,o=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,o.next=r,r.prev=o,r}function aB(n,e,t,r){const i=new RA(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Xv(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function RA(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function xee(n,e,t,r){let i=0;for(let o=e,s=t-r;o<t;o+=r)i+=(n[s]-n[o])*(n[o+1]+n[s+1]),s=o;return i}class Ws{static area(e){const t=e.length;let r=0;for(let i=t-1,o=0;o<t;i=o++)r+=e[i].x*e[o].y-e[o].x*e[i].y;return r*.5}static isClockWise(e){return Ws.area(e)<0}static triangulateShape(e,t){const r=[],i=[],o=[];lB(e),uB(r,e);let s=e.length;t.forEach(lB);for(let l=0;l<t.length;l++)i.push(s),s+=t[l].length,uB(r,t[l]);const a=ree.triangulate(r,i);for(let l=0;l<a.length;l+=3)o.push(a.slice(l,l+3));return o}}function lB(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function uB(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class js extends gt{constructor(e=new Gs([new Oe(.5,.5),new Oe(-.5,.5),new Oe(-.5,-.5),new Oe(.5,-.5)]),t={}){super();this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,i=[],o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];s(c)}this.setAttribute("position",new rt(i,3)),this.setAttribute("uv",new rt(o,2)),this.computeVertexNormals();function s(a){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,m=t.steps!==void 0?t.steps:1;let v=t.depth!==void 0?t.depth:1,p=t.bevelEnabled!==void 0?t.bevelEnabled:!0,g=t.bevelThickness!==void 0?t.bevelThickness:.2,y=t.bevelSize!==void 0?t.bevelSize:g-.1,S=t.bevelOffset!==void 0?t.bevelOffset:0,M=t.bevelSegments!==void 0?t.bevelSegments:3;const x=t.extrudePath,_=t.UVGenerator!==void 0?t.UVGenerator:_ee;t.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),v=t.amount);let T,E=!1,C,I,R,D;x&&(T=x.getSpacedPoints(m),E=!0,p=!1,C=x.computeFrenetFrames(m,!1),I=new H,R=new H,D=new H),p||(M=0,g=0,y=0,S=0);const k=a.extractPoints(c);let U=k.shape;const B=k.holes;if(!Ws.isClockWise(U)){U=U.reverse();for(let ee=0,pe=B.length;ee<pe;ee++){const ve=B[ee];Ws.isClockWise(ve)&&(B[ee]=ve.reverse())}}const K=Ws.triangulateShape(U,B),ie=U;for(let ee=0,pe=B.length;ee<pe;ee++){const ve=B[ee];U=U.concat(ve)}function Q(ee,pe,ve){return pe||console.error("THREE.ExtrudeGeometry: vec does not exist"),pe.clone().multiplyScalar(ve).add(ee)}const re=U.length,ue=K.length;function Pe(ee,pe,ve){let Le,He,W;const G=ee.x-pe.x,xe=ee.y-pe.y,Ae=ve.x-ee.x,Te=ve.y-ee.y,We=G*G+xe*xe,Ye=G*Te-xe*Ae;if(Math.abs(Ye)>Number.EPSILON){const et=Math.sqrt(We),st=Math.sqrt(Ae*Ae+Te*Te),it=pe.x-xe/et,oe=pe.y+G/et,Xe=ve.x-Te/st,Ne=ve.y+Ae/st,ct=((Xe-it)*Te-(Ne-oe)*Ae)/(G*Te-xe*Ae);Le=it+G*ct-ee.x,He=oe+xe*ct-ee.y;const ot=Le*Le+He*He;if(ot<=2)return new Oe(Le,He);W=Math.sqrt(ot/2)}else{let et=!1;G>Number.EPSILON?Ae>Number.EPSILON&&(et=!0):G<-Number.EPSILON?Ae<-Number.EPSILON&&(et=!0):Math.sign(xe)===Math.sign(Te)&&(et=!0),et?(Le=-xe,He=G,W=Math.sqrt(We)):(Le=G,He=xe,W=Math.sqrt(We/2))}return new Oe(Le/W,He/W)}const Ue=[];for(let ee=0,pe=ie.length,ve=pe-1,Le=ee+1;ee<pe;ee++,ve++,Le++)ve===pe&&(ve=0),Le===pe&&(Le=0),Ue[ee]=Pe(ie[ee],ie[ve],ie[Le]);const Ve=[];let te,me=Ue.concat();for(let ee=0,pe=B.length;ee<pe;ee++){const ve=B[ee];te=[];for(let Le=0,He=ve.length,W=He-1,G=Le+1;Le<He;Le++,W++,G++)W===He&&(W=0),G===He&&(G=0),te[Le]=Pe(ve[Le],ve[W],ve[G]);Ve.push(te),me=me.concat(te)}for(let ee=0;ee<M;ee++){const pe=ee/M,ve=g*Math.cos(pe*Math.PI/2),Le=y*Math.sin(pe*Math.PI/2)+S;for(let He=0,W=ie.length;He<W;He++){const G=Q(ie[He],Ue[He],Le);de(G.x,G.y,-ve)}for(let He=0,W=B.length;He<W;He++){const G=B[He];te=Ve[He];for(let xe=0,Ae=G.length;xe<Ae;xe++){const Te=Q(G[xe],te[xe],Le);de(Te.x,Te.y,-ve)}}}const J=y+S;for(let ee=0;ee<re;ee++){const pe=p?Q(U[ee],me[ee],J):U[ee];E?(R.copy(C.normals[0]).multiplyScalar(pe.x),I.copy(C.binormals[0]).multiplyScalar(pe.y),D.copy(T[0]).add(R).add(I),de(D.x,D.y,D.z)):de(pe.x,pe.y,0)}for(let ee=1;ee<=m;ee++)for(let pe=0;pe<re;pe++){const ve=p?Q(U[pe],me[pe],J):U[pe];E?(R.copy(C.normals[ee]).multiplyScalar(ve.x),I.copy(C.binormals[ee]).multiplyScalar(ve.y),D.copy(T[ee]).add(R).add(I),de(D.x,D.y,D.z)):de(ve.x,ve.y,v/m*ee)}for(let ee=M-1;ee>=0;ee--){const pe=ee/M,ve=g*Math.cos(pe*Math.PI/2),Le=y*Math.sin(pe*Math.PI/2)+S;for(let He=0,W=ie.length;He<W;He++){const G=Q(ie[He],Ue[He],Le);de(G.x,G.y,v+ve)}for(let He=0,W=B.length;He<W;He++){const G=B[He];te=Ve[He];for(let xe=0,Ae=G.length;xe<Ae;xe++){const Te=Q(G[xe],te[xe],Le);E?de(Te.x,Te.y+T[m-1].y,T[m-1].x+ve):de(Te.x,Te.y,v+ve)}}}V(),j();function V(){const ee=i.length/3;if(p){let pe=0,ve=re*pe;for(let Le=0;Le<ue;Le++){const He=K[Le];ye(He[2]+ve,He[1]+ve,He[0]+ve)}pe=m+M*2,ve=re*pe;for(let Le=0;Le<ue;Le++){const He=K[Le];ye(He[0]+ve,He[1]+ve,He[2]+ve)}}else{for(let pe=0;pe<ue;pe++){const ve=K[pe];ye(ve[2],ve[1],ve[0])}for(let pe=0;pe<ue;pe++){const ve=K[pe];ye(ve[0]+re*m,ve[1]+re*m,ve[2]+re*m)}}r.addGroup(ee,i.length/3-ee,0)}function j(){const ee=i.length/3;let pe=0;Y(ie,pe),pe+=ie.length;for(let ve=0,Le=B.length;ve<Le;ve++){const He=B[ve];Y(He,pe),pe+=He.length}r.addGroup(ee,i.length/3-ee,1)}function Y(ee,pe){let ve=ee.length;for(;--ve>=0;){const Le=ve;let He=ve-1;He<0&&(He=ee.length-1);for(let W=0,G=m+M*2;W<G;W++){const xe=re*W,Ae=re*(W+1),Te=pe+Le+xe,We=pe+He+xe,Ye=pe+He+Ae,et=pe+Le+Ae;ge(Te,We,Ye,et)}}}function de(ee,pe,ve){l.push(ee),l.push(pe),l.push(ve)}function ye(ee,pe,ve){be(ee),be(pe),be(ve);const Le=i.length/3,He=_.generateTopUV(r,i,Le-3,Le-2,Le-1);De(He[0]),De(He[1]),De(He[2])}function ge(ee,pe,ve,Le){be(ee),be(pe),be(Le),be(pe),be(ve),be(Le);const He=i.length/3,W=_.generateSideWallUV(r,i,He-6,He-3,He-2,He-1);De(W[0]),De(W[1]),De(W[3]),De(W[1]),De(W[2]),De(W[3])}function be(ee){i.push(l[ee*3+0]),i.push(l[ee*3+1]),i.push(l[ee*3+2])}function De(ee){o.push(ee.x),o.push(ee.y)}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return wee(t,r,e)}static fromJSON(e,t){const r=[];for(let o=0,s=e.shapes.length;o<s;o++){const a=t[e.shapes[o]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new CA[i.type]().fromJSON(i)),new js(r,e.options)}}const _ee={generateTopUV:function(n,e,t,r,i){const o=e[t*3],s=e[t*3+1],a=e[r*3],l=e[r*3+1],c=e[i*3],m=e[i*3+1];return[new Oe(o,s),new Oe(a,l),new Oe(c,m)]},generateSideWallUV:function(n,e,t,r,i,o){const s=e[t*3],a=e[t*3+1],l=e[t*3+2],c=e[r*3],m=e[r*3+1],v=e[r*3+2],p=e[i*3],g=e[i*3+1],y=e[i*3+2],S=e[o*3],M=e[o*3+1],x=e[o*3+2];return Math.abs(a-m)<Math.abs(s-c)?[new Oe(s,1-l),new Oe(c,1-v),new Oe(p,1-y),new Oe(S,1-x)]:[new Oe(a,1-l),new Oe(m,1-v),new Oe(g,1-y),new Oe(M,1-x)]}};function wee(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,i=n.length;r<i;r++){const o=n[r];t.shapes.push(o.uuid)}else t.shapes.push(n.uuid);return e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class pp extends Hs{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,o,e,t);this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new pp(e.radius,e.detail)}}class mp extends gt{constructor(e=[new Oe(0,.5),new Oe(.5,0),new Oe(0,-.5)],t=12,r=0,i=Math.PI*2){super();this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=si(i,0,Math.PI*2);const o=[],s=[],a=[],l=1/t,c=new H,m=new Oe;for(let v=0;v<=t;v++){const p=r+v*l*i,g=Math.sin(p),y=Math.cos(p);for(let S=0;S<=e.length-1;S++)c.x=e[S].x*g,c.y=e[S].y,c.z=e[S].x*y,s.push(c.x,c.y,c.z),m.x=v/t,m.y=S/(e.length-1),a.push(m.x,m.y)}for(let v=0;v<t;v++)for(let p=0;p<e.length-1;p++){const g=p+v*e.length,y=g,S=g+e.length,M=g+e.length+1,x=g+1;o.push(y,S,x),o.push(S,M,x)}if(this.setIndex(o),this.setAttribute("position",new rt(s,3)),this.setAttribute("uv",new rt(a,2)),this.computeVertexNormals(),i===Math.PI*2){const v=this.attributes.normal.array,p=new H,g=new H,y=new H,S=t*e.length*3;for(let M=0,x=0;M<e.length;M++,x+=3)p.x=v[x+0],p.y=v[x+1],p.z=v[x+2],g.x=v[S+x+0],g.y=v[S+x+1],g.z=v[S+x+2],y.addVectors(p,g).normalize(),v[x+0]=v[S+x+0]=y.x,v[x+1]=v[S+x+1]=y.y,v[x+2]=v[S+x+2]=y.z}}static fromJSON(e){return new mp(e.points,e.segments,e.phiStart,e.phiLength)}}class _f extends Hs{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,t);this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new _f(e.radius,e.detail)}}class gp extends gt{constructor(e=.5,t=1,r=8,i=1,o=0,s=Math.PI*2){super();this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:o,thetaLength:s},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],c=[],m=[];let v=e;const p=(t-e)/i,g=new H,y=new Oe;for(let S=0;S<=i;S++){for(let M=0;M<=r;M++){const x=o+M/r*s;g.x=v*Math.cos(x),g.y=v*Math.sin(x),l.push(g.x,g.y,g.z),c.push(0,0,1),y.x=(g.x/t+1)/2,y.y=(g.y/t+1)/2,m.push(y.x,y.y)}v+=p}for(let S=0;S<i;S++){const M=S*(r+1);for(let x=0;x<r;x++){const _=x+M,T=_,E=_+r+1,C=_+r+2,I=_+1;a.push(T,E,I),a.push(E,C,I)}}this.setIndex(a),this.setAttribute("position",new rt(l,3)),this.setAttribute("normal",new rt(c,3)),this.setAttribute("uv",new rt(m,2))}static fromJSON(e){return new gp(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class wf extends gt{constructor(e=new Gs([new Oe(0,.5),new Oe(-.5,-.5),new Oe(.5,-.5)]),t=12){super();this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],i=[],o=[],s=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let m=0;m<e.length;m++)c(e[m]),this.addGroup(a,l,m),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new rt(i,3)),this.setAttribute("normal",new rt(o,3)),this.setAttribute("uv",new rt(s,2));function c(m){const v=i.length/3,p=m.extractPoints(t);let g=p.shape;const y=p.holes;Ws.isClockWise(g)===!1&&(g=g.reverse());for(let M=0,x=y.length;M<x;M++){const _=y[M];Ws.isClockWise(_)===!0&&(y[M]=_.reverse())}const S=Ws.triangulateShape(g,y);for(let M=0,x=y.length;M<x;M++){const _=y[M];g=g.concat(_)}for(let M=0,x=g.length;M<x;M++){const _=g[M];i.push(_.x,_.y,0),o.push(0,0,1),s.push(_.x,_.y)}for(let M=0,x=S.length;M<x;M++){const _=S[M],T=_[0]+v,E=_[1]+v,C=_[2]+v;r.push(T,E,C),l+=3}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return See(t,e)}static fromJSON(e,t){const r=[];for(let i=0,o=e.shapes.length;i<o;i++){const s=t[e.shapes[i]];r.push(s)}return new wf(r,e.curveSegments)}}function See(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const i=n[t];e.shapes.push(i.uuid)}else e.shapes.push(n.uuid);return e}class Sf extends gt{constructor(e=1,t=32,r=16,i=0,o=Math.PI*2,s=0,a=Math.PI){super();this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:o,thetaStart:s,thetaLength:a},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const l=Math.min(s+a,Math.PI);let c=0;const m=[],v=new H,p=new H,g=[],y=[],S=[],M=[];for(let x=0;x<=r;x++){const _=[],T=x/r;let E=0;x==0&&s==0?E=.5/t:x==r&&l==Math.PI&&(E=-.5/t);for(let C=0;C<=t;C++){const I=C/t;v.x=-e*Math.cos(i+I*o)*Math.sin(s+T*a),v.y=e*Math.cos(s+T*a),v.z=e*Math.sin(i+I*o)*Math.sin(s+T*a),y.push(v.x,v.y,v.z),p.copy(v).normalize(),S.push(p.x,p.y,p.z),M.push(I+E,1-T),_.push(c++)}m.push(_)}for(let x=0;x<r;x++)for(let _=0;_<t;_++){const T=m[x][_+1],E=m[x][_],C=m[x+1][_],I=m[x+1][_+1];(x!==0||s>0)&&g.push(T,E,I),(x!==r-1||l<Math.PI)&&g.push(E,C,I)}this.setIndex(g),this.setAttribute("position",new rt(y,3)),this.setAttribute("normal",new rt(S,3)),this.setAttribute("uv",new rt(M,2))}static fromJSON(e){return new Sf(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class vp extends Hs{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,t);this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new vp(e.radius,e.detail)}}class yp extends gt{constructor(e=1,t=.4,r=8,i=6,o=Math.PI*2){super();this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:o},r=Math.floor(r),i=Math.floor(i);const s=[],a=[],l=[],c=[],m=new H,v=new H,p=new H;for(let g=0;g<=r;g++)for(let y=0;y<=i;y++){const S=y/i*o,M=g/r*Math.PI*2;v.x=(e+t*Math.cos(M))*Math.cos(S),v.y=(e+t*Math.cos(M))*Math.sin(S),v.z=t*Math.sin(M),a.push(v.x,v.y,v.z),m.x=e*Math.cos(S),m.y=e*Math.sin(S),p.subVectors(v,m).normalize(),l.push(p.x,p.y,p.z),c.push(y/i),c.push(g/r)}for(let g=1;g<=r;g++)for(let y=1;y<=i;y++){const S=(i+1)*g+y-1,M=(i+1)*(g-1)+y-1,x=(i+1)*(g-1)+y,_=(i+1)*g+y;s.push(S,M,_),s.push(M,x,_)}this.setIndex(s),this.setAttribute("position",new rt(a,3)),this.setAttribute("normal",new rt(l,3)),this.setAttribute("uv",new rt(c,2))}static fromJSON(e){return new yp(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class xp extends gt{constructor(e=1,t=.4,r=64,i=8,o=2,s=3){super();this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:o,q:s},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],c=[],m=[],v=new H,p=new H,g=new H,y=new H,S=new H,M=new H,x=new H;for(let T=0;T<=r;++T){const E=T/r*o*Math.PI*2;_(E,o,s,e,g),_(E+.01,o,s,e,y),M.subVectors(y,g),x.addVectors(y,g),S.crossVectors(M,x),x.crossVectors(S,M),S.normalize(),x.normalize();for(let C=0;C<=i;++C){const I=C/i*Math.PI*2,R=-t*Math.cos(I),D=t*Math.sin(I);v.x=g.x+(R*x.x+D*S.x),v.y=g.y+(R*x.y+D*S.y),v.z=g.z+(R*x.z+D*S.z),l.push(v.x,v.y,v.z),p.subVectors(v,g).normalize(),c.push(p.x,p.y,p.z),m.push(T/r),m.push(C/i)}}for(let T=1;T<=r;T++)for(let E=1;E<=i;E++){const C=(i+1)*(T-1)+(E-1),I=(i+1)*T+(E-1),R=(i+1)*T+E,D=(i+1)*(T-1)+E;a.push(C,I,D),a.push(I,R,D)}this.setIndex(a),this.setAttribute("position",new rt(l,3)),this.setAttribute("normal",new rt(c,3)),this.setAttribute("uv",new rt(m,2));function _(T,E,C,I,R){const D=Math.cos(T),k=Math.sin(T),U=C/E*T,B=Math.cos(U);R.x=I*(2+B)*.5*D,R.y=I*(2+B)*k*.5,R.z=I*Math.sin(U)*.5}}static fromJSON(e){return new xp(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class _p extends gt{constructor(e=new Lw(new H(-1,-1,0),new H(-1,1,0),new H(1,1,0)),t=64,r=1,i=8,o=!1){super();this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:o};const s=e.computeFrenetFrames(t,o);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals;const a=new H,l=new H,c=new Oe;let m=new H;const v=[],p=[],g=[],y=[];S(),this.setIndex(y),this.setAttribute("position",new rt(v,3)),this.setAttribute("normal",new rt(p,3)),this.setAttribute("uv",new rt(g,2));function S(){for(let T=0;T<t;T++)M(T);M(o===!1?t:0),_(),x()}function M(T){m=e.getPointAt(T/t,m);const E=s.normals[T],C=s.binormals[T];for(let I=0;I<=i;I++){const R=I/i*Math.PI*2,D=Math.sin(R),k=-Math.cos(R);l.x=k*E.x+D*C.x,l.y=k*E.y+D*C.y,l.z=k*E.z+D*C.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=m.x+r*l.x,a.y=m.y+r*l.y,a.z=m.z+r*l.z,v.push(a.x,a.y,a.z)}}function x(){for(let T=1;T<=t;T++)for(let E=1;E<=i;E++){const C=(i+1)*(T-1)+(E-1),I=(i+1)*T+(E-1),R=(i+1)*T+E,D=(i+1)*(T-1)+E;y.push(C,I,D),y.push(I,R,D)}}function _(){for(let T=0;T<=t;T++)for(let E=0;E<=i;E++)c.x=T/t,c.y=E/i,g.push(c.x,c.y)}}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new _p(new CA[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class LA extends gt{constructor(e=null){super();if(this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,i=new H,o=new H;if(e.index!==null){const s=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,m=l.length;c<m;++c){const v=l[c],p=v.start,g=v.count;for(let y=p,S=p+g;y<S;y+=3)for(let M=0;M<3;M++){const x=a.getX(y+M),_=a.getX(y+(M+1)%3);i.fromBufferAttribute(s,x),o.fromBufferAttribute(s,_),cB(i,o,r)===!0&&(t.push(i.x,i.y,i.z),t.push(o.x,o.y,o.z))}}}else{const s=e.attributes.position;for(let a=0,l=s.count/3;a<l;a++)for(let c=0;c<3;c++){const m=3*a+c,v=3*a+(c+1)%3;i.fromBufferAttribute(s,m),o.fromBufferAttribute(s,v),cB(i,o,r)===!0&&(t.push(i.x,i.y,i.z),t.push(o.x,o.y,o.z))}}this.setAttribute("position",new rt(t,3))}}}function cB(n,e,t){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(i)===!0?!1:(t.add(r,i),!0)}var fB=Object.freeze({__proto__:null,BoxGeometry:el,BoxBufferGeometry:el,CircleGeometry:cp,CircleBufferGeometry:cp,ConeGeometry:fp,ConeBufferGeometry:fp,CylinderGeometry:wu,CylinderBufferGeometry:wu,DodecahedronGeometry:dp,DodecahedronBufferGeometry:dp,EdgesGeometry:_A,ExtrudeGeometry:js,ExtrudeBufferGeometry:js,IcosahedronGeometry:pp,IcosahedronBufferGeometry:pp,LatheGeometry:mp,LatheBufferGeometry:mp,OctahedronGeometry:_f,OctahedronBufferGeometry:_f,PlaneGeometry:hf,PlaneBufferGeometry:hf,PolyhedronGeometry:Hs,PolyhedronBufferGeometry:Hs,RingGeometry:gp,RingBufferGeometry:gp,ShapeGeometry:wf,ShapeBufferGeometry:wf,SphereGeometry:Sf,SphereBufferGeometry:Sf,TetrahedronGeometry:vp,TetrahedronBufferGeometry:vp,TorusGeometry:yp,TorusBufferGeometry:yp,TorusKnotGeometry:xp,TorusKnotBufferGeometry:xp,TubeGeometry:_p,TubeBufferGeometry:_p,WireframeGeometry:LA});class IA extends Gr{constructor(e){super();this.type="ShadowMaterial",this.color=new Je(0),this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this}}IA.prototype.isShadowMaterial=!0;class Kv extends Gr{constructor(e){super();this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Je(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Je(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=af,this.normalScale=new Oe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}}Kv.prototype.isMeshStandardMaterial=!0;class DA extends Kv{constructor(e){super();this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Oe(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return si(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.sheenColor=new Je(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=.01,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new Je(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Je(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}DA.prototype.isMeshPhysicalMaterial=!0;class bf extends Gr{constructor(e){super();this.type="MeshPhongMaterial",this.color=new Je(16777215),this.specular=new Je(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Je(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=af,this.normalScale=new Oe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=pv,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}}bf.prototype.isMeshPhongMaterial=!0;class OA extends Gr{constructor(e){super();this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Je(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Je(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=af,this.normalScale=new Oe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}OA.prototype.isMeshToonMaterial=!0;class FA extends Gr{constructor(e){super();this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=af,this.normalScale=new Oe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}FA.prototype.isMeshNormalMaterial=!0;class kA extends Gr{constructor(e){super();this.type="MeshLambertMaterial",this.color=new Je(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Je(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=pv,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}kA.prototype.isMeshLambertMaterial=!0;class NA extends Gr{constructor(e){super();this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Je(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=af,this.normalScale=new Oe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this}}NA.prototype.isMeshMatcapMaterial=!0;class BA extends wr{constructor(e){super();this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}BA.prototype.isLineDashedMaterial=!0;var bee=Object.freeze({__proto__:null,ShadowMaterial:IA,SpriteMaterial:dw,RawShaderMaterial:tp,ShaderMaterial:tl,PointsMaterial:xf,MeshPhysicalMaterial:DA,MeshStandardMaterial:Kv,MeshPhongMaterial:bf,MeshToonMaterial:OA,MeshNormalMaterial:FA,MeshLambertMaterial:kA,MeshDepthMaterial:cw,MeshDistanceMaterial:fw,MeshBasicMaterial:Qa,MeshMatcapMaterial:NA,LineDashedMaterial:BA,LineBasicMaterial:wr,Material:Gr});const kn={arraySlice:function(n,e,t){return kn.isTypedArray(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)},convertArray:function(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)},isTypedArray:function(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)},getKeyframeOrder:function(n){function e(i,o){return n[i]-n[o]}const t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(e),r},sortedArray:function(n,e,t){const r=n.length,i=new n.constructor(r);for(let o=0,s=0;s!==r;++o){const a=t[o]*e;for(let l=0;l!==e;++l)i[s++]=n[a+l]}return i},flattenJSON:function(n,e,t,r){let i=1,o=n[0];for(;o!==void 0&&o[r]===void 0;)o=n[i++];if(o===void 0)return;let s=o[r];if(s!==void 0)if(Array.isArray(s))do s=o[r],s!==void 0&&(e.push(o.time),t.push.apply(t,s)),o=n[i++];while(o!==void 0);else if(s.toArray!==void 0)do s=o[r],s!==void 0&&(e.push(o.time),s.toArray(t,t.length)),o=n[i++];while(o!==void 0);else do s=o[r],s!==void 0&&(e.push(o.time),t.push(s)),o=n[i++];while(o!==void 0)},subclip:function(n,e,t,r,i=30){const o=n.clone();o.name=e;const s=[];for(let l=0;l<o.tracks.length;++l){const c=o.tracks[l],m=c.getValueSize(),v=[],p=[];for(let g=0;g<c.times.length;++g){const y=c.times[g]*i;if(!(y<t||y>=r)){v.push(c.times[g]);for(let S=0;S<m;++S)p.push(c.values[g*m+S])}}v.length!==0&&(c.times=kn.convertArray(v,c.times.constructor),c.values=kn.convertArray(p,c.values.constructor),s.push(c))}o.tracks=s;let a=1/0;for(let l=0;l<o.tracks.length;++l)a>o.tracks[l].times[0]&&(a=o.tracks[l].times[0]);for(let l=0;l<o.tracks.length;++l)o.tracks[l].shift(-1*a);return o.resetDuration(),o},makeClipAdditive:function(n,e=0,t=n,r=30){r<=0&&(r=30);const i=t.tracks.length,o=e/r;for(let s=0;s<i;++s){const a=t.tracks[s],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=n.tracks.find(function(x){return x.name===a.name&&x.ValueTypeName===l});if(c===void 0)continue;let m=0;const v=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(m=v/3);let p=0;const g=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=g/3);const y=a.times.length-1;let S;if(o<=a.times[0]){const x=m,_=v-m;S=kn.arraySlice(a.values,x,_)}else if(o>=a.times[y]){const x=y*v+m,_=x+v-m;S=kn.arraySlice(a.values,x,_)}else{const x=a.createInterpolant(),_=m,T=v-m;x.evaluate(o),S=kn.arraySlice(x.resultBuffer,_,T)}l==="quaternion"&&new Lr().fromArray(S).normalize().conjugate().toArray(S);const M=c.times.length;for(let x=0;x<M;++x){const _=x*g+p;if(l==="quaternion")Lr.multiplyQuaternionsFlat(c.values,_,S,0,c.values,_);else{const T=g-p*2;for(let E=0;E<T;++E)c.values[_+E]-=S[E]}}}return n.blendMode=AT,n}};class rl{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],o=t[r-1];e:{t:{let s;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<o)break r;return r=t.length,this._cachedIndex=r,this.afterEnd_(r-1,e,o)}if(r===a)break;if(o=i,i=t[++r],e<i)break t}s=t.length;break n}if(!(e>=o)){const a=t[1];e<a&&(r=2,o=a);for(let l=r-2;;){if(o===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(r===l)break;if(i=o,o=t[--r-1],e>=o)break t}s=r,r=0;break n}break e}for(;r<s;){const a=r+s>>>1;e<t[a]?s=a:r=a+1}if(i=t[r],o=t[r-1],o===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(i===void 0)return r=t.length,this._cachedIndex=r,this.afterEnd_(r-1,o,e)}this._cachedIndex=r,this.intervalChanged_(r,o,i)}return this.interpolate_(r,o,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,o=e*i;for(let s=0;s!==i;++s)t[s]=r[o+s];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}rl.prototype.beforeStart_=rl.prototype.copySampleValue_;rl.prototype.afterEnd_=rl.prototype.copySampleValue_;class dB extends rl{constructor(e,t,r,i){super(e,t,r,i);this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:of,endingEnd:of}}intervalChanged_(e,t,r){const i=this.parameterPositions;let o=e-2,s=e+1,a=i[o],l=i[s];if(a===void 0)switch(this.getSettings_().endingStart){case sf:o=e,a=2*t-r;break;case Sv:o=i.length-2,a=t+i[o]-i[o+1];break;default:o=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case sf:s=e,l=2*r-t;break;case Sv:s=1,l=r+i[1]-i[0];break;default:s=e-1,l=t}const c=(r-t)*.5,m=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-r),this._offsetPrev=o*m,this._offsetNext=s*m}interpolate_(e,t,r,i){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,m=this._offsetPrev,v=this._offsetNext,p=this._weightPrev,g=this._weightNext,y=(r-t)/(i-t),S=y*y,M=S*y,x=-p*M+2*p*S-p*y,_=(1+p)*M+(-1.5-2*p)*S+(-.5+p)*y+1,T=(-1-g)*M+(1.5+g)*S+.5*y,E=g*M-g*S;for(let C=0;C!==a;++C)o[C]=x*s[m+C]+_*s[c+C]+T*s[l+C]+E*s[v+C];return o}}class zA extends rl{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,m=(r-t)/(i-t),v=1-m;for(let p=0;p!==a;++p)o[p]=s[c+p]*v+s[l+p]*m;return o}}class hB extends rl{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class ms{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=kn.convertArray(t,this.TimeBufferType),this.values=kn.convertArray(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:kn.convertArray(e.times,Array),values:kn.convertArray(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new hB(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new zA(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new dB(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case _v:t=this.InterpolantFactoryMethodDiscrete;break;case wv:t=this.InterpolantFactoryMethodLinear;break;case D_:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return _v;case this.InterpolantFactoryMethodLinear:return wv;case this.InterpolantFactoryMethodSmooth:return D_}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let o=0,s=i-1;for(;o!==i&&r[o]<e;)++o;for(;s!==-1&&r[s]>t;)--s;if(++s,o!==0||s!==i){o>=s&&(s=Math.max(s,1),o=s-1);const a=this.getValueSize();this.times=kn.arraySlice(r,o,s),this.values=kn.arraySlice(this.values,o*a,s*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,o=r.length;o===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let s=null;for(let a=0;a!==o;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(s!==null&&s>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,s),e=!1;break}s=l}if(i!==void 0&&kn.isTypedArray(i))for(let a=0,l=i.length;a!==l;++a){const c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=kn.arraySlice(this.times),t=kn.arraySlice(this.values),r=this.getValueSize(),i=this.getInterpolation()===D_,o=e.length-1;let s=1;for(let a=1;a<o;++a){let l=!1;const c=e[a],m=e[a+1];if(c!==m&&(a!==1||c!==e[0]))if(i)l=!0;else{const v=a*r,p=v-r,g=v+r;for(let y=0;y!==r;++y){const S=t[v+y];if(S!==t[p+y]||S!==t[g+y]){l=!0;break}}}if(l){if(a!==s){e[s]=e[a];const v=a*r,p=s*r;for(let g=0;g!==r;++g)t[p+g]=t[v+g]}++s}}if(o>0){e[s]=e[o];for(let a=o*r,l=s*r,c=0;c!==r;++c)t[l+c]=t[a+c];++s}return s!==e.length?(this.times=kn.arraySlice(e,0,s),this.values=kn.arraySlice(t,0,s*r)):(this.times=e,this.values=t),this}clone(){const e=kn.arraySlice(this.times,0),t=kn.arraySlice(this.values,0),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}ms.prototype.TimeBufferType=Float32Array;ms.prototype.ValueBufferType=Float32Array;ms.prototype.DefaultInterpolation=wv;class Mf extends ms{}Mf.prototype.ValueTypeName="bool";Mf.prototype.ValueBufferType=Array;Mf.prototype.DefaultInterpolation=_v;Mf.prototype.InterpolantFactoryMethodLinear=void 0;Mf.prototype.InterpolantFactoryMethodSmooth=void 0;class UA extends ms{}UA.prototype.ValueTypeName="color";class Yv extends ms{}Yv.prototype.ValueTypeName="number";class pB extends rl{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,l=(r-t)/(i-t);let c=e*a;for(let m=c+a;c!==m;c+=4)Lr.slerpFlat(o,0,s,c-a,s,c,l);return o}}class wp extends ms{InterpolantFactoryMethodLinear(e){return new pB(this.times,this.values,this.getValueSize(),e)}}wp.prototype.ValueTypeName="quaternion";wp.prototype.DefaultInterpolation=wv;wp.prototype.InterpolantFactoryMethodSmooth=void 0;class Ef extends ms{}Ef.prototype.ValueTypeName="string";Ef.prototype.ValueBufferType=Array;Ef.prototype.DefaultInterpolation=_v;Ef.prototype.InterpolantFactoryMethodLinear=void 0;Ef.prototype.InterpolantFactoryMethodSmooth=void 0;class $v extends ms{}$v.prototype.ValueTypeName="vector";class Zv{constructor(e,t=-1,r,i=O_){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=ho(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,i=1/(e.fps||1);for(let s=0,a=r.length;s!==a;++s)t.push(Eee(r[s]).scale(i));const o=new this(e.name,e.duration,t,e.blendMode);return o.uuid=e.uuid,o}static toJSON(e){const t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let o=0,s=r.length;o!==s;++o)t.push(ms.toJSON(r[o]));return i}static CreateFromMorphTargetSequence(e,t,r,i){const o=t.length,s=[];for(let a=0;a<o;a++){let l=[],c=[];l.push((a+o-1)%o,a,(a+1)%o),c.push(0,1,0);const m=kn.getKeyframeOrder(l);l=kn.sortedArray(l,1,m),c=kn.sortedArray(c,1,m),!i&&l[0]===0&&(l.push(o),c.push(c[0])),s.push(new Yv(".morphTargetInfluences["+t[a].name+"]",l,c).scale(1/r))}return new this(e,-1,s)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const i={},o=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],m=c.name.match(o);if(m&&m.length>1){const v=m[1];let p=i[v];p||(i[v]=p=[]),p.push(c)}}const s=[];for(const a in i)s.push(this.CreateFromMorphTargetSequence(a,i[a],t,r));return s}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(v,p,g,y,S){if(g.length!==0){const M=[],x=[];kn.flattenJSON(g,M,x,y),M.length!==0&&S.push(new v(p,M,x))}},i=[],o=e.name||"default",s=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let v=0;v<c.length;v++){const p=c[v].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const g={};let y;for(y=0;y<p.length;y++)if(p[y].morphTargets)for(let S=0;S<p[y].morphTargets.length;S++)g[p[y].morphTargets[S]]=-1;for(const S in g){const M=[],x=[];for(let _=0;_!==p[y].morphTargets.length;++_){const T=p[y];M.push(T.time),x.push(T.morphTarget===S?1:0)}i.push(new Yv(".morphTargetInfluence["+S+"]",M,x))}l=g.length*(s||1)}else{const g=".bones["+t[v].name+"]";r($v,g+".position",p,"pos",i),r(wp,g+".quaternion",p,"rot",i),r($v,g+".scale",p,"scl",i)}}return i.length===0?null:new this(o,l,i,a)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,i=e.length;r!==i;++r){const o=this.tracks[r];t=Math.max(t,o.times[o.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Mee(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Yv;case"vector":case"vector2":case"vector3":case"vector4":return $v;case"color":return UA;case"quaternion":return wp;case"bool":case"boolean":return Mf;case"string":return Ef}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function Eee(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=Mee(n.type);if(n.times===void 0){const t=[],r=[];kn.flattenJSON(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Tf={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class VA{constructor(e,t,r){const i=this;let o=!1,s=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(m){a++,o===!1&&i.onStart!==void 0&&i.onStart(m,s,a),o=!0},this.itemEnd=function(m){s++,i.onProgress!==void 0&&i.onProgress(m,s,a),s===a&&(o=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(m){i.onError!==void 0&&i.onError(m)},this.resolveURL=function(m){return l?l(m):m},this.setURLModifier=function(m){return l=m,this},this.addHandler=function(m,v){return c.push(m,v),this},this.removeHandler=function(m){const v=c.indexOf(m);return v!==-1&&c.splice(v,2),this},this.getHandler=function(m){for(let v=0,p=c.length;v<p;v+=2){const g=c[v],y=c[v+1];if(g.global&&(g.lastIndex=0),g.test(m))return y}return null}}}const Sp=new VA;class jr{constructor(e){this.manager=e!==void 0?e:Sp,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(i,o){r.load(e,i,t,o)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const il={};class vo extends jr{constructor(e){super(e)}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=Tf.get(e);if(o!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(o),this.manager.itemEnd(e)},0),o;if(il[e]!==void 0){il[e].push({onLoad:t,onProgress:r,onError:i});return}il[e]=[],il[e].push({onLoad:t,onProgress:r,onError:i});const s=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"});fetch(s).then(a=>{if(a.status===200||a.status===0){a.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received.");const l=il[e],c=a.body.getReader(),m=a.headers.get("Content-Length"),v=m?parseInt(m):0,p=v!==0;let g=0;return new ReadableStream({start(y){S();function S(){c.read().then(({done:M,value:x})=>{if(M)y.close();else{g+=x.byteLength;const _=new ProgressEvent("progress",{lengthComputable:p,loaded:g,total:v});for(let T=0,E=l.length;T<E;T++){const C=l[T];C.onProgress&&C.onProgress(_)}y.enqueue(x),S()}})}}})}else throw Error(`fetch for "${a.url}" responded with ${a.status}: ${a.statusText}`)}).then(a=>{const l=new Response(a);switch(this.responseType){case"arraybuffer":return l.arrayBuffer();case"blob":return l.blob();case"document":return l.text().then(c=>new DOMParser().parseFromString(c,this.mimeType));case"json":return l.json();default:return l.text()}}).then(a=>{Tf.add(e,a);const l=il[e];delete il[e];for(let c=0,m=l.length;c<m;c++){const v=l[c];v.onLoad&&v.onLoad(a)}this.manager.itemEnd(e)}).catch(a=>{const l=il[e];delete il[e];for(let c=0,m=l.length;c<m;c++){const v=l[c];v.onError&&v.onError(a)}this.manager.itemError(e),this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Tee extends jr{constructor(e){super(e)}load(e,t,r,i){const o=this,s=new vo(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(a){try{t(o.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}parse(e){const t=[];for(let r=0;r<e.length;r++){const i=Zv.parse(e[r]);t.push(i)}return t}}class Aee extends jr{constructor(e){super(e)}load(e,t,r,i){const o=this,s=[],a=new yA,l=new vo(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(o.withCredentials);let c=0;function m(v){l.load(e[v],function(p){const g=o.parse(p,!0);s[v]={width:g.width,height:g.height,format:g.format,mipmaps:g.mipmaps},c+=1,c===6&&(g.mipmapCount===1&&(a.minFilter=Yn),a.image=s,a.format=g.format,a.needsUpdate=!0,t&&t(a))},r,i)}if(Array.isArray(e))for(let v=0,p=e.length;v<p;++v)m(v);else l.load(e,function(v){const p=o.parse(v,!0);if(p.isCubemap){const g=p.mipmaps.length/p.mipmapCount;for(let y=0;y<g;y++){s[y]={mipmaps:[]};for(let S=0;S<p.mipmapCount;S++)s[y].mipmaps.push(p.mipmaps[y*p.mipmapCount+S]),s[y].format=p.format,s[y].width=p.width,s[y].height=p.height}a.image=s}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=Yn),a.format=p.format,a.needsUpdate=!0,t&&t(a)},r,i);return a}}class Jv extends jr{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,s=Tf.get(e);if(s!==void 0)return o.manager.itemStart(e),setTimeout(function(){t&&t(s),o.manager.itemEnd(e)},0),s;const a=z_("img");function l(){m(),Tf.add(e,this),t&&t(this),o.manager.itemEnd(e)}function c(v){m(),i&&i(v),o.manager.itemError(e),o.manager.itemEnd(e)}function m(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.substr(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),o.manager.itemStart(e),a.src=e,a}}class mB extends jr{constructor(e){super(e)}load(e,t,r,i){const o=new Qh,s=new Jv(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);let a=0;function l(c){s.load(e[c],function(m){o.images[c]=m,a++,a===6&&(o.needsUpdate=!0,t&&t(o))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return o}}class gB extends jr{constructor(e){super(e)}load(e,t,r,i){const o=this,s=new vf,a=new vo(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(o.withCredentials),a.load(e,function(l){const c=o.parse(l);!c||(c.image!==void 0?s.image=c.image:c.data!==void 0&&(s.image.width=c.width,s.image.height=c.height,s.image.data=c.data),s.wrapS=c.wrapS!==void 0?c.wrapS:Pr,s.wrapT=c.wrapT!==void 0?c.wrapT:Pr,s.magFilter=c.magFilter!==void 0?c.magFilter:Yn,s.minFilter=c.minFilter!==void 0?c.minFilter:Yn,s.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.encoding!==void 0&&(s.encoding=c.encoding),c.flipY!==void 0&&(s.flipY=c.flipY),c.format!==void 0&&(s.format=c.format),c.type!==void 0&&(s.type=c.type),c.mipmaps!==void 0&&(s.mipmaps=c.mipmaps,s.minFilter=Wa),c.mipmapCount===1&&(s.minFilter=Yn),c.generateMipmaps!==void 0&&(s.generateMipmaps=c.generateMipmaps),s.needsUpdate=!0,t&&t(s,c))},r,i),s}}class HA extends jr{constructor(e){super(e)}load(e,t,r,i){const o=new _r,s=new Jv(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(a){o.image=a,o.needsUpdate=!0,t!==void 0&&t(o)},r,i),o}}class gs extends Jt{constructor(e,t=1){super();this.type="Light",this.color=new Je(e),this.intensity=t}dispose(){}copy(e){return super.copy(e),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}gs.prototype.isLight=!0;class GA extends gs{constructor(e,t,r){super(e,r);this.type="HemisphereLight",this.position.copy(Jt.DefaultUp),this.updateMatrix(),this.groundColor=new Je(t)}copy(e){return gs.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}GA.prototype.isHemisphereLight=!0;const vB=new ht,yB=new H,xB=new H;class WA{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Oe(512,512),this.map=null,this.mapPass=null,this.matrix=new ht,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Pv,this._frameExtents=new Oe(1,1),this._viewportCount=1,this._viewports=[new _n(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;yB.setFromMatrixPosition(e.matrixWorld),t.position.copy(yB),xB.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(xB),t.updateMatrixWorld(),vB.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(vB),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(t.projectionMatrix),r.multiply(t.matrixWorldInverse)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class _B extends WA{constructor(){super(new Tn(50,1,.5,500));this.focus=1}updateMatrices(e){const t=this.camera,r=bv*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,o=e.distance||t.far;(r!==t.fov||i!==t.aspect||o!==t.far)&&(t.fov=r,t.aspect=i,t.far=o,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}_B.prototype.isSpotLightShadow=!0;class jA extends gs{constructor(e,t,r=0,i=Math.PI/3,o=0,s=1){super(e,t);this.type="SpotLight",this.position.copy(Jt.DefaultUp),this.updateMatrix(),this.target=new Jt,this.distance=r,this.angle=i,this.penumbra=o,this.decay=s,this.shadow=new _B}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}jA.prototype.isSpotLight=!0;const wB=new ht,Qv=new H,qA=new H;class SB extends WA{constructor(){super(new Tn(90,1,.5,500));this._frameExtents=new Oe(4,2),this._viewportCount=6,this._viewports=[new _n(2,1,1,1),new _n(0,1,1,1),new _n(3,1,1,1),new _n(1,1,1,1),new _n(3,0,1,1),new _n(1,0,1,1)],this._cubeDirections=[new H(1,0,0),new H(-1,0,0),new H(0,0,1),new H(0,0,-1),new H(0,1,0),new H(0,-1,0)],this._cubeUps=[new H(0,1,0),new H(0,1,0),new H(0,1,0),new H(0,1,0),new H(0,0,1),new H(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,i=this.matrix,o=e.distance||r.far;o!==r.far&&(r.far=o,r.updateProjectionMatrix()),Qv.setFromMatrixPosition(e.matrixWorld),r.position.copy(Qv),qA.copy(r.position),qA.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(qA),r.updateMatrixWorld(),i.makeTranslation(-Qv.x,-Qv.y,-Qv.z),wB.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(wB)}}SB.prototype.isPointLightShadow=!0;class XA extends gs{constructor(e,t,r=0,i=1){super(e,t);this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new SB}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}XA.prototype.isPointLight=!0;class bB extends WA{constructor(){super(new hs(-5,5,5,-5,.5,500))}}bB.prototype.isDirectionalLightShadow=!0;class KA extends gs{constructor(e,t){super(e,t);this.type="DirectionalLight",this.position.copy(Jt.DefaultUp),this.updateMatrix(),this.target=new Jt,this.shadow=new bB}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}KA.prototype.isDirectionalLight=!0;class YA extends gs{constructor(e,t){super(e,t);this.type="AmbientLight"}}YA.prototype.isAmbientLight=!0;class $A extends gs{constructor(e,t,r=10,i=10){super(e,t);this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}$A.prototype.isRectAreaLight=!0;class ZA{constructor(){this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new H)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,i=e.y,o=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.282095),t.addScaledVector(s[1],.488603*i),t.addScaledVector(s[2],.488603*o),t.addScaledVector(s[3],.488603*r),t.addScaledVector(s[4],1.092548*(r*i)),t.addScaledVector(s[5],1.092548*(i*o)),t.addScaledVector(s[6],.315392*(3*o*o-1)),t.addScaledVector(s[7],1.092548*(r*o)),t.addScaledVector(s[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){const r=e.x,i=e.y,o=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.886227),t.addScaledVector(s[1],2*.511664*i),t.addScaledVector(s[2],2*.511664*o),t.addScaledVector(s[3],2*.511664*r),t.addScaledVector(s[4],2*.429043*r*i),t.addScaledVector(s[5],2*.429043*i*o),t.addScaledVector(s[6],.743125*o*o-.247708),t.addScaledVector(s[7],2*.429043*r*o),t.addScaledVector(s[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const r=e.x,i=e.y,o=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*o,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*o,t[6]=.315392*(3*o*o-1),t[7]=1.092548*r*o,t[8]=.546274*(r*r-i*i)}}ZA.prototype.isSphericalHarmonics3=!0;class ey extends gs{constructor(e=new ZA,t=1){super(void 0,t);this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}ey.prototype.isLightProbe=!0;class MB extends jr{constructor(e){super(e);this.textures={}}load(e,t,r,i){const o=this,s=new vo(o.manager);s.setPath(o.path),s.setRequestHeader(o.requestHeader),s.setWithCredentials(o.withCredentials),s.load(e,function(a){try{t(o.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}parse(e){const t=this.textures;function r(o){return t[o]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",o),t[o]}const i=new bee[e.type];if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new Je().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.format!==void 0&&(i.format=e.format),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const o in e.uniforms){const s=e.uniforms[o];switch(i.uniforms[o]={},s.type){case"t":i.uniforms[o].value=r(s.value);break;case"c":i.uniforms[o].value=new Je().setHex(s.value);break;case"v2":i.uniforms[o].value=new Oe().fromArray(s.value);break;case"v3":i.uniforms[o].value=new H().fromArray(s.value);break;case"v4":i.uniforms[o].value=new _n().fromArray(s.value);break;case"m3":i.uniforms[o].value=new Rr().fromArray(s.value);break;case"m4":i.uniforms[o].value=new ht().fromArray(s.value);break;default:i.uniforms[o].value=s.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.extensions!==void 0)for(const o in e.extensions)i.extensions[o]=e.extensions[o];if(e.shading!==void 0&&(i.flatShading=e.shading===1),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let o=e.normalScale;Array.isArray(o)===!1&&(o=[o,o]),i.normalScale=new Oe().fromArray(o)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Oe().fromArray(e.clearcoatNormalScale)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}}class bu{static decodeText(e){if(typeof TextDecoder!="undefined")return new TextDecoder().decode(e);let t="";for(let r=0,i=e.length;r<i;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.substr(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class JA extends gt{constructor(){super();this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){const e=super.toJSON(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}JA.prototype.isInstancedBufferGeometry=!0;class EB extends jr{constructor(e){super(e)}load(e,t,r,i){const o=this,s=new vo(o.manager);s.setPath(o.path),s.setRequestHeader(o.requestHeader),s.setWithCredentials(o.withCredentials),s.load(e,function(a){try{t(o.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}parse(e){const t={},r={};function i(g,y){if(t[y]!==void 0)return t[y];const M=g.interleavedBuffers[y],x=o(g,M.buffer),_=Bh(M.type,x),T=new gf(_,M.stride);return T.uuid=M.uuid,t[y]=T,T}function o(g,y){if(r[y]!==void 0)return r[y];const M=g.arrayBuffers[y],x=new Uint32Array(M).buffer;return r[y]=x,x}const s=e.isInstancedBufferGeometry?new JA:new gt,a=e.data.index;if(a!==void 0){const g=Bh(a.type,a.array);s.setIndex(new Wt(g,1))}const l=e.data.attributes;for(const g in l){const y=l[g];let S;if(y.isInterleavedBufferAttribute){const M=i(e.data,y.data);S=new _u(M,y.itemSize,y.offset,y.normalized)}else{const M=Bh(y.type,y.array),x=y.isInstancedBufferAttribute?yf:Wt;S=new x(M,y.itemSize,y.normalized)}y.name!==void 0&&(S.name=y.name),y.usage!==void 0&&S.setUsage(y.usage),y.updateRange!==void 0&&(S.updateRange.offset=y.updateRange.offset,S.updateRange.count=y.updateRange.count),s.setAttribute(g,S)}const c=e.data.morphAttributes;if(c)for(const g in c){const y=c[g],S=[];for(let M=0,x=y.length;M<x;M++){const _=y[M];let T;if(_.isInterleavedBufferAttribute){const E=i(e.data,_.data);T=new _u(E,_.itemSize,_.offset,_.normalized)}else{const E=Bh(_.type,_.array);T=new Wt(E,_.itemSize,_.normalized)}_.name!==void 0&&(T.name=_.name),S.push(T)}s.morphAttributes[g]=S}e.data.morphTargetsRelative&&(s.morphTargetsRelative=!0);const v=e.data.groups||e.data.drawcalls||e.data.offsets;if(v!==void 0)for(let g=0,y=v.length;g!==y;++g){const S=v[g];s.addGroup(S.start,S.count,S.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const g=new H;p.center!==void 0&&g.fromArray(p.center),s.boundingSphere=new Ka(g,p.radius)}return e.name&&(s.name=e.name),e.userData&&(s.userData=e.userData),s}}class Cee extends jr{constructor(e){super(e)}load(e,t,r,i){const o=this,s=this.path===""?bu.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;const a=new vo(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(v){i!==void 0&&i(v),console.error("THREE:ObjectLoader: Can't parse "+e+".",v.message);return}const m=c.metadata;if(m===void 0||m.type===void 0||m.type.toLowerCase()==="geometry"){console.error("THREE.ObjectLoader: Can't load "+e);return}o.parse(c,t)},r,i)}async loadAsync(e,t){const r=this,i=this.path===""?bu.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const o=new vo(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials);const s=await o.loadAsync(e,t),a=JSON.parse(s),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,t){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),o=this.parseGeometries(e.geometries,i),s=this.parseImages(e.images,function(){t!==void 0&&t(c)}),a=this.parseTextures(e.textures,s),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,o,l,a,r),m=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,m),t!==void 0){let v=!1;for(const p in s)if(s[p]instanceof HTMLImageElement){v=!0;break}v===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),o=await this.parseImagesAsync(e.images),s=this.parseTextures(e.textures,o),a=this.parseMaterials(e.materials,s),l=this.parseObject(e.object,i,a,s,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const t={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const o=new Gs().fromJSON(e[r]);t[o.uuid]=o}return t}parseSkeletons(e,t){const r={},i={};if(t.traverse(function(o){o.isBone&&(i[o.uuid]=o)}),e!==void 0)for(let o=0,s=e.length;o<s;o++){const a=new _w().fromJSON(e[o],i);r[a.uuid]=a}return r}parseGeometries(e,t){const r={};if(e!==void 0){const i=new EB;for(let o=0,s=e.length;o<s;o++){let a;const l=e[o];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;case"Geometry":console.error("THREE.ObjectLoader: The legacy Geometry type is no longer supported.");break;default:l.type in fB?a=fB[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),a.isBufferGeometry===!0&&l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,t){const r={},i={};if(e!==void 0){const o=new MB;o.setTextures(t);for(let s=0,a=e.length;s<a;s++){const l=e[s];if(l.type==="MultiMaterial"){const c=[];for(let m=0;m<l.materials.length;m++){const v=l.materials[m];r[v.uuid]===void 0&&(r[v.uuid]=o.parse(v)),c.push(r[v.uuid])}i[l.uuid]=c}else r[l.uuid]===void 0&&(r[l.uuid]=o.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],o=Zv.parse(i);t[o.uuid]=o}return t}parseImages(e,t){const r=this,i={};let o;function s(l){return r.manager.itemStart(l),o.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,m=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return s(m)}else return l.data?{data:Bh(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new VA(t);o=new Jv(l),o.setCrossOrigin(this.crossOrigin);for(let c=0,m=e.length;c<m;c++){const v=e[c],p=v.url;if(Array.isArray(p)){i[v.uuid]=[];for(let g=0,y=p.length;g<y;g++){const S=p[g],M=a(S);M!==null&&(M instanceof HTMLImageElement?i[v.uuid].push(M):i[v.uuid].push(new vf(M.data,M.width,M.height)))}}else{const g=a(v.url);g!==null&&(i[v.uuid]=g)}}}return i}async parseImagesAsync(e){const t=this,r={};let i;async function o(s){if(typeof s=="string"){const a=s,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await i.loadAsync(l)}else return s.data?{data:Bh(s.type,s.data),width:s.width,height:s.height}:null}if(e!==void 0&&e.length>0){i=new Jv(this.manager),i.setCrossOrigin(this.crossOrigin);for(let s=0,a=e.length;s<a;s++){const l=e[s],c=l.url;if(Array.isArray(c)){r[l.uuid]=[];for(let m=0,v=c.length;m<v;m++){const p=c[m],g=await o(p);g!==null&&(g instanceof HTMLImageElement?r[l.uuid].push(g):r[l.uuid].push(new vf(g.data,g.width,g.height)))}}else{const m=await o(l.url);m!==null&&(r[l.uuid]=m)}}}return r}parseTextures(e,t){function r(o,s){return typeof o=="number"?o:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",o),s[o])}const i={};if(e!==void 0)for(let o=0,s=e.length;o<s;o++){const a=e[o];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);let l;const c=t[a.image];Array.isArray(c)?(l=new Qh(c),c.length===6&&(l.needsUpdate=!0)):(c&&c.data?l=new vf(c.data,c.width,c.height):l=new _r(c),c&&(l.needsUpdate=!0)),l.uuid=a.uuid,a.name!==void 0&&(l.name=a.name),a.mapping!==void 0&&(l.mapping=r(a.mapping,Pee)),a.offset!==void 0&&l.offset.fromArray(a.offset),a.repeat!==void 0&&l.repeat.fromArray(a.repeat),a.center!==void 0&&l.center.fromArray(a.center),a.rotation!==void 0&&(l.rotation=a.rotation),a.wrap!==void 0&&(l.wrapS=r(a.wrap[0],TB),l.wrapT=r(a.wrap[1],TB)),a.format!==void 0&&(l.format=a.format),a.type!==void 0&&(l.type=a.type),a.encoding!==void 0&&(l.encoding=a.encoding),a.minFilter!==void 0&&(l.minFilter=r(a.minFilter,AB)),a.magFilter!==void 0&&(l.magFilter=r(a.magFilter,AB)),a.anisotropy!==void 0&&(l.anisotropy=a.anisotropy),a.flipY!==void 0&&(l.flipY=a.flipY),a.premultiplyAlpha!==void 0&&(l.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(l.unpackAlignment=a.unpackAlignment),a.userData!==void 0&&(l.userData=a.userData),i[a.uuid]=l}return i}parseObject(e,t,r,i,o){let s;function a(p){return t[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),t[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const g=[];for(let y=0,S=p.length;y<S;y++){const M=p[y];r[M]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",M),g.push(r[M])}return g}return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),r[p]}}function c(p){return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),i[p]}let m,v;switch(e.type){case"Scene":s=new Ov,e.background!==void 0&&(Number.isInteger(e.background)?s.background=new Je(e.background):s.background=c(e.background)),e.environment!==void 0&&(s.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?s.fog=new Dv(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(s.fog=new Iv(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":s=new Tn(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(s.focus=e.focus),e.zoom!==void 0&&(s.zoom=e.zoom),e.filmGauge!==void 0&&(s.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(s.filmOffset=e.filmOffset),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"OrthographicCamera":s=new hs(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(s.zoom=e.zoom),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"AmbientLight":s=new YA(e.color,e.intensity);break;case"DirectionalLight":s=new KA(e.color,e.intensity);break;case"PointLight":s=new XA(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":s=new $A(e.color,e.intensity,e.width,e.height);break;case"SpotLight":s=new jA(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":s=new GA(e.color,e.groundColor,e.intensity);break;case"LightProbe":s=new ey().fromJSON(e);break;case"SkinnedMesh":m=a(e.geometry),v=l(e.material),s=new yw(m,v),e.bindMode!==void 0&&(s.bindMode=e.bindMode),e.bindMatrix!==void 0&&s.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(s.skeleton=e.skeleton);break;case"Mesh":m=a(e.geometry),v=l(e.material),s=new Hn(m,v);break;case"InstancedMesh":m=a(e.geometry),v=l(e.material);const p=e.count,g=e.instanceMatrix,y=e.instanceColor;s=new pA(m,v,p),s.instanceMatrix=new yf(new Float32Array(g.array),16),y!==void 0&&(s.instanceColor=new yf(new Float32Array(y.array),y.itemSize));break;case"LOD":s=new NN;break;case"Line":s=new nl(a(e.geometry),l(e.material));break;case"LineLoop":s=new gA(a(e.geometry),l(e.material));break;case"LineSegments":s=new Bi(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":s=new zv(a(e.geometry),l(e.material));break;case"Sprite":s=new mw(l(e.material));break;case"Group":s=new ps;break;case"Bone":s=new xw;break;default:s=new Jt}if(s.uuid=e.uuid,e.name!==void 0&&(s.name=e.name),e.matrix!==void 0?(s.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(s.matrixAutoUpdate=e.matrixAutoUpdate),s.matrixAutoUpdate&&s.matrix.decompose(s.position,s.quaternion,s.scale)):(e.position!==void 0&&s.position.fromArray(e.position),e.rotation!==void 0&&s.rotation.fromArray(e.rotation),e.quaternion!==void 0&&s.quaternion.fromArray(e.quaternion),e.scale!==void 0&&s.scale.fromArray(e.scale)),e.castShadow!==void 0&&(s.castShadow=e.castShadow),e.receiveShadow!==void 0&&(s.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(s.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(s.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(s.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&s.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(s.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(s.visible=e.visible),e.frustumCulled!==void 0&&(s.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(s.renderOrder=e.renderOrder),e.userData!==void 0&&(s.userData=e.userData),e.layers!==void 0&&(s.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let g=0;g<p.length;g++)s.add(this.parseObject(p[g],t,r,i,o))}if(e.animations!==void 0){const p=e.animations;for(let g=0;g<p.length;g++){const y=p[g];s.animations.push(o[y])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(s.autoUpdate=e.autoUpdate);const p=e.levels;for(let g=0;g<p.length;g++){const y=p[g],S=s.getObjectByProperty("uuid",y.object);S!==void 0&&s.addLevel(S,y.distance)}}return s}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=t[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}setTexturePath(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}}const Pee={UVMapping:R_,CubeReflectionMapping:Jc,CubeRefractionMapping:Qc,EquirectangularReflectionMapping:mv,EquirectangularRefractionMapping:gv,CubeUVReflectionMapping:Dh,CubeUVRefractionMapping:vv},TB={RepeatWrapping:Ga,ClampToEdgeWrapping:Pr,MirroredRepeatWrapping:ef},AB={NearestFilter:ir,NearestMipmapNearestFilter:L_,NearestMipmapLinearFilter:I_,LinearFilter:Yn,LinearMipmapNearestFilter:gT,LinearMipmapLinearFilter:Wa};class CB extends jr{constructor(e){super(e);typeof createImageBitmap=="undefined"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch=="undefined"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,s=Tf.get(e);if(s!==void 0)return o.manager.itemStart(e),setTimeout(function(){t&&t(s),o.manager.itemEnd(e)},0),s;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(o.options,{colorSpaceConversion:"none"}))}).then(function(l){Tf.add(e,l),t&&t(l),o.manager.itemEnd(e)}).catch(function(l){i&&i(l),o.manager.itemError(e),o.manager.itemEnd(e)}),o.manager.itemStart(e)}}CB.prototype.isImageBitmapLoader=!0;let kw;const QA={getContext:function(){return kw===void 0&&(kw=new(window.AudioContext||window.webkitAudioContext)),kw},setContext:function(n){kw=n}};class PB extends jr{constructor(e){super(e)}load(e,t,r,i){const o=this,s=new vo(this.manager);s.setResponseType("arraybuffer"),s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(a){try{const l=a.slice(0);QA.getContext().decodeAudioData(l,function(m){t(m)})}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}}class RB extends ey{constructor(e,t,r=1){super(void 0,r);const i=new Je().set(e),o=new Je().set(t),s=new H(i.r,i.g,i.b),a=new H(o.r,o.g,o.b),l=Math.sqrt(Math.PI),c=l*Math.sqrt(.75);this.sh.coefficients[0].copy(s).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(s).sub(a).multiplyScalar(c)}}RB.prototype.isHemisphereLightProbe=!0;class LB extends ey{constructor(e,t=1){super(void 0,t);const r=new Je().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}LB.prototype.isAmbientLightProbe=!0;const IB=new ht,DB=new ht;class Ree{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Tn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Tn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep;const i=e.projectionMatrix.clone(),o=t.eyeSep/2,s=o*t.near/t.focus,a=t.near*Math.tan(lf*t.fov*.5)/t.zoom;let l,c;DB.elements[12]=-o,IB.elements[12]=o,l=-a*t.aspect+s,c=a*t.aspect+s,i.elements[0]=2*t.near/(c-l),i.elements[8]=(c+l)/(c-l),this.cameraL.projectionMatrix.copy(i),l=-a*t.aspect-s,c=a*t.aspect-s,i.elements[0]=2*t.near/(c-l),i.elements[8]=(c+l)/(c-l),this.cameraR.projectionMatrix.copy(i)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(DB),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(IB)}}class eC{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=OB(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=OB();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function OB(){return(typeof performance=="undefined"?Date:performance).now()}const Af=new H,FB=new Lr,Lee=new H,Cf=new H;class Iee extends Jt{constructor(){super();this.type="AudioListener",this.context=QA.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new eC}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Af,FB,Lee),Cf.set(0,0,-1).applyQuaternion(FB),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Af.x,i),t.positionY.linearRampToValueAtTime(Af.y,i),t.positionZ.linearRampToValueAtTime(Af.z,i),t.forwardX.linearRampToValueAtTime(Cf.x,i),t.forwardY.linearRampToValueAtTime(Cf.y,i),t.forwardZ.linearRampToValueAtTime(Cf.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(Af.x,Af.y,Af.z),t.setOrientation(Cf.x,Cf.y,Cf.z,r.x,r.y,r.z)}}class tC extends Jt{constructor(e){super();this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Pf=new H,kB=new Lr,Dee=new H,Rf=new H;class Oee extends tC{constructor(e){super(e);this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Pf,kB,Dee),Rf.set(0,0,1).applyQuaternion(kB);const t=this.panner;if(t.positionX){const r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Pf.x,r),t.positionY.linearRampToValueAtTime(Pf.y,r),t.positionZ.linearRampToValueAtTime(Pf.z,r),t.orientationX.linearRampToValueAtTime(Rf.x,r),t.orientationY.linearRampToValueAtTime(Rf.y,r),t.orientationZ.linearRampToValueAtTime(Rf.z,r)}else t.setPosition(Pf.x,Pf.y,Pf.z),t.setOrientation(Rf.x,Rf.y,Rf.z)}}class NB{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}}class BB{constructor(e,t,r){this.binding=e,this.valueSize=r;let i,o,s;switch(t){case"quaternion":i=this._slerp,o=this._slerpAdditive,s=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,o=this._select,s=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,o=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=o,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,i=this.valueSize,o=e*i+i;let s=this.cumulativeWeight;if(s===0){for(let a=0;a!==i;++a)r[o+a]=r[a];s=t}else{s+=t;const a=t/s;this._mixBufferRegion(r,o,0,a,i)}this.cumulativeWeight=s}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,i=e*t+t,o=this.cumulativeWeight,s=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,o<1){const l=t*this._origIndex;this._mixBufferRegion(r,i,l,1-o,t)}s>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(r[l]!==r[l+t]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let o=r,s=i;o!==s;++o)t[o]=t[i+o%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,o){if(i>=.5)for(let s=0;s!==o;++s)e[t+s]=e[r+s]}_slerp(e,t,r,i){Lr.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,o){const s=this._workIndex*o;Lr.multiplyQuaternionsFlat(e,s,e,t,e,r),Lr.slerpFlat(e,t,e,t,e,s,i)}_lerp(e,t,r,i,o){const s=1-i;for(let a=0;a!==o;++a){const l=t+a;e[l]=e[l]*s+e[r+a]*i}}_lerpAdditive(e,t,r,i,o){for(let s=0;s!==o;++s){const a=t+s;e[a]=e[a]+e[r+s]*i}}}const nC="\\[\\]\\.:\\/",Fee=new RegExp("["+nC+"]","g"),rC="[^"+nC+"]",kee="[^"+nC.replace("\\.","")+"]",Nee=/((?:WC+[\/:])*)/.source.replace("WC",rC),Bee=/(WCOD+)?/.source.replace("WCOD",kee),zee=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",rC),Uee=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",rC),Vee=new RegExp("^"+Nee+Bee+zee+Uee+"$"),Hee=["material","materials","bones"];class Gee{constructor(e,t,r){const i=r||ln.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,o=r.length;i!==o;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class ln{constructor(e,t,r){this.path=t,this.parsedPath=r||ln.parseTrackName(t),this.node=ln.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new ln.Composite(e,t,r):new ln(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Fee,"")}static parseTrackName(e){const t=Vee.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const o=r.nodeName.substring(i+1);Hee.indexOf(o)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=o)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(!t||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(o){for(let s=0;s<o.length;s++){const a=o[s];if(a.name===t||a.uuid===t)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,i=t.propertyName;let o=t.propertyIndex;if(e||(e=ln.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let c=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let m=0;m<e.length;m++)if(e[m].name===c){c=m;break}break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const s=e[i];if(s===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(o!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[o]!==void 0&&(o=e.morphTargetDictionary[o])}else{console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);return}}l=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=o}else s.fromArray!==void 0&&s.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(l=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}ln.Composite=Gee;ln.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};ln.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};ln.prototype.GetterByBindingType=[ln.prototype._getValue_direct,ln.prototype._getValue_array,ln.prototype._getValue_arrayElement,ln.prototype._getValue_toArray];ln.prototype.SetterByBindingTypeAndVersioning=[[ln.prototype._setValue_direct,ln.prototype._setValue_direct_setNeedsUpdate,ln.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[ln.prototype._setValue_array,ln.prototype._setValue_array_setNeedsUpdate,ln.prototype._setValue_array_setMatrixWorldNeedsUpdate],[ln.prototype._setValue_arrayElement,ln.prototype._setValue_arrayElement_setNeedsUpdate,ln.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[ln.prototype._setValue_fromArray,ln.prototype._setValue_fromArray_setNeedsUpdate,ln.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class zB{constructor(){this.uuid=ho(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,r=this._paths,i=this._parsedPaths,o=this._bindings,s=o.length;let a,l=e.length,c=this.nCachedObjects_;for(let m=0,v=arguments.length;m!==v;++m){const p=arguments[m],g=p.uuid;let y=t[g];if(y===void 0){y=l++,t[g]=y,e.push(p);for(let S=0,M=s;S!==M;++S)o[S].push(new ln(p,r[S],i[S]))}else if(y<c){a=e[y];const S=--c,M=e[S];t[M.uuid]=y,e[y]=M,t[g]=S,e[S]=p;for(let x=0,_=s;x!==_;++x){const T=o[x],E=T[S];let C=T[y];T[y]=E,C===void 0&&(C=new ln(p,r[x],i[x])),T[S]=C}}else e[y]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let o=this.nCachedObjects_;for(let s=0,a=arguments.length;s!==a;++s){const l=arguments[s],c=l.uuid,m=t[c];if(m!==void 0&&m>=o){const v=o++,p=e[v];t[p.uuid]=m,e[m]=p,t[c]=v,e[v]=l;for(let g=0,y=i;g!==y;++g){const S=r[g],M=S[v],x=S[m];S[m]=M,S[v]=x}}}this.nCachedObjects_=o}uncache(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let o=this.nCachedObjects_,s=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],m=c.uuid,v=t[m];if(v!==void 0)if(delete t[m],v<o){const p=--o,g=e[p],y=--s,S=e[y];t[g.uuid]=v,e[v]=g,t[S.uuid]=p,e[p]=S,e.pop();for(let M=0,x=i;M!==x;++M){const _=r[M],T=_[p],E=_[y];_[v]=T,_[p]=E,_.pop()}}else{const p=--s,g=e[p];p>0&&(t[g.uuid]=v),e[v]=g,e.pop();for(let y=0,S=i;y!==S;++y){const M=r[y];M[v]=M[p],M.pop()}}}this.nCachedObjects_=o}subscribe_(e,t){const r=this._bindingsIndicesByPath;let i=r[e];const o=this._bindings;if(i!==void 0)return o[i];const s=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,m=this.nCachedObjects_,v=new Array(c);i=o.length,r[e]=i,s.push(e),a.push(t),o.push(v);for(let p=m,g=l.length;p!==g;++p){const y=l[p];v[p]=new ln(y,e,t)}return v}unsubscribe_(e){const t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){const i=this._paths,o=this._parsedPaths,s=this._bindings,a=s.length-1,l=s[a],c=e[a];t[c]=r,s[r]=l,s.pop(),o[r]=o[a],o.pop(),i[r]=i[a],i.pop()}}}zB.prototype.isAnimationObjectGroup=!0;class Wee{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;const o=t.tracks,s=o.length,a=new Array(s),l={endingStart:of,endingEnd:of};for(let c=0;c!==s;++c){const m=o[c].createInterpolant(null);a[c]=m,m.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(s),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=vk,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){const i=this._clip.duration,o=e._clip.duration,s=o/i,a=i/o;e.warp(1,s,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const i=this._mixer,o=i.time,s=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=o,l[1]=o+r,c[0]=e/s,c[1]=t/s,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled){this._updateWeight(e);return}const o=this._startTime;if(o!==null){const l=(e-o)*r;if(l<0||r===0)return;this._startTime=null,t=r*l}t*=this._updateTimeScale(e);const s=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case AT:for(let m=0,v=l.length;m!==v;++m)l[m].evaluate(s),c[m].accumulateAdditive(a);break;case O_:default:for(let m=0,v=l.length;m!==v;++m)l[m].evaluate(s),c[m].accumulate(i,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;r!==null&&(t*=r.evaluate(e)[0],e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t))}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let i=this.time+e,o=this._loopCount;const s=r===yk;if(e===0)return o===-1?i:s&&(o&1)==1?t-i:i;if(r===gk){o===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(o===-1&&(e>=0?(o=0,this._setEndings(!0,this.repetitions===0,s)):this._setEndings(this.repetitions===0,!0,s)),i>=t||i<0){const a=Math.floor(i/t);i-=t*a,o+=Math.abs(a);const l=this.repetitions-o;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,s)}else this._setEndings(!1,!1,s);this._loopCount=o,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(s&&(o&1)==1)return t-i}return i}_setEndings(e,t,r){const i=this._interpolantSettings;r?(i.endingStart=sf,i.endingEnd=sf):(e?i.endingStart=this.zeroSlopeAtStart?sf:of:i.endingStart=Sv,t?i.endingEnd=this.zeroSlopeAtEnd?sf:of:i.endingEnd=Sv)}_scheduleFading(e,t,r){const i=this._mixer,o=i.time;let s=this._weightInterpolant;s===null&&(s=i._lendControlInterpolant(),this._weightInterpolant=s);const a=s.parameterPositions,l=s.sampleValues;return a[0]=o,l[0]=t,a[1]=o+e,l[1]=r,this}}class UB extends qa{constructor(e){super();this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,i=e._clip.tracks,o=i.length,s=e._propertyBindings,a=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let m=c[l];m===void 0&&(m={},c[l]=m);for(let v=0;v!==o;++v){const p=i[v],g=p.name;let y=m[g];if(y!==void 0)s[v]=y;else{if(y=s[v],y!==void 0){y._cacheIndex===null&&(++y.referenceCount,this._addInactiveBinding(y,l,g));continue}const S=t&&t._propertyBindings[v].binding.parsedPath;y=new BB(ln.create(r,g,S),p.ValueTypeName,p.getValueSize()),++y.referenceCount,this._addInactiveBinding(y,l,g),s[v]=y}a[v].resultBuffer=y.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,o=this._actionsByClip[i];this._bindAction(e,o&&o.knownActions[0]),this._addInactiveAction(e,i,r)}const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const o=t[r];o.useCount++==0&&(this._lendBinding(o),o.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const o=t[r];--o.useCount==0&&(o.restoreOriginalState(),this._takeBackBinding(o))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const i=this._actions,o=this._actionsByClip;let s=o[t];if(s===void 0)s={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,o[t]=s;else{const a=s.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),s.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;const o=e._clip.uuid,s=this._actionsByClip,a=s[o],l=a.knownActions,c=l[l.length-1],m=e._byClipCacheIndex;c._byClipCacheIndex=m,l[m]=c,l.pop(),e._byClipCacheIndex=null;const v=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete v[p],l.length===0&&delete s[o],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const o=t[r];--o.referenceCount==0&&this._removeInactiveBinding(o)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,o=t[i];e._cacheIndex=i,t[i]=e,o._cacheIndex=r,t[r]=o}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,o=t[i];e._cacheIndex=i,t[i]=e,o._cacheIndex=r,t[r]=o}_addInactiveBinding(e,t,r){const i=this._bindingsByRootAndName,o=this._bindings;let s=i[t];s===void 0&&(s={},i[t]=s),s[r]=e,e._cacheIndex=o.length,o.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,i=r.rootNode.uuid,o=r.path,s=this._bindingsByRootAndName,a=s[i],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete a[o],Object.keys(a).length===0&&delete s[i]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,o=t[i];e._cacheIndex=i,t[i]=e,o._cacheIndex=r,t[r]=o}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,o=t[i];e._cacheIndex=i,t[i]=e,o._cacheIndex=r,t[r]=o}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new zA(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,o=t[i];e.__cacheIndex=i,t[i]=e,o.__cacheIndex=r,t[r]=o}clipAction(e,t,r){const i=t||this._root,o=i.uuid;let s=typeof e=="string"?Zv.findByName(i,e):e;const a=s!==null?s.uuid:e,l=this._actionsByClip[a];let c=null;if(r===void 0&&(s!==null?r=s.blendMode:r=O_),l!==void 0){const v=l.actionByRoot[o];if(v!==void 0&&v.blendMode===r)return v;c=l.knownActions[0],s===null&&(s=c._clip)}if(s===null)return null;const m=new Wee(this,s,t,r);return this._bindAction(m,c),this._addInactiveAction(m,a,o),m}existingAction(e,t){const r=t||this._root,i=r.uuid,o=typeof e=="string"?Zv.findByName(r,e):e,s=o?o.uuid:e,a=this._actionsByClip[s];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,i=this.time+=e,o=Math.sign(e),s=this._accuIndex^=1;for(let c=0;c!==r;++c)t[c]._update(i,e,o,s);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(s);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,i=this._actionsByClip,o=i[r];if(o!==void 0){const s=o.knownActions;for(let a=0,l=s.length;a!==l;++a){const c=s[a];this._deactivateAction(c);const m=c._cacheIndex,v=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,v._cacheIndex=m,t[m]=v,t.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const s in r){const a=r[s].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,o=i[t];if(o!==void 0)for(const s in o){const a=o[s];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}UB.prototype._controlInterpolantsResultBuffer=new Float32Array(1);class Nw{constructor(e){typeof e=="string"&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}clone(){return new Nw(this.value.clone===void 0?this.value:this.value.clone())}}class VB extends gf{constructor(e,t,r=1){super(e,t);this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}VB.prototype.isInstancedInterleavedBuffer=!0;class HB{constructor(e,t,r,i,o){this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=i,this.count=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}HB.prototype.isGLBufferAttribute=!0;class GB{constructor(e,t,r=0,i=1/0){this.ray=new fu(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new Wh,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,r=[]){return iC(e,this,r,t),r.sort(WB),r}intersectObjects(e,t=!0,r=[]){for(let i=0,o=e.length;i<o;i++)iC(e[i],this,r,t);return r.sort(WB),r}}function WB(n,e){return n.distance-e.distance}function iC(n,e,t,r){if(n.layers.test(e.layers)&&n.raycast(e,t),r===!0){const i=n.children;for(let o=0,s=i.length;o<s;o++)iC(i[o],e,t,!0)}}class oC{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){const e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(si(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class jee{constructor(e=1,t=0,r=0){return this.radius=e,this.theta=t,this.y=r,this}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}}const jB=new Oe;class bp{constructor(e=new Oe(1/0,1/0),t=new Oe(-1/0,-1/0)){this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=jB.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return jB.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}bp.prototype.isBox2=!0;const qB=new H,Bw=new H;class XB{constructor(e=new H,t=new H){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){qB.subVectors(e,this.start),Bw.subVectors(this.end,this.start);const r=Bw.dot(Bw);let o=Bw.dot(qB)/r;return t&&(o=si(o,0,1)),o}closestPointToPoint(e,t,r){const i=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const KB=new H;class qee extends Jt{constructor(e,t){super();this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;const r=new gt,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let s=0,a=1,l=32;s<l;s++,a++){const c=s/l*Math.PI*2,m=a/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(m),Math.sin(m),1)}r.setAttribute("position",new rt(i,3));const o=new wr({fog:!1,toneMapped:!1});this.cone=new Bi(r,o),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateMatrixWorld();const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),KB.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(KB),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Mu=new H,zw=new ht,sC=new ht;class YB extends Bi{constructor(e){const t=$B(e),r=new gt,i=[],o=[],s=new Je(0,0,1),a=new Je(0,1,0);for(let c=0;c<t.length;c++){const m=t[c];m.parent&&m.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),o.push(s.r,s.g,s.b),o.push(a.r,a.g,a.b))}r.setAttribute("position",new rt(i,3)),r.setAttribute("color",new rt(o,3));const l=new wr({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l);this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,r=this.geometry,i=r.getAttribute("position");sC.copy(this.root.matrixWorld).invert();for(let o=0,s=0;o<t.length;o++){const a=t[o];a.parent&&a.parent.isBone&&(zw.multiplyMatrices(sC,a.matrixWorld),Mu.setFromMatrixPosition(zw),i.setXYZ(s,Mu.x,Mu.y,Mu.z),zw.multiplyMatrices(sC,a.parent.matrixWorld),Mu.setFromMatrixPosition(zw),i.setXYZ(s+1,Mu.x,Mu.y,Mu.z),s+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}}function $B(n){const e=[];n&&n.isBone&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,$B(n.children[t]));return e}class Xee extends Hn{constructor(e,t,r){const i=new Sf(t,4,2),o=new Qa({wireframe:!0,fog:!1,toneMapped:!1});super(i,o);this.light=e,this.light.updateMatrixWorld(),this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const Kee=new H,ZB=new Je,JB=new Je;class Yee extends Jt{constructor(e,t,r){super();this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r;const i=new _f(t);i.rotateY(Math.PI*.5),this.material=new Qa({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const o=i.getAttribute("position"),s=new Float32Array(o.count*3);i.setAttribute("color",new Wt(s,3)),this.add(new Hn(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");ZB.copy(this.light.color),JB.copy(this.light.groundColor);for(let r=0,i=t.count;r<i;r++){const o=r<i/2?ZB:JB;t.setXYZ(r,o.r,o.g,o.b)}t.needsUpdate=!0}e.lookAt(Kee.setFromMatrixPosition(this.light.matrixWorld).negate())}}class QB extends Bi{constructor(e=10,t=10,r=4473924,i=8947848){r=new Je(r),i=new Je(i);const o=t/2,s=e/t,a=e/2,l=[],c=[];for(let p=0,g=0,y=-a;p<=t;p++,y+=s){l.push(-a,0,y,a,0,y),l.push(y,0,-a,y,0,a);const S=p===o?r:i;S.toArray(c,g),g+=3,S.toArray(c,g),g+=3,S.toArray(c,g),g+=3,S.toArray(c,g),g+=3}const m=new gt;m.setAttribute("position",new rt(l,3)),m.setAttribute("color",new rt(c,3));const v=new wr({vertexColors:!0,toneMapped:!1});super(m,v);this.type="GridHelper"}}class $ee extends Bi{constructor(e=10,t=16,r=8,i=64,o=4473924,s=8947848){o=new Je(o),s=new Je(s);const a=[],l=[];for(let v=0;v<=t;v++){const p=v/t*(Math.PI*2),g=Math.sin(p)*e,y=Math.cos(p)*e;a.push(0,0,0),a.push(g,0,y);const S=v&1?o:s;l.push(S.r,S.g,S.b),l.push(S.r,S.g,S.b)}for(let v=0;v<=r;v++){const p=v&1?o:s,g=e-e/r*v;for(let y=0;y<i;y++){let S=y/i*(Math.PI*2),M=Math.sin(S)*g,x=Math.cos(S)*g;a.push(M,0,x),l.push(p.r,p.g,p.b),S=(y+1)/i*(Math.PI*2),M=Math.sin(S)*g,x=Math.cos(S)*g,a.push(M,0,x),l.push(p.r,p.g,p.b)}}const c=new gt;c.setAttribute("position",new rt(a,3)),c.setAttribute("color",new rt(l,3));const m=new wr({vertexColors:!0,toneMapped:!1});super(c,m);this.type="PolarGridHelper"}}const ez=new H,Uw=new H,tz=new H;class Zee extends Jt{constructor(e,t,r){super();this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,t===void 0&&(t=1);let i=new gt;i.setAttribute("position",new rt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const o=new wr({fog:!1,toneMapped:!1});this.lightPlane=new nl(i,o),this.add(this.lightPlane),i=new gt,i.setAttribute("position",new rt([0,0,0,0,0,1],3)),this.targetLine=new nl(i,o),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){ez.setFromMatrixPosition(this.light.matrixWorld),Uw.setFromMatrixPosition(this.light.target.matrixWorld),tz.subVectors(Uw,ez),this.lightPlane.lookAt(Uw),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Uw),this.targetLine.scale.z=tz.length()}}const Vw=new H,or=new df;class Jee extends Bi{constructor(e){const t=new gt,r=new wr({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],o=[],s={},a=new Je(16755200),l=new Je(16711680),c=new Je(43775),m=new Je(16777215),v=new Je(3355443);p("n1","n2",a),p("n2","n4",a),p("n4","n3",a),p("n3","n1",a),p("f1","f2",a),p("f2","f4",a),p("f4","f3",a),p("f3","f1",a),p("n1","f1",a),p("n2","f2",a),p("n3","f3",a),p("n4","f4",a),p("p","n1",l),p("p","n2",l),p("p","n3",l),p("p","n4",l),p("u1","u2",c),p("u2","u3",c),p("u3","u1",c),p("c","t",m),p("p","c",v),p("cn1","cn2",v),p("cn3","cn4",v),p("cf1","cf2",v),p("cf3","cf4",v);function p(y,S,M){g(y,M),g(S,M)}function g(y,S){i.push(0,0,0),o.push(S.r,S.g,S.b),s[y]===void 0&&(s[y]=[]),s[y].push(i.length/3-1)}t.setAttribute("position",new rt(i,3)),t.setAttribute("color",new rt(o,3));super(t,r);this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update()}update(){const e=this.geometry,t=this.pointMap,r=1,i=1;or.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),gr("c",t,e,or,0,0,-1),gr("t",t,e,or,0,0,1),gr("n1",t,e,or,-r,-i,-1),gr("n2",t,e,or,r,-i,-1),gr("n3",t,e,or,-r,i,-1),gr("n4",t,e,or,r,i,-1),gr("f1",t,e,or,-r,-i,1),gr("f2",t,e,or,r,-i,1),gr("f3",t,e,or,-r,i,1),gr("f4",t,e,or,r,i,1),gr("u1",t,e,or,r*.7,i*1.1,-1),gr("u2",t,e,or,-r*.7,i*1.1,-1),gr("u3",t,e,or,0,i*2,-1),gr("cf1",t,e,or,-r,0,1),gr("cf2",t,e,or,r,0,1),gr("cf3",t,e,or,0,-i,1),gr("cf4",t,e,or,0,i,1),gr("cn1",t,e,or,-r,0,-1),gr("cn2",t,e,or,r,0,-1),gr("cn3",t,e,or,0,-i,-1),gr("cn4",t,e,or,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function gr(n,e,t,r,i,o,s){Vw.set(i,o,s).unproject(r);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let c=0,m=a.length;c<m;c++)l.setXYZ(a[c],Vw.x,Vw.y,Vw.z)}}const Hw=new to;class nz extends Bi{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),o=new gt;o.setIndex(new Wt(r,1)),o.setAttribute("position",new Wt(i,3));super(o,new wr({color:t,toneMapped:!1}));this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Hw.setFromObject(this.object),Hw.isEmpty())return;const t=Hw.min,r=Hw.max,i=this.geometry.attributes.position,o=i.array;o[0]=r.x,o[1]=r.y,o[2]=r.z,o[3]=t.x,o[4]=r.y,o[5]=r.z,o[6]=t.x,o[7]=t.y,o[8]=r.z,o[9]=r.x,o[10]=t.y,o[11]=r.z,o[12]=r.x,o[13]=r.y,o[14]=t.z,o[15]=t.x,o[16]=r.y,o[17]=t.z,o[18]=t.x,o[19]=t.y,o[20]=t.z,o[21]=r.x,o[22]=t.y,o[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e){return Bi.prototype.copy.call(this,e),this.object=e.object,this}}class Qee extends Bi{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],o=new gt;o.setIndex(new Wt(r,1)),o.setAttribute("position",new rt(i,3));super(o,new wr({color:t,toneMapped:!1}));this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}}class ete extends nl{constructor(e,t=1,r=16776960){const i=r,o=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],s=new gt;s.setAttribute("position",new rt(o,3)),s.computeBoundingSphere();super(s,new wr({color:i,toneMapped:!1}));this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],l=new gt;l.setAttribute("position",new rt(a,3)),l.computeBoundingSphere(),this.add(new Hn(l,new Qa({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){let t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?hr:Yc,this.lookAt(this.plane.normal),super.updateMatrixWorld(e)}}const rz=new H;let Gw,aC;class tte extends Jt{constructor(e=new H(0,0,1),t=new H(0,0,0),r=1,i=16776960,o=r*.2,s=o*.2){super();this.type="ArrowHelper",Gw===void 0&&(Gw=new gt,Gw.setAttribute("position",new rt([0,0,0,0,1,0],3)),aC=new wu(0,.5,1,5,1),aC.translate(0,-.5,0)),this.position.copy(t),this.line=new nl(Gw,new wr({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Hn(aC,new Qa({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,o,s)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{rz.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(rz,t)}}setLength(e,t=e*.2,r=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}}class iz extends Bi{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new gt;i.setAttribute("position",new rt(t,3)),i.setAttribute("color",new rt(r,3));const o=new wr({vertexColors:!0,toneMapped:!1});super(i,o);this.type="AxesHelper"}setColors(e,t,r){const i=new Je,o=this.geometry.attributes.color.array;return i.set(e),i.toArray(o,0),i.toArray(o,3),i.set(t),i.toArray(o,6),i.toArray(o,9),i.set(r),i.toArray(o,12),i.toArray(o,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class nte{constructor(){this.type="ShapePath",this.color=new Je,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Wv,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,i){return this.currentPath.quadraticCurveTo(e,t,r,i),this}bezierCurveTo(e,t,r,i,o,s){return this.currentPath.bezierCurveTo(e,t,r,i,o,s),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e,t){function r(_){const T=[];for(let E=0,C=_.length;E<C;E++){const I=_[E],R=new Gs;R.curves=I.curves,T.push(R)}return T}function i(_,T){const E=T.length;let C=!1;for(let I=E-1,R=0;R<E;I=R++){let D=T[I],k=T[R],U=k.x-D.x,B=k.y-D.y;if(Math.abs(B)>Number.EPSILON){if(B<0&&(D=T[R],U=-U,k=T[I],B=-B),_.y<D.y||_.y>k.y)continue;if(_.y===D.y){if(_.x===D.x)return!0}else{const $=B*(_.x-D.x)-U*(_.y-D.y);if($===0)return!0;if($<0)continue;C=!C}}else{if(_.y!==D.y)continue;if(k.x<=_.x&&_.x<=D.x||D.x<=_.x&&_.x<=k.x)return!0}}return C}const o=Ws.isClockWise,s=this.subPaths;if(s.length===0)return[];if(t===!0)return r(s);let a,l,c;const m=[];if(s.length===1)return l=s[0],c=new Gs,c.curves=l.curves,m.push(c),m;let v=!o(s[0].getPoints());v=e?!v:v;const p=[],g=[];let y=[],S=0,M;g[S]=void 0,y[S]=[];for(let _=0,T=s.length;_<T;_++)l=s[_],M=l.getPoints(),a=o(M),a=e?!a:a,a?(!v&&g[S]&&S++,g[S]={s:new Gs,p:M},g[S].s.curves=l.curves,v&&S++,y[S]=[]):y[S].push({h:l,p:M[0]});if(!g[0])return r(s);if(g.length>1){let _=!1;const T=[];for(let E=0,C=g.length;E<C;E++)p[E]=[];for(let E=0,C=g.length;E<C;E++){const I=y[E];for(let R=0;R<I.length;R++){const D=I[R];let k=!0;for(let U=0;U<g.length;U++)i(D.p,g[U].p)&&(E!==U&&T.push({froms:E,tos:U,hole:R}),k?(k=!1,p[U].push(D)):_=!0);k&&p[E].push(D)}}T.length>0&&(_||(y=p))}let x;for(let _=0,T=g.length;_<T;_++){c=g[_].s,m.push(c),x=y[_];for(let E=0,C=x.length;E<C;E++)c.holes.push(x[E].h)}return m}}const oz=new Float32Array(1),rte=new Int32Array(oz.buffer);class ite{static toHalfFloat(e){e>65504&&(console.warn("THREE.DataUtils.toHalfFloat(): value exceeds 65504."),e=65504),oz[0]=e;const t=rte[0];let r=t>>16&32768,i=t>>12&2047;const o=t>>23&255;return o<103?r:o>142?(r|=31744,r|=(o==255?0:1)&&t&8388607,r):o<113?(i|=2048,r|=(i>>114-o)+(i>>113-o&1),r):(r|=o-112<<10|i>>1,r+=i&1,r)}}const ote=0,ste=1,ate=0,lte=1,ute=2;function cte(n){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),n}function fte(n=[]){return console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),n.isMultiMaterial=!0,n.materials=n,n.clone=function(){return n.slice()},n}function dte(n,e){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new zv(n,e)}function hte(n){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new mw(n)}function pte(n,e){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new zv(n,e)}function mte(n){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new xf(n)}function gte(n){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new xf(n)}function vte(n){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new xf(n)}function yte(n,e,t){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new H(n,e,t)}function xte(n,e){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."),new Wt(n,e).setUsage(Nh)}function _te(n,e){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new Hk(n,e)}function wte(n,e){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new Gk(n,e)}function Ste(n,e){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new Wk(n,e)}function bte(n,e){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new jk(n,e)}function Mte(n,e){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new K_(n,e)}function Ete(n,e){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new qk(n,e)}function Tte(n,e){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new Y_(n,e)}function Ate(n,e){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new rt(n,e)}function Cte(n,e){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new Kk(n,e)}go.create=function(n,e){return console.log("THREE.Curve.create() has been deprecated"),n.prototype=Object.create(go.prototype),n.prototype.constructor=n,n.prototype.getPoint=e,n};Wv.prototype.fromPoints=function(n){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(n)};function Pte(n){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new iz(n)}function Rte(n,e){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new nz(n,e)}function Lte(n,e){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new Bi(new _A(n.geometry),new wr({color:e!==void 0?e:16777215}))}QB.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};YB.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};function Ite(n,e){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new Bi(new LA(n.geometry),new wr({color:e!==void 0?e:16777215}))}jr.prototype.extractUrlBase=function(n){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),bu.extractUrlBase(n)};jr.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}};function Dte(n){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new vo(n)}function Ote(n){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new gB(n)}bp.prototype.center=function(n){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(n)};bp.prototype.empty=function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()};bp.prototype.isIntersectionBox=function(n){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)};bp.prototype.size=function(n){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(n)};to.prototype.center=function(n){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(n)};to.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()};to.prototype.isIntersectionBox=function(n){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)};to.prototype.isIntersectionSphere=function(n){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(n)};to.prototype.size=function(n){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(n)};Ka.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()};Pv.prototype.setFromMatrix=function(n){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(n)};XB.prototype.center=function(n){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(n)};Rr.prototype.flattenToArrayOffset=function(n,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(n,e)};Rr.prototype.multiplyVector3=function(n){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),n.applyMatrix3(this)};Rr.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")};Rr.prototype.applyToBufferAttribute=function(n){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),n.applyMatrix3(this)};Rr.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")};Rr.prototype.getInverse=function(n){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(n).invert()};ht.prototype.extractPosition=function(n){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(n)};ht.prototype.flattenToArrayOffset=function(n,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(n,e)};ht.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new H().setFromMatrixColumn(this,3)};ht.prototype.setRotationFromQuaternion=function(n){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(n)};ht.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")};ht.prototype.multiplyVector3=function(n){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};ht.prototype.multiplyVector4=function(n){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};ht.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")};ht.prototype.rotateAxis=function(n){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),n.transformDirection(this)};ht.prototype.crossVector=function(n){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};ht.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")};ht.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")};ht.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")};ht.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")};ht.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")};ht.prototype.applyToBufferAttribute=function(n){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};ht.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")};ht.prototype.makeFrustum=function(n,e,t,r,i,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(n,e,r,t,i,o)};ht.prototype.getInverse=function(n){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(n).invert()};Us.prototype.isIntersectionLine=function(n){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(n)};Lr.prototype.multiplyVector3=function(n){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),n.applyQuaternion(this)};Lr.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()};fu.prototype.isIntersectionBox=function(n){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)};fu.prototype.isIntersectionPlane=function(n){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(n)};fu.prototype.isIntersectionSphere=function(n){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(n)};pr.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()};pr.prototype.barycoordFromPoint=function(n,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(n,e)};pr.prototype.midpoint=function(n){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(n)};pr.prototypenormal=function(n){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(n)};pr.prototype.plane=function(n){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(n)};pr.barycoordFromPoint=function(n,e,t,r,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),pr.getBarycoord(n,e,t,r,i)};pr.normal=function(n,e,t,r){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),pr.getNormal(n,e,t,r)};Gs.prototype.extractAllPoints=function(n){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(n)};Gs.prototype.extrude=function(n){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new js(this,n)};Gs.prototype.makeGeometry=function(n){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new wf(this,n)};Oe.prototype.fromAttribute=function(n,e,t){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,e,t)};Oe.prototype.distanceToManhattan=function(n){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(n)};Oe.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};H.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")};H.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")};H.prototype.getPositionFromMatrix=function(n){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(n)};H.prototype.getScaleFromMatrix=function(n){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(n)};H.prototype.getColumnFromMatrix=function(n,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,n)};H.prototype.applyProjection=function(n){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(n)};H.prototype.fromAttribute=function(n,e,t){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,e,t)};H.prototype.distanceToManhattan=function(n){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(n)};H.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};_n.prototype.fromAttribute=function(n,e,t){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,e,t)};_n.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};Jt.prototype.getChildByName=function(n){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(n)};Jt.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")};Jt.prototype.translate=function(n,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,n)};Jt.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")};Jt.prototype.applyMatrix=function(n){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(n)};Object.defineProperties(Jt.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(n){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=n}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});Hn.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")};Object.defineProperties(Hn.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),xk},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}});yw.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")};Tn.prototype.setLens=function(n,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),e!==void 0&&(this.filmGauge=e),this.setFocalLength(n)};Object.defineProperties(gs.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(n){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=n}},shadowCameraLeft:{set:function(n){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=n}},shadowCameraRight:{set:function(n){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=n}},shadowCameraTop:{set:function(n){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=n}},shadowCameraBottom:{set:function(n){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=n}},shadowCameraNear:{set:function(n){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=n}},shadowCameraFar:{set:function(n){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=n}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(n){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=n}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(n){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=n}},shadowMapHeight:{set:function(n){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=n}}});Object.defineProperties(Wt.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===Nh},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(Nh)}}});Wt.prototype.setDynamic=function(n){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(n===!0?Nh:kh),this};Wt.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},Wt.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};gt.prototype.addIndex=function(n){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(n)};gt.prototype.addAttribute=function(n,e){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),!(e&&e.isBufferAttribute)&&!(e&&e.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(n,new Wt(arguments[1],arguments[2]))):n==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e),this):this.setAttribute(n,e)};gt.prototype.addDrawCall=function(n,e,t){t!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(n,e)};gt.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()};gt.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")};gt.prototype.removeAttribute=function(n){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(n)};gt.prototype.applyMatrix=function(n){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(n)};Object.defineProperties(gt.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}});gf.prototype.setDynamic=function(n){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(n===!0?Nh:kh),this};gf.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};js.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")};js.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")};js.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")};Ov.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")};Nw.prototype.onUpdate=function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this};Object.defineProperties(Gr.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Je}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(n){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===aT}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(n){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=n}},vertexTangents:{get:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")},set:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")}}});Object.defineProperties(tl.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(n){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=n}}});gn.prototype.clearTarget=function(n,e,t,r){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(n),this.clear(e,t,r)};gn.prototype.animate=function(n){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(n)};gn.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()};gn.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()};gn.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision};gn.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()};gn.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")};gn.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")};gn.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")};gn.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")};gn.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")};gn.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")};gn.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures};gn.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")};gn.prototype.enableScissorTest=function(n){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(n)};gn.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")};gn.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")};gn.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")};gn.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")};gn.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")};gn.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")};gn.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")};gn.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")};gn.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")};gn.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()};Object.defineProperties(gn.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(n){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=n}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(n){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=n}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(n){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=n===!0?as:Hr}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}});Object.defineProperties(RN.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});function Fte(n,e,t){return console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."),new ow(n,t)}Object.defineProperties(ls.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(n){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=n}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(n){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=n}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(n){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=n}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(n){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=n}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(n){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=n}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(n){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=n}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(n){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=n}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(n){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=n}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(n){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=n}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(n){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=n}}});tC.prototype.load=function(n){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const e=this;return new PB().load(n,function(r){e.setBuffer(r)}),this};NB.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()};iw.prototype.updateCubeMap=function(n,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(n,e)};iw.prototype.clear=function(n,e,t,r){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(n,e,t,r)};uf.crossOrigin=void 0;uf.loadTexture=function(n,e,t,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const i=new HA;i.setCrossOrigin(this.crossOrigin);const o=i.load(n,t,void 0,r);return e&&(o.mapping=e),o};uf.loadTextureCube=function(n,e,t,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const i=new mB;i.setCrossOrigin(this.crossOrigin);const o=i.load(n,t,void 0,r);return e&&(o.mapping=e),o};uf.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")};uf.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};function kte(){console.error("THREE.CanvasRenderer has been removed")}function Nte(){console.error("THREE.JSONLoader has been removed.")}const Bte={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}};function zte(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")}function Ute(){return console.error("THREE.ParametricGeometry has been moved to /examples/jsm/geometries/ParametricGeometry.js"),new gt}function Vte(){return console.error("THREE.TextGeometry has been moved to /examples/jsm/geometries/TextGeometry.js"),new gt}function Hte(){console.error("THREE.FontLoader has been moved to /examples/jsm/loaders/FontLoader.js")}function Gte(){console.error("THREE.Font has been moved to /examples/jsm/loaders/FontLoader.js")}function Wte(){console.error("THREE.ImmediateRenderObject has been removed.")}typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:rT}}));typeof window!="undefined"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=rT);var jte=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",ACESFilmicToneMapping:mT,AddEquation:Zc,AddOperation:xF,AdditiveAnimationBlendMode:AT,AdditiveBlending:lT,AlphaFormat:RF,AlwaysDepth:dF,AlwaysStencilFunc:Mk,AmbientLight:YA,AmbientLightProbe:LB,AnimationClip:Zv,AnimationLoader:Tee,AnimationMixer:UB,AnimationObjectGroup:zB,AnimationUtils:kn,ArcCurve:wA,ArrayCamera:fA,ArrowHelper:tte,Audio:tC,AudioAnalyser:NB,AudioContext:QA,AudioListener:Iee,AudioLoader:PB,AxesHelper:iz,AxisHelper:Pte,BackSide:hr,BasicDepthPacking:wk,BasicShadowMap:CK,BinaryTextureLoader:Ote,Bone:xw,BooleanKeyframeTrack:Mf,BoundingBoxHelper:Rte,Box2:bp,Box3:to,Box3Helper:Qee,BoxBufferGeometry:el,BoxGeometry:el,BoxHelper:nz,BufferAttribute:Wt,BufferGeometry:gt,BufferGeometryLoader:EB,ByteType:MF,Cache:Tf,Camera:df,CameraHelper:Jee,CanvasRenderer:kte,CanvasTexture:QN,CatmullRomCurve3:TA,CineonToneMapping:SF,CircleBufferGeometry:cp,CircleGeometry:cp,ClampToEdgeWrapping:Pr,Clock:eC,Color:Je,ColorKeyframeTrack:UA,CompressedTexture:yA,CompressedTextureLoader:Aee,ConeBufferGeometry:fp,ConeGeometry:fp,CubeCamera:iw,CubeReflectionMapping:Jc,CubeRefractionMapping:Qc,CubeTexture:Qh,CubeTextureLoader:mB,CubeUVReflectionMapping:Dh,CubeUVRefractionMapping:vv,CubicBezierCurve:Pw,CubicBezierCurve3:AA,CubicInterpolant:dB,CullFaceBack:iT,CullFaceFront:JO,CullFaceFrontBack:AK,CullFaceNone:ZO,Curve:go,CurvePath:rB,CustomBlending:QO,CustomToneMapping:bF,CylinderBufferGeometry:wu,CylinderGeometry:wu,Cylindrical:jee,DataTexture:vf,DataTexture2DArray:uw,DataTexture3D:lA,DataTextureLoader:gB,DataUtils:ite,DecrementStencilOp:zK,DecrementWrapStencilOp:VK,DefaultLoadingManager:Sp,DepthFormat:rf,DepthStencilFormat:Fh,DepthTexture:eB,DirectionalLight:KA,DirectionalLightHelper:Zee,DiscreteInterpolant:hB,DodecahedronBufferGeometry:dp,DodecahedronGeometry:dp,DoubleSide:$c,DstAlphaFactor:sF,DstColorFactor:lF,DynamicBufferAttribute:xte,DynamicCopyUsage:tY,DynamicDrawUsage:Nh,DynamicReadUsage:JK,EdgesGeometry:_A,EdgesHelper:Lte,EllipseCurve:Uv,EqualDepth:pF,EqualStencilFunc:jK,EquirectangularReflectionMapping:mv,EquirectangularRefractionMapping:gv,Euler:hu,EventDispatcher:qa,ExtrudeBufferGeometry:js,ExtrudeGeometry:js,FaceColors:lte,FileLoader:vo,FlatShading:aT,Float16BufferAttribute:Xk,Float32Attribute:Ate,Float32BufferAttribute:rt,Float64Attribute:Cte,Float64BufferAttribute:Kk,FloatType:zs,Fog:Dv,FogExp2:Iv,Font:Gte,FontLoader:Hte,FrontSide:Yc,Frustum:Pv,GLBufferAttribute:HB,GLSL1:rY,GLSL3:LT,GammaEncoding:F_,GreaterDepth:gF,GreaterEqualDepth:mF,GreaterEqualStencilFunc:YK,GreaterStencilFunc:XK,GridHelper:QB,Group:ps,HalfFloatType:tf,HemisphereLight:GA,HemisphereLightHelper:Yee,HemisphereLightProbe:RB,IcosahedronBufferGeometry:pp,IcosahedronGeometry:pp,ImageBitmapLoader:CB,ImageLoader:Jv,ImageUtils:uf,ImmediateRenderObject:Wte,IncrementStencilOp:BK,IncrementWrapStencilOp:UK,InstancedBufferAttribute:yf,InstancedBufferGeometry:JA,InstancedInterleavedBuffer:VB,InstancedMesh:pA,Int16Attribute:bte,Int16BufferAttribute:jk,Int32Attribute:Ete,Int32BufferAttribute:qk,Int8Attribute:_te,Int8BufferAttribute:Hk,IntType:TF,InterleavedBuffer:gf,InterleavedBufferAttribute:_u,Interpolant:rl,InterpolateDiscrete:_v,InterpolateLinear:wv,InterpolateSmooth:D_,InvertStencilOp:HK,JSONLoader:Nte,KeepStencilOp:N_,KeyframeTrack:ms,LOD:NN,LatheBufferGeometry:mp,LatheGeometry:mp,Layers:Wh,LensFlare:zte,LessDepth:hF,LessEqualDepth:P_,LessEqualStencilFunc:qK,LessStencilFunc:WK,Light:gs,LightProbe:ey,Line:nl,Line3:XB,LineBasicMaterial:wr,LineCurve:Gv,LineCurve3:nB,LineDashedMaterial:BA,LineLoop:gA,LinePieces:ste,LineSegments:Bi,LineStrip:ote,LinearEncoding:Hr,LinearFilter:Yn,LinearInterpolant:zA,LinearMipMapLinearFilter:DK,LinearMipMapNearestFilter:IK,LinearMipmapLinearFilter:Wa,LinearMipmapNearestFilter:gT,LinearToneMapping:_F,Loader:jr,LoaderUtils:bu,LoadingManager:VA,LogLuvEncoding:_k,LoopOnce:gk,LoopPingPong:yk,LoopRepeat:vk,LuminanceAlphaFormat:IF,LuminanceFormat:LF,MOUSE:Xc,Material:Gr,MaterialLoader:MB,Math:Ak,MathUtils:Ak,Matrix3:Rr,Matrix4:ht,MaxEquation:dT,Mesh:Hn,MeshBasicMaterial:Qa,MeshDepthMaterial:cw,MeshDistanceMaterial:fw,MeshFaceMaterial:cte,MeshLambertMaterial:kA,MeshMatcapMaterial:NA,MeshNormalMaterial:FA,MeshPhongMaterial:bf,MeshPhysicalMaterial:DA,MeshStandardMaterial:Kv,MeshToonMaterial:OA,MinEquation:fT,MirroredRepeatWrapping:ef,MixOperation:yF,MultiMaterial:fte,MultiplyBlending:cT,MultiplyOperation:pv,NearestFilter:ir,NearestMipMapLinearFilter:LK,NearestMipMapNearestFilter:RK,NearestMipmapLinearFilter:I_,NearestMipmapNearestFilter:L_,NeverDepth:fF,NeverStencilFunc:GK,NoBlending:Va,NoColors:ate,NoToneMapping:Ha,NormalAnimationBlendMode:O_,NormalBlending:Ih,NotEqualDepth:vF,NotEqualStencilFunc:KK,NumberKeyframeTrack:Yv,Object3D:Jt,ObjectLoader:Cee,ObjectSpaceNormalMap:bk,OctahedronBufferGeometry:_f,OctahedronGeometry:_f,OneFactor:rF,OneMinusDstAlphaFactor:aF,OneMinusDstColorFactor:uF,OneMinusSrcAlphaFactor:pT,OneMinusSrcColorFactor:oF,OrthographicCamera:hs,PCFShadowMap:oT,PCFSoftShadowMap:sT,PMREMGenerator:rN,ParametricGeometry:Ute,Particle:hte,ParticleBasicMaterial:gte,ParticleSystem:pte,ParticleSystemMaterial:vte,Path:Wv,PerspectiveCamera:Tn,Plane:Us,PlaneBufferGeometry:hf,PlaneGeometry:hf,PlaneHelper:ete,PointCloud:dte,PointCloudMaterial:mte,PointLight:XA,PointLightHelper:Xee,Points:zv,PointsMaterial:xf,PolarGridHelper:$ee,PolyhedronBufferGeometry:Hs,PolyhedronGeometry:Hs,PositionalAudio:Oee,PropertyBinding:ln,PropertyMixer:BB,QuadraticBezierCurve:Rw,QuadraticBezierCurve3:Lw,Quaternion:Lr,QuaternionKeyframeTrack:wp,QuaternionLinearInterpolant:pB,REVISION:rT,RGBADepthPacking:Sk,RGBAFormat:ii,RGBAIntegerFormat:zF,RGBA_ASTC_10x10_Format:JF,RGBA_ASTC_10x5_Format:YF,RGBA_ASTC_10x6_Format:$F,RGBA_ASTC_10x8_Format:ZF,RGBA_ASTC_12x10_Format:QF,RGBA_ASTC_12x12_Format:ek,RGBA_ASTC_4x4_Format:VF,RGBA_ASTC_5x4_Format:HF,RGBA_ASTC_5x5_Format:GF,RGBA_ASTC_6x5_Format:WF,RGBA_ASTC_6x6_Format:jF,RGBA_ASTC_8x5_Format:qF,RGBA_ASTC_8x6_Format:XF,RGBA_ASTC_8x8_Format:KF,RGBA_BPTC_Format:tk,RGBA_ETC2_EAC_Format:TT,RGBA_PVRTC_2BPPV1_Format:MT,RGBA_PVRTC_4BPPV1_Format:bT,RGBA_S3TC_DXT1_Format:yT,RGBA_S3TC_DXT3_Format:xT,RGBA_S3TC_DXT5_Format:_T,RGBDEncoding:RT,RGBEEncoding:k_,RGBEFormat:DF,RGBFormat:nf,RGBIntegerFormat:BF,RGBM16Encoding:PT,RGBM7Encoding:CT,RGB_ETC1_Format:UF,RGB_ETC2_Format:ET,RGB_PVRTC_2BPPV1_Format:ST,RGB_PVRTC_4BPPV1_Format:wT,RGB_S3TC_DXT1_Format:vT,RGFormat:kF,RGIntegerFormat:NF,RawShaderMaterial:tp,Ray:fu,Raycaster:GB,RectAreaLight:$A,RedFormat:OF,RedIntegerFormat:FF,ReinhardToneMapping:wF,RepeatWrapping:Ga,ReplaceStencilOp:NK,ReverseSubtractEquation:tF,RingBufferGeometry:gp,RingGeometry:gp,SRGB8_ALPHA8_ASTC_10x10_Format:hk,SRGB8_ALPHA8_ASTC_10x5_Format:ck,SRGB8_ALPHA8_ASTC_10x6_Format:fk,SRGB8_ALPHA8_ASTC_10x8_Format:dk,SRGB8_ALPHA8_ASTC_12x10_Format:pk,SRGB8_ALPHA8_ASTC_12x12_Format:mk,SRGB8_ALPHA8_ASTC_4x4_Format:nk,SRGB8_ALPHA8_ASTC_5x4_Format:rk,SRGB8_ALPHA8_ASTC_5x5_Format:ik,SRGB8_ALPHA8_ASTC_6x5_Format:ok,SRGB8_ALPHA8_ASTC_6x6_Format:sk,SRGB8_ALPHA8_ASTC_8x5_Format:ak,SRGB8_ALPHA8_ASTC_8x6_Format:lk,SRGB8_ALPHA8_ASTC_8x8_Format:uk,Scene:Ov,SceneUtils:Bte,ShaderChunk:Kt,ShaderLib:ds,ShaderMaterial:tl,ShadowMaterial:IA,Shape:Gs,ShapeBufferGeometry:wf,ShapeGeometry:wf,ShapePath:nte,ShapeUtils:Ws,ShortType:EF,Skeleton:_w,SkeletonHelper:YB,SkinnedMesh:yw,SmoothShading:PK,Sphere:Ka,SphereBufferGeometry:Sf,SphereGeometry:Sf,Spherical:oC,SphericalHarmonics3:ZA,SplineCurve:Iw,SpotLight:jA,SpotLightHelper:qee,Sprite:mw,SpriteMaterial:dw,SrcAlphaFactor:hT,SrcAlphaSaturateFactor:cF,SrcColorFactor:iF,StaticCopyUsage:eY,StaticDrawUsage:kh,StaticReadUsage:ZK,StereoCamera:Ree,StreamCopyUsage:nY,StreamDrawUsage:$K,StreamReadUsage:QK,StringKeyframeTrack:Ef,SubtractEquation:eF,SubtractiveBlending:uT,TOUCH:Kc,TangentSpaceNormalMap:af,TetrahedronBufferGeometry:vp,TetrahedronGeometry:vp,TextGeometry:Vte,Texture:_r,TextureLoader:HA,TorusBufferGeometry:yp,TorusGeometry:yp,TorusKnotBufferGeometry:xp,TorusKnotGeometry:xp,Triangle:pr,TriangleFanDrawMode:FK,TriangleStripDrawMode:OK,TrianglesDrawMode:xk,TubeBufferGeometry:_p,TubeGeometry:_p,UVMapping:R_,Uint16Attribute:Mte,Uint16BufferAttribute:K_,Uint32Attribute:Tte,Uint32BufferAttribute:Y_,Uint8Attribute:wte,Uint8BufferAttribute:Gk,Uint8ClampedAttribute:Ste,Uint8ClampedBufferAttribute:Wk,Uniform:Nw,UniformsLib:$e,UniformsUtils:$k,UnsignedByteType:ja,UnsignedInt248Type:Oh,UnsignedIntType:xv,UnsignedShort4444Type:AF,UnsignedShort5551Type:CF,UnsignedShort565Type:PF,UnsignedShortType:yv,VSMShadowMap:Lh,Vector2:Oe,Vector3:H,Vector4:_n,VectorKeyframeTrack:$v,Vertex:yte,VertexColors:ute,VideoTexture:JN,WebGL1Renderer:IN,WebGLCubeRenderTarget:ow,WebGLMultipleRenderTargets:Rk,WebGLMultisampleRenderTarget:FT,WebGLRenderTarget:ls,WebGLRenderTargetCube:Fte,WebGLRenderer:gn,WebGLUtils:LN,WireframeGeometry:LA,WireframeHelper:Ite,WrapAroundEnding:Sv,XHRLoader:Dte,ZeroCurvatureEnding:of,ZeroFactor:nF,ZeroSlopeEnding:sf,ZeroStencilOp:kK,sRGBEncoding:as});class Kre extends jr{constructor(e){super(e)}load(e,t,r,i){const o=this,s=new vo(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(a){try{t(o.parse(a))}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}parse(e){function t(c){const m=new DataView(c),v=32/8*3+32/8*3*3+16/8,p=m.getUint32(80,!0);if(80+32/8+p*v===m.byteLength)return!0;const y=[115,111,108,105,100];for(let S=0;S<5;S++)if(r(y,m,S))return!1;return!0}function r(c,m,v){for(let p=0,g=c.length;p<g;p++)if(c[p]!==m.getUint8(v+p,!1))return!1;return!0}function i(c){const m=new DataView(c),v=m.getUint32(80,!0);let p,g,y,S=!1,M,x,_,T,E;for(let U=0;U<80-10;U++)m.getUint32(U,!1)==1129270351&&m.getUint8(U+4)==82&&m.getUint8(U+5)==61&&(S=!0,M=new Float32Array(v*3*3),x=m.getUint8(U+6)/255,_=m.getUint8(U+7)/255,T=m.getUint8(U+8)/255,E=m.getUint8(U+9)/255);const C=84,I=12*4+2,R=new gt,D=new Float32Array(v*3*3),k=new Float32Array(v*3*3);for(let U=0;U<v;U++){const B=C+U*I,$=m.getFloat32(B,!0),K=m.getFloat32(B+4,!0),ie=m.getFloat32(B+8,!0);if(S){const Q=m.getUint16(B+48,!0);(Q&32768)==0?(p=(Q&31)/31,g=(Q>>5&31)/31,y=(Q>>10&31)/31):(p=x,g=_,y=T)}for(let Q=1;Q<=3;Q++){const re=B+Q*12,ue=U*3*3+(Q-1)*3;D[ue]=m.getFloat32(re,!0),D[ue+1]=m.getFloat32(re+4,!0),D[ue+2]=m.getFloat32(re+8,!0),k[ue]=$,k[ue+1]=K,k[ue+2]=ie,S&&(M[ue]=p,M[ue+1]=g,M[ue+2]=y)}}return R.setAttribute("position",new Wt(D,3)),R.setAttribute("normal",new Wt(k,3)),S&&(R.setAttribute("color",new Wt(M,3)),R.hasColors=!0,R.alpha=E),R}function o(c){const m=new gt,v=/solid([\s\S]*?)endsolid/g,p=/facet([\s\S]*?)endfacet/g;let g=0;const y=/[\s]+([+-]?(?:\d*)(?:\.\d*)?(?:[eE][+-]?\d+)?)/.source,S=new RegExp("vertex"+y+y+y,"g"),M=new RegExp("normal"+y+y+y,"g"),x=[],_=[],T=new H;let E,C=0,I=0,R=0;for(;(E=v.exec(c))!==null;){I=R;const D=E[0];for(;(E=p.exec(D))!==null;){let B=0,$=0;const K=E[0];for(;(E=M.exec(K))!==null;)T.x=parseFloat(E[1]),T.y=parseFloat(E[2]),T.z=parseFloat(E[3]),$++;for(;(E=S.exec(K))!==null;)x.push(parseFloat(E[1]),parseFloat(E[2]),parseFloat(E[3])),_.push(T.x,T.y,T.z),B++,R++;$!==1&&console.error("THREE.STLLoader: Something isn't right with the normal of face number "+g),B!==3&&console.error("THREE.STLLoader: Something isn't right with the vertices of face number "+g),g++}const k=I,U=R-I;m.addGroup(k,U,C),C++}return m.setAttribute("position",new rt(x,3)),m.setAttribute("normal",new rt(_,3)),m}function s(c){return typeof c!="string"?bu.decodeText(new Uint8Array(c)):c}function a(c){if(typeof c=="string"){const m=new Uint8Array(c.length);for(let v=0;v<c.length;v++)m[v]=c.charCodeAt(v)&255;return m.buffer||m}else return c}const l=a(e);return t(l)?i(l):o(s(e))}}function qte(n){let e;const t=new Set,r=(c,m)=>{const v=typeof c=="function"?c(e):c;if(v!==e){const p=e;e=m?v:Object.assign({},e,v),t.forEach(g=>g(e,p))}},i=()=>e,o=(c,m=i,v=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=m(e);function g(){const y=m(e);if(!v(p,y)){const S=p;c(p=y,S)}}return t.add(g),()=>t.delete(g)},l={setState:r,getState:i,subscribe:(c,m,v)=>m||v?o(c,m,v):(t.add(c),()=>t.delete(c)),destroy:()=>t.clear()};return e=n(r,i,l),l}const Xte=typeof window=="undefined"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),sz=Xte?se.exports.useEffect:se.exports.useLayoutEffect;function az(n){const e=typeof n=="function"?qte(n):n,t=(r=e.getState,i=Object.is)=>{const[,o]=se.exports.useReducer(M=>M+1,0),s=e.getState(),a=se.exports.useRef(s),l=se.exports.useRef(r),c=se.exports.useRef(i),m=se.exports.useRef(!1),v=se.exports.useRef();v.current===void 0&&(v.current=r(s));let p,g=!1;(a.current!==s||l.current!==r||c.current!==i||m.current)&&(p=r(s),g=!i(v.current,p)),sz(()=>{g&&(v.current=p),a.current=s,l.current=r,c.current=i,m.current=!1});const y=se.exports.useRef(s);sz(()=>{const M=()=>{try{const _=e.getState(),T=l.current(_);c.current(v.current,T)||(a.current=_,v.current=T,o())}catch{m.current=!0,o()}},x=e.subscribe(M);return e.getState()!==y.current&&M(),x},[]);const S=g?p:v.current;return se.exports.useDebugValue(S),S};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[t,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},t}var lz={exports:{}},uz={exports:{}};/** @license React v0.26.2
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){n.exports=function(t){var r={},i=j1,o=se.exports,s=zd.exports;function a(f){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+f,w=1;w<arguments.length;w++)d+="&args[]="+encodeURIComponent(arguments[w]);return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,c=60103,m=60106,v=60107,p=60108,g=60114,y=60109,S=60110,M=60112,x=60113,_=60120,T=60115,E=60116,C=60121,I=60129,R=60130,D=60131;if(typeof Symbol=="function"&&Symbol.for){var k=Symbol.for;c=k("react.element"),m=k("react.portal"),v=k("react.fragment"),p=k("react.strict_mode"),g=k("react.profiler"),y=k("react.provider"),S=k("react.context"),M=k("react.forward_ref"),x=k("react.suspense"),_=k("react.suspense_list"),T=k("react.memo"),E=k("react.lazy"),C=k("react.block"),k("react.scope"),I=k("react.debug_trace_mode"),R=k("react.offscreen"),D=k("react.legacy_hidden")}var U=typeof Symbol=="function"&&Symbol.iterator;function B(f){return f===null||typeof f!="object"?null:(f=U&&f[U]||f["@@iterator"],typeof f=="function"?f:null)}function $(f){if(f==null)return null;if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case v:return"Fragment";case m:return"Portal";case g:return"Profiler";case p:return"StrictMode";case x:return"Suspense";case _:return"SuspenseList"}if(typeof f=="object")switch(f.$$typeof){case S:return(f.displayName||"Context")+".Consumer";case y:return(f._context.displayName||"Context")+".Provider";case M:var d=f.render;return d=d.displayName||d.name||"",f.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case T:return $(f.type);case C:return $(f._render);case E:d=f._payload,f=f._init;try{return $(f(d))}catch{}}return null}function K(f){var d=f,w=f;if(f.alternate)for(;d.return;)d=d.return;else{f=d;do d=f,(d.flags&1026)!=0&&(w=d.return),f=d.return;while(f)}return d.tag===3?w:null}function ie(f){if(K(f)!==f)throw Error(a(188))}function Q(f){var d=f.alternate;if(!d){if(d=K(f),d===null)throw Error(a(188));return d!==f?null:f}for(var w=f,A=d;;){var L=w.return;if(L===null)break;var F=L.alternate;if(F===null){if(A=L.return,A!==null){w=A;continue}break}if(L.child===F.child){for(F=L.child;F;){if(F===w)return ie(L),f;if(F===A)return ie(L),d;F=F.sibling}throw Error(a(188))}if(w.return!==A.return)w=L,A=F;else{for(var q=!1,le=L.child;le;){if(le===w){q=!0,w=L,A=F;break}if(le===A){q=!0,A=L,w=F;break}le=le.sibling}if(!q){for(le=F.child;le;){if(le===w){q=!0,w=F,A=L;break}if(le===A){q=!0,A=F,w=L;break}le=le.sibling}if(!q)throw Error(a(189))}}if(w.alternate!==A)throw Error(a(190))}if(w.tag!==3)throw Error(a(188));return w.stateNode.current===w?f:d}function re(f){if(f=Q(f),!f)return null;for(var d=f;;){if(d.tag===5||d.tag===6)return d;if(d.child)d.child.return=d,d=d.child;else{if(d===f)break;for(;!d.sibling;){if(!d.return||d.return===f)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}}return null}function ue(f){if(f=Q(f),!f)return null;for(var d=f;;){if(d.tag===5||d.tag===6)return d;if(d.child&&d.tag!==4)d.child.return=d,d=d.child;else{if(d===f)break;for(;!d.sibling;){if(!d.return||d.return===f)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}}return null}function Pe(f,d){for(var w=f.alternate;d!==null;){if(d===f||d===w)return!0;d=d.return}return!1}var Ue=t.getPublicInstance,Ve=t.getRootHostContext,te=t.getChildHostContext,me=t.prepareForCommit,J=t.resetAfterCommit,V=t.createInstance,j=t.appendInitialChild,Y=t.finalizeInitialChildren,de=t.prepareUpdate,ye=t.shouldSetTextContent,ge=t.createTextInstance,be=t.scheduleTimeout,De=t.cancelTimeout,ee=t.noTimeout,pe=t.isPrimaryRenderer,ve=t.supportsMutation,Le=t.supportsPersistence,He=t.supportsHydration,W=t.getInstanceFromNode,G=t.makeOpaqueHydratingObject,xe=t.makeClientId,Ae=t.beforeActiveInstanceBlur,Te=t.afterActiveInstanceBlur,We=t.preparePortalMount,Ye=t.supportsTestSelectors,et=t.findFiberRoot,st=t.getBoundingRect,it=t.getTextContent,oe=t.isHiddenSubtree,Xe=t.matchAccessibilityRole,Ne=t.setFocusIfFocusable,ct=t.setupIntersectionObserver,ot=t.appendChild,ae=t.appendChildToContainer,Ge=t.commitTextUpdate,at=t.commitMount,It=t.commitUpdate,Ot=t.insertBefore,Cn=t.insertInContainerBefore,vr=t.removeChild,al=t.removeChildFromContainer,qr=t.resetTextContent,Xr=t.hideInstance,_o=t.hideTextInstance,Df=t.unhideInstance,Of=t.unhideTextInstance,Iu=t.clearContainer,ll=t.cloneInstance,Du=t.createContainerChildSet,ul=t.appendChildToContainerChildSet,Ff=t.finalizeContainerChildren,kf=t.replaceContainerChildren,cl=t.cloneHiddenInstance,Nf=t.cloneHiddenTextInstance,X=t.canHydrateInstance,we=t.canHydrateTextInstance,Ie=t.isSuspenseInstancePending,Me=t.isSuspenseInstanceFallback,Be=t.getNextHydratableSibling,Et=t.getFirstHydratableChild,wt=t.hydrateInstance,yt=t.hydrateTextInstance,Bt=t.getNextHydratableInstanceAfterSuspenseInstance,en=t.commitHydratedContainer,Gt=t.commitHydratedSuspenseInstance,jt;function dn(f){if(jt===void 0)try{throw Error()}catch(w){var d=w.stack.trim().match(/\n( *(at )?)/);jt=d&&d[1]||""}return`
`+jt+f}var no=!1;function qt(f,d){if(!f||no)return"";no=!0;var w=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(Ee){var A=Ee}Reflect.construct(f,[],d)}else{try{d.call()}catch(Ee){A=Ee}f.call(d.prototype)}else{try{throw Error()}catch(Ee){A=Ee}f()}}catch(Ee){if(Ee&&A&&typeof Ee.stack=="string"){for(var L=Ee.stack.split(`
`),F=A.stack.split(`
`),q=L.length-1,le=F.length-1;1<=q&&0<=le&&L[q]!==F[le];)le--;for(;1<=q&&0<=le;q--,le--)if(L[q]!==F[le]){if(q!==1||le!==1)do if(q--,le--,0>le||L[q]!==F[le])return`
`+L[q].replace(" at new "," at ");while(1<=q&&0<=le);break}}}finally{no=!1,Error.prepareStackTrace=w}return(f=f?f.displayName||f.name:"")?dn(f):""}var zo=[],Yt=-1;function Ir(f){return{current:f}}function Xt(f){0>Yt||(f.current=zo[Yt],zo[Yt]=null,Yt--)}function un(f,d){Yt++,zo[Yt]=f.current,f.current=d}var Sr={},zt=Ir(Sr),Wn=Ir(!1),Zn=Sr;function Xs(f,d){var w=f.type.contextTypes;if(!w)return Sr;var A=f.stateNode;if(A&&A.__reactInternalMemoizedUnmaskedChildContext===d)return A.__reactInternalMemoizedMaskedChildContext;var L={},F;for(F in w)L[F]=d[F];return A&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=d,f.__reactInternalMemoizedMaskedChildContext=L),L}function ai(f){return f=f.childContextTypes,f!=null}function Bf(){Xt(Wn),Xt(zt)}function cy(f,d,w){if(zt.current!==Sr)throw Error(a(168));un(zt,d),un(Wn,w)}function fy(f,d,w){var A=f.stateNode;if(f=d.childContextTypes,typeof A.getChildContext!="function")return w;A=A.getChildContext();for(var L in A)if(!(L in f))throw Error(a(108,$(d)||"Unknown",L));return i({},w,A)}function Ou(f){return f=(f=f.stateNode)&&f.__reactInternalMemoizedMergedChildContext||Sr,Zn=zt.current,un(zt,f),un(Wn,Wn.current),!0}function Pp(f,d,w){var A=f.stateNode;if(!A)throw Error(a(169));w?(f=fy(f,d,Zn),A.__reactInternalMemoizedMergedChildContext=f,Xt(Wn),Xt(zt),un(zt,f)):Xt(Wn),un(Wn,w)}var zf=null,Uo=null,e1=s.unstable_now;e1();var Fu=0,fn=8;function _s(f){if((1&f)!=0)return fn=15,1;if((2&f)!=0)return fn=14,2;if((4&f)!=0)return fn=13,4;var d=24&f;return d!==0?(fn=12,d):(f&32)!=0?(fn=11,32):(d=192&f,d!==0?(fn=10,d):(f&256)!=0?(fn=9,256):(d=3584&f,d!==0?(fn=8,d):(f&4096)!=0?(fn=7,4096):(d=4186112&f,d!==0?(fn=6,d):(d=62914560&f,d!==0?(fn=5,d):f&67108864?(fn=4,67108864):(f&134217728)!=0?(fn=3,134217728):(d=805306368&f,d!==0?(fn=2,d):(1073741824&f)!=0?(fn=1,1073741824):(fn=8,f))))))}function t1(f){switch(f){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function dy(f){switch(f){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,f))}}function fl(f,d){var w=f.pendingLanes;if(w===0)return fn=0;var A=0,L=0,F=f.expiredLanes,q=f.suspendedLanes,le=f.pingedLanes;if(F!==0)A=F,L=fn=15;else if(F=w&134217727,F!==0){var Ee=F&~q;Ee!==0?(A=_s(Ee),L=fn):(le&=F,le!==0&&(A=_s(le),L=fn))}else F=w&~q,F!==0?(A=_s(F),L=fn):le!==0&&(A=_s(le),L=fn);if(A===0)return 0;if(A=31-Mi(A),A=w&((0>A?0:1<<A)<<1)-1,d!==0&&d!==A&&(d&q)==0){if(_s(d),L<=fn)return d;fn=L}if(d=f.entangledLanes,d!==0)for(f=f.entanglements,d&=A;0<d;)w=31-Mi(d),L=1<<w,A|=f[w],d&=~L;return A}function Uf(f){return f=f.pendingLanes&-1073741825,f!==0?f:f&1073741824?1073741824:0}function Vf(f,d){switch(f){case 15:return 1;case 14:return 2;case 12:return f=Ks(24&~d),f===0?Vf(10,d):f;case 10:return f=Ks(192&~d),f===0?Vf(8,d):f;case 8:return f=Ks(3584&~d),f===0&&(f=Ks(4186112&~d),f===0&&(f=512)),f;case 2:return d=Ks(805306368&~d),d===0&&(d=268435456),d}throw Error(a(358,f))}function Ks(f){return f&-f}function ku(f){for(var d=[],w=0;31>w;w++)d.push(f);return d}function dl(f,d,w){f.pendingLanes|=d;var A=d-1;f.suspendedLanes&=A,f.pingedLanes&=A,f=f.eventTimes,d=31-Mi(d),f[d]=w}var Mi=Math.clz32?Math.clz32:n1,hy=Math.log,py=Math.LN2;function n1(f){return f===0?32:31-(hy(f)/py|0)|0}var my=s.unstable_runWithPriority,Hf=s.unstable_scheduleCallback,Gf=s.unstable_cancelCallback,gy=s.unstable_shouldYield,vy=s.unstable_requestPaint,Rp=s.unstable_now,r1=s.unstable_getCurrentPriorityLevel,Nu=s.unstable_ImmediatePriority,yy=s.unstable_UserBlockingPriority,xy=s.unstable_NormalPriority,_y=s.unstable_LowPriority,wy=s.unstable_IdlePriority,Bu={},i1=vy!==void 0?vy:function(){},Vo=null,Wf=null,Lp=!1,Sy=Rp(),Ft=1e4>Sy?Rp:function(){return Rp()-Sy};function rn(){switch(r1()){case Nu:return 99;case yy:return 98;case xy:return 97;case _y:return 96;case wy:return 95;default:throw Error(a(332))}}function by(f){switch(f){case 99:return Nu;case 98:return yy;case 97:return xy;case 96:return _y;case 95:return wy;default:throw Error(a(332))}}function Ho(f,d){return f=by(f),my(f,d)}function zu(f,d,w){return f=by(f),Hf(f,d,w)}function zi(){if(Wf!==null){var f=Wf;Wf=null,Gf(f)}My()}function My(){if(!Lp&&Vo!==null){Lp=!0;var f=0;try{var d=Vo;Ho(99,function(){for(;f<d.length;f++){var w=d[f];do w=w(!0);while(w!==null)}}),Vo=null}catch(w){throw Vo!==null&&(Vo=Vo.slice(f+1)),Hf(Nu,zi),w}finally{Lp=!1}}}var o1=l.ReactCurrentBatchConfig;function Ey(f,d){return f===d&&(f!==0||1/f==1/d)||f!==f&&d!==d}var Ui=typeof Object.is=="function"?Object.is:Ey,br=Object.prototype.hasOwnProperty;function hl(f,d){if(Ui(f,d))return!0;if(typeof f!="object"||f===null||typeof d!="object"||d===null)return!1;var w=Object.keys(f),A=Object.keys(d);if(w.length!==A.length)return!1;for(A=0;A<w.length;A++)if(!br.call(d,w[A])||!Ui(f[w[A]],d[w[A]]))return!1;return!0}function Ys(f){switch(f.tag){case 5:return dn(f.type);case 16:return dn("Lazy");case 13:return dn("Suspense");case 19:return dn("SuspenseList");case 0:case 2:case 15:return f=qt(f.type,!1),f;case 11:return f=qt(f.type.render,!1),f;case 22:return f=qt(f.type._render,!1),f;case 1:return f=qt(f.type,!0),f;default:return""}}function Vi(f,d){if(f&&f.defaultProps){d=i({},d),f=f.defaultProps;for(var w in f)d[w]===void 0&&(d[w]=f[w]);return d}return d}var pl=Ir(null),Kr=null,$s=null,Uu=null;function jf(){Uu=$s=Kr=null}function Ip(f,d){f=f.type._context,pe?(un(pl,f._currentValue),f._currentValue=d):(un(pl,f._currentValue2),f._currentValue2=d)}function qf(f){var d=pl.current;Xt(pl),f=f.type._context,pe?f._currentValue=d:f._currentValue2=d}function Dp(f,d){for(;f!==null;){var w=f.alternate;if((f.childLanes&d)===d){if(w===null||(w.childLanes&d)===d)break;w.childLanes|=d}else f.childLanes|=d,w!==null&&(w.childLanes|=d);f=f.return}}function yr(f,d){Kr=f,Uu=$s=null,f=f.dependencies,f!==null&&f.firstContext!==null&&((f.lanes&d)!=0&&(ji=!0),f.firstContext=null)}function Hi(f,d){if(Uu!==f&&d!==!1&&d!==0)if((typeof d!="number"||d===1073741823)&&(Uu=f,d=1073741823),d={context:f,observedBits:d,next:null},$s===null){if(Kr===null)throw Error(a(308));$s=d,Kr.dependencies={lanes:0,firstContext:d,responders:null}}else $s=$s.next=d;return pe?f._currentValue:f._currentValue2}var sr=!1;function Op(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function Fp(f,d){f=f.updateQueue,d.updateQueue===f&&(d.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,effects:f.effects})}function Yr(f,d){return{eventTime:f,lane:d,tag:0,payload:null,callback:null,next:null}}function ro(f,d){if(f=f.updateQueue,f!==null){f=f.shared;var w=f.pending;w===null?d.next=d:(d.next=w.next,w.next=d),f.pending=d}}function Xf(f,d){var w=f.updateQueue,A=f.alternate;if(A!==null&&(A=A.updateQueue,w===A)){var L=null,F=null;if(w=w.firstBaseUpdate,w!==null){do{var q={eventTime:w.eventTime,lane:w.lane,tag:w.tag,payload:w.payload,callback:w.callback,next:null};F===null?L=F=q:F=F.next=q,w=w.next}while(w!==null);F===null?L=F=d:F=F.next=d}else L=F=d;w={baseState:A.baseState,firstBaseUpdate:L,lastBaseUpdate:F,shared:A.shared,effects:A.effects},f.updateQueue=w;return}f=w.lastBaseUpdate,f===null?w.firstBaseUpdate=d:f.next=d,w.lastBaseUpdate=d}function hn(f,d,w,A){var L=f.updateQueue;sr=!1;var F=L.firstBaseUpdate,q=L.lastBaseUpdate,le=L.shared.pending;if(le!==null){L.shared.pending=null;var Ee=le,Ke=Ee.next;Ee.next=null,q===null?F=Ke:q.next=Ke,q=Ee;var pt=f.alternate;if(pt!==null){pt=pt.updateQueue;var vt=pt.lastBaseUpdate;vt!==q&&(vt===null?pt.firstBaseUpdate=Ke:vt.next=Ke,pt.lastBaseUpdate=Ee)}}if(F!==null){vt=L.baseState,q=0,pt=Ke=Ee=null;do{le=F.lane;var tt=F.eventTime;if((A&le)===le){pt!==null&&(pt=pt.next={eventTime:tt,lane:0,tag:F.tag,payload:F.payload,callback:F.callback,next:null});e:{var Qt=f,Mn=F;switch(le=d,tt=w,Mn.tag){case 1:if(Qt=Mn.payload,typeof Qt=="function"){vt=Qt.call(tt,vt,le);break e}vt=Qt;break e;case 3:Qt.flags=Qt.flags&-4097|64;case 0:if(Qt=Mn.payload,le=typeof Qt=="function"?Qt.call(tt,vt,le):Qt,le==null)break e;vt=i({},vt,le);break e;case 2:sr=!0}}F.callback!==null&&(f.flags|=32,le=L.effects,le===null?L.effects=[F]:le.push(F))}else tt={eventTime:tt,lane:le,tag:F.tag,payload:F.payload,callback:F.callback,next:null},pt===null?(Ke=pt=tt,Ee=vt):pt=pt.next=tt,q|=le;if(F=F.next,F===null){if(le=L.shared.pending,le===null)break;F=le.next,le.next=null,L.lastBaseUpdate=le,L.shared.pending=null}}while(1);pt===null&&(Ee=vt),L.baseState=Ee,L.firstBaseUpdate=Ke,L.lastBaseUpdate=pt,oc|=q,f.lanes=q,f.memoizedState=vt}}function Go(f,d,w){if(f=d.effects,d.effects=null,f!==null)for(d=0;d<f.length;d++){var A=f[d],L=A.callback;if(L!==null){if(A.callback=null,A=w,typeof L!="function")throw Error(a(191,L));L.call(A)}}}var Kf=new o.Component().refs;function Yf(f,d,w,A){d=f.memoizedState,w=w(A,d),w=w==null?d:i({},d,w),f.memoizedState=w,f.lanes===0&&(f.updateQueue.baseState=w)}var ml={isMounted:function(f){return(f=f._reactInternals)?K(f)===f:!1},enqueueSetState:function(f,d,w){f=f._reactInternals;var A=Jr(),L=Tr(f),F=Yr(A,L);F.payload=d,w!=null&&(F.callback=w),ro(f,F),io(f,L,A)},enqueueReplaceState:function(f,d,w){f=f._reactInternals;var A=Jr(),L=Tr(f),F=Yr(A,L);F.tag=1,F.payload=d,w!=null&&(F.callback=w),ro(f,F),io(f,L,A)},enqueueForceUpdate:function(f,d){f=f._reactInternals;var w=Jr(),A=Tr(f),L=Yr(w,A);L.tag=2,d!=null&&(L.callback=d),ro(f,L),io(f,A,w)}};function Ty(f,d,w,A,L,F,q){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(A,F,q):d.prototype&&d.prototype.isPureReactComponent?!hl(w,A)||!hl(L,F):!0}function Ay(f,d,w){var A=!1,L=Sr,F=d.contextType;return typeof F=="object"&&F!==null?F=Hi(F):(L=ai(d)?Zn:zt.current,A=d.contextTypes,F=(A=A!=null)?Xs(f,L):Sr),d=new d(w,F),f.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=ml,f.stateNode=d,d._reactInternals=f,A&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=L,f.__reactInternalMemoizedMaskedChildContext=F),d}function Cy(f,d,w,A){f=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(w,A),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(w,A),d.state!==f&&ml.enqueueReplaceState(d,d.state,null)}function $f(f,d,w,A){var L=f.stateNode;L.props=w,L.state=f.memoizedState,L.refs=Kf,Op(f);var F=d.contextType;typeof F=="object"&&F!==null?L.context=Hi(F):(F=ai(d)?Zn:zt.current,L.context=Xs(f,F)),hn(f,w,L,A),L.state=f.memoizedState,F=d.getDerivedStateFromProps,typeof F=="function"&&(Yf(f,d,F,w),L.state=f.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof L.getSnapshotBeforeUpdate=="function"||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(d=L.state,typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount(),d!==L.state&&ml.enqueueReplaceState(L,L.state,null),hn(f,w,L,A),L.state=f.memoizedState),typeof L.componentDidMount=="function"&&(f.flags|=4)}var Zs=Array.isArray;function wo(f,d,w){if(f=w.ref,f!==null&&typeof f!="function"&&typeof f!="object"){if(w._owner){if(w=w._owner,w){if(w.tag!==1)throw Error(a(309));var A=w.stateNode}if(!A)throw Error(a(147,f));var L=""+f;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===L?d.ref:(d=function(F){var q=A.refs;q===Kf&&(q=A.refs={}),F===null?delete q[L]:q[L]=F},d._stringRef=L,d)}if(typeof f!="string")throw Error(a(284));if(!w._owner)throw Error(a(290,f))}return f}function Zf(f,d){if(f.type!=="textarea")throw Error(a(31,Object.prototype.toString.call(d)==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":d))}function kp(f){function d(_e,fe){if(f){var Re=_e.lastEffect;Re!==null?(Re.nextEffect=fe,_e.lastEffect=fe):_e.firstEffect=_e.lastEffect=fe,fe.nextEffect=null,fe.flags=8}}function w(_e,fe){if(!f)return null;for(;fe!==null;)d(_e,fe),fe=fe.sibling;return null}function A(_e,fe){for(_e=new Map;fe!==null;)fe.key!==null?_e.set(fe.key,fe):_e.set(fe.index,fe),fe=fe.sibling;return _e}function L(_e,fe){return _e=At(_e,fe),_e.index=0,_e.sibling=null,_e}function F(_e,fe,Re){return _e.index=Re,f?(Re=_e.alternate,Re!==null?(Re=Re.index,Re<fe?(_e.flags=2,fe):Re):(_e.flags=2,fe)):fe}function q(_e){return f&&_e.alternate===null&&(_e.flags=2),_e}function le(_e,fe,Re,Qe){return fe===null||fe.tag!==6?(fe=Pd(Re,_e.mode,Qe),fe.return=_e,fe):(fe=L(fe,Re),fe.return=_e,fe)}function Ee(_e,fe,Re,Qe){return fe!==null&&fe.elementType===Re.type?(Qe=L(fe,Re.props),Qe.ref=wo(_e,fe,Re),Qe.return=_e,Qe):(Qe=Cd(Re.type,Re.key,Re.props,null,_e.mode,Qe),Qe.ref=wo(_e,fe,Re),Qe.return=_e,Qe)}function Ke(_e,fe,Re,Qe){return fe===null||fe.tag!==4||fe.stateNode.containerInfo!==Re.containerInfo||fe.stateNode.implementation!==Re.implementation?(fe=gm(Re,_e.mode,Qe),fe.return=_e,fe):(fe=L(fe,Re.children||[]),fe.return=_e,fe)}function pt(_e,fe,Re,Qe,mt){return fe===null||fe.tag!==7?(fe=Tl(Re,_e.mode,Qe,mt),fe.return=_e,fe):(fe=L(fe,Re),fe.return=_e,fe)}function vt(_e,fe,Re){if(typeof fe=="string"||typeof fe=="number")return fe=Pd(""+fe,_e.mode,Re),fe.return=_e,fe;if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case c:return Re=Cd(fe.type,fe.key,fe.props,null,_e.mode,Re),Re.ref=wo(_e,null,fe),Re.return=_e,Re;case m:return fe=gm(fe,_e.mode,Re),fe.return=_e,fe}if(Zs(fe)||B(fe))return fe=Tl(fe,_e.mode,Re,null),fe.return=_e,fe;Zf(_e,fe)}return null}function tt(_e,fe,Re,Qe){var mt=fe!==null?fe.key:null;if(typeof Re=="string"||typeof Re=="number")return mt!==null?null:le(_e,fe,""+Re,Qe);if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case c:return Re.key===mt?Re.type===v?pt(_e,fe,Re.props.children,Qe,mt):Ee(_e,fe,Re,Qe):null;case m:return Re.key===mt?Ke(_e,fe,Re,Qe):null}if(Zs(Re)||B(Re))return mt!==null?null:pt(_e,fe,Re,Qe,null);Zf(_e,Re)}return null}function Qt(_e,fe,Re,Qe,mt){if(typeof Qe=="string"||typeof Qe=="number")return _e=_e.get(Re)||null,le(fe,_e,""+Qe,mt);if(typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case c:return _e=_e.get(Qe.key===null?Re:Qe.key)||null,Qe.type===v?pt(fe,_e,Qe.props.children,mt,Qe.key):Ee(fe,_e,Qe,mt);case m:return _e=_e.get(Qe.key===null?Re:Qe.key)||null,Ke(fe,_e,Qe,mt)}if(Zs(Qe)||B(Qe))return _e=_e.get(Re)||null,pt(fe,_e,Qe,mt,null);Zf(fe,Qe)}return null}function Mn(_e,fe,Re,Qe){for(var mt=null,yn=null,Lt=fe,sn=fe=0,Xn=null;Lt!==null&&sn<Re.length;sn++){Lt.index>sn?(Xn=Lt,Lt=null):Xn=Lt.sibling;var Tt=tt(_e,Lt,Re[sn],Qe);if(Tt===null){Lt===null&&(Lt=Xn);break}f&&Lt&&Tt.alternate===null&&d(_e,Lt),fe=F(Tt,fe,sn),yn===null?mt=Tt:yn.sibling=Tt,yn=Tt,Lt=Xn}if(sn===Re.length)return w(_e,Lt),mt;if(Lt===null){for(;sn<Re.length;sn++)Lt=vt(_e,Re[sn],Qe),Lt!==null&&(fe=F(Lt,fe,sn),yn===null?mt=Lt:yn.sibling=Lt,yn=Lt);return mt}for(Lt=A(_e,Lt);sn<Re.length;sn++)Xn=Qt(Lt,_e,sn,Re[sn],Qe),Xn!==null&&(f&&Xn.alternate!==null&&Lt.delete(Xn.key===null?sn:Xn.key),fe=F(Xn,fe,sn),yn===null?mt=Xn:yn.sibling=Xn,yn=Xn);return f&&Lt.forEach(function(Ar){return d(_e,Ar)}),mt}function Ci(_e,fe,Re,Qe){var mt=B(Re);if(typeof mt!="function")throw Error(a(150));if(Re=mt.call(Re),Re==null)throw Error(a(151));for(var yn=mt=null,Lt=fe,sn=fe=0,Xn=null,Tt=Re.next();Lt!==null&&!Tt.done;sn++,Tt=Re.next()){Lt.index>sn?(Xn=Lt,Lt=null):Xn=Lt.sibling;var Ar=tt(_e,Lt,Tt.value,Qe);if(Ar===null){Lt===null&&(Lt=Xn);break}f&&Lt&&Ar.alternate===null&&d(_e,Lt),fe=F(Ar,fe,sn),yn===null?mt=Ar:yn.sibling=Ar,yn=Ar,Lt=Xn}if(Tt.done)return w(_e,Lt),mt;if(Lt===null){for(;!Tt.done;sn++,Tt=Re.next())Tt=vt(_e,Tt.value,Qe),Tt!==null&&(fe=F(Tt,fe,sn),yn===null?mt=Tt:yn.sibling=Tt,yn=Tt);return mt}for(Lt=A(_e,Lt);!Tt.done;sn++,Tt=Re.next())Tt=Qt(Lt,_e,sn,Tt.value,Qe),Tt!==null&&(f&&Tt.alternate!==null&&Lt.delete(Tt.key===null?sn:Tt.key),fe=F(Tt,fe,sn),yn===null?mt=Tt:yn.sibling=Tt,yn=Tt);return f&&Lt.forEach(function(y1){return d(_e,y1)}),mt}return function(_e,fe,Re,Qe){var mt=typeof Re=="object"&&Re!==null&&Re.type===v&&Re.key===null;mt&&(Re=Re.props.children);var yn=typeof Re=="object"&&Re!==null;if(yn)switch(Re.$$typeof){case c:e:{for(yn=Re.key,mt=fe;mt!==null;){if(mt.key===yn){switch(mt.tag){case 7:if(Re.type===v){w(_e,mt.sibling),fe=L(mt,Re.props.children),fe.return=_e,_e=fe;break e}break;default:if(mt.elementType===Re.type){w(_e,mt.sibling),fe=L(mt,Re.props),fe.ref=wo(_e,mt,Re),fe.return=_e,_e=fe;break e}}w(_e,mt);break}else d(_e,mt);mt=mt.sibling}Re.type===v?(fe=Tl(Re.props.children,_e.mode,Qe,Re.key),fe.return=_e,_e=fe):(Qe=Cd(Re.type,Re.key,Re.props,null,_e.mode,Qe),Qe.ref=wo(_e,fe,Re),Qe.return=_e,_e=Qe)}return q(_e);case m:e:{for(mt=Re.key;fe!==null;){if(fe.key===mt)if(fe.tag===4&&fe.stateNode.containerInfo===Re.containerInfo&&fe.stateNode.implementation===Re.implementation){w(_e,fe.sibling),fe=L(fe,Re.children||[]),fe.return=_e,_e=fe;break e}else{w(_e,fe);break}else d(_e,fe);fe=fe.sibling}fe=gm(Re,_e.mode,Qe),fe.return=_e,_e=fe}return q(_e)}if(typeof Re=="string"||typeof Re=="number")return Re=""+Re,fe!==null&&fe.tag===6?(w(_e,fe.sibling),fe=L(fe,Re),fe.return=_e,_e=fe):(w(_e,fe),fe=Pd(Re,_e.mode,Qe),fe.return=_e,_e=fe),q(_e);if(Zs(Re))return Mn(_e,fe,Re,Qe);if(B(Re))return Ci(_e,fe,Re,Qe);if(yn&&Zf(_e,Re),typeof Re=="undefined"&&!mt)switch(_e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,$(_e.type)||"Component"))}return w(_e,fe)}}var Vu=kp(!0),Jf=kp(!1),Js={},Ei=Ir(Js),Hu=Ir(Js),ws=Ir(Js);function Gi(f){if(f===Js)throw Error(a(174));return f}function Np(f,d){un(ws,d),un(Hu,f),un(Ei,Js),f=Ve(d),Xt(Ei),un(Ei,f)}function Qs(){Xt(Ei),Xt(Hu),Xt(ws)}function li(f){var d=Gi(ws.current),w=Gi(Ei.current);d=te(w,f.type,d),w!==d&&(un(Hu,f),un(Ei,d))}function Gu(f){Hu.current===f&&(Xt(Ei),Xt(Hu))}var wn=Ir(0);function Wu(f){for(var d=f;d!==null;){if(d.tag===13){var w=d.memoizedState;if(w!==null&&(w=w.dehydrated,w===null||Ie(w)||Me(w)))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&64)!=0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===f)break;for(;d.sibling===null;){if(d.return===null||d.return===f)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var So=null,ea=null,bo=!1;function Py(f,d){var w=di(5,null,null,0);w.elementType="DELETED",w.type="DELETED",w.stateNode=d,w.return=f,w.flags=8,f.lastEffect!==null?(f.lastEffect.nextEffect=w,f.lastEffect=w):f.firstEffect=f.lastEffect=w}function Ry(f,d){switch(f.tag){case 5:return d=X(d,f.type,f.pendingProps),d!==null?(f.stateNode=d,!0):!1;case 6:return d=we(d,f.pendingProps),d!==null?(f.stateNode=d,!0):!1;case 13:return!1;default:return!1}}function Bp(f){if(bo){var d=ea;if(d){var w=d;if(!Ry(f,d)){if(d=Be(w),!d||!Ry(f,d)){f.flags=f.flags&-1025|2,bo=!1,So=f;return}Py(So,w)}So=f,ea=Et(d)}else f.flags=f.flags&-1025|2,bo=!1,So=f}}function ta(f){for(f=f.return;f!==null&&f.tag!==5&&f.tag!==3&&f.tag!==13;)f=f.return;So=f}function Qf(f){if(!He||f!==So)return!1;if(!bo)return ta(f),bo=!0,!1;var d=f.type;if(f.tag!==5||d!=="head"&&d!=="body"&&!ye(d,f.memoizedProps))for(d=ea;d;)Py(f,d),d=Be(d);if(ta(f),f.tag===13){if(!He)throw Error(a(316));if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));ea=Bt(f)}else ea=So?Be(f.stateNode):null;return!0}function zp(){He&&(ea=So=null,bo=!1)}var Ss=[];function ed(){for(var f=0;f<Ss.length;f++){var d=Ss[f];pe?d._workInProgressVersionPrimary=null:d._workInProgressVersionSecondary=null}Ss.length=0}var Wi=l.ReactCurrentDispatcher,$r=l.ReactCurrentBatchConfig,ju=0,jn=null,Dr=null,Bn=null,ui=!1,gl=!1;function ci(){throw Error(a(321))}function Up(f,d){if(d===null)return!1;for(var w=0;w<d.length&&w<f.length;w++)if(!Ui(f[w],d[w]))return!1;return!0}function Vp(f,d,w,A,L,F){if(ju=F,jn=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,Wi.current=f===null||f.memoizedState===null?s1:id,f=w(A,L),gl){F=0;do{if(gl=!1,!(25>F))throw Error(a(301));F+=1,Bn=Dr=null,d.updateQueue=null,Wi.current=bs,f=w(A,L)}while(gl)}if(Wi.current=rd,d=Dr!==null&&Dr.next!==null,ju=0,Bn=Dr=jn=null,ui=!1,d)throw Error(a(300));return f}function na(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bn===null?jn.memoizedState=Bn=f:Bn=Bn.next=f,Bn}function ra(){if(Dr===null){var f=jn.alternate;f=f!==null?f.memoizedState:null}else f=Dr.next;var d=Bn===null?jn.memoizedState:Bn.next;if(d!==null)Bn=d,Dr=f;else{if(f===null)throw Error(a(310));Dr=f,f={memoizedState:Dr.memoizedState,baseState:Dr.baseState,baseQueue:Dr.baseQueue,queue:Dr.queue,next:null},Bn===null?jn.memoizedState=Bn=f:Bn=Bn.next=f}return Bn}function Zr(f,d){return typeof d=="function"?d(f):d}function ce(f){var d=ra(),w=d.queue;if(w===null)throw Error(a(311));w.lastRenderedReducer=f;var A=Dr,L=A.baseQueue,F=w.pending;if(F!==null){if(L!==null){var q=L.next;L.next=F.next,F.next=q}A.baseQueue=L=F,w.pending=null}if(L!==null){L=L.next,A=A.baseState;var le=q=F=null,Ee=L;do{var Ke=Ee.lane;if((ju&Ke)===Ke)le!==null&&(le=le.next={lane:0,action:Ee.action,eagerReducer:Ee.eagerReducer,eagerState:Ee.eagerState,next:null}),A=Ee.eagerReducer===f?Ee.eagerState:f(A,Ee.action);else{var pt={lane:Ke,action:Ee.action,eagerReducer:Ee.eagerReducer,eagerState:Ee.eagerState,next:null};le===null?(q=le=pt,F=A):le=le.next=pt,jn.lanes|=Ke,oc|=Ke}Ee=Ee.next}while(Ee!==null&&Ee!==L);le===null?F=A:le.next=q,Ui(A,d.memoizedState)||(ji=!0),d.memoizedState=A,d.baseState=F,d.baseQueue=le,w.lastRenderedState=A}return[d.memoizedState,w.dispatch]}function Ce(f){var d=ra(),w=d.queue;if(w===null)throw Error(a(311));w.lastRenderedReducer=f;var A=w.dispatch,L=w.pending,F=d.memoizedState;if(L!==null){w.pending=null;var q=L=L.next;do F=f(F,q.action),q=q.next;while(q!==L);Ui(F,d.memoizedState)||(ji=!0),d.memoizedState=F,d.baseQueue===null&&(d.baseState=F),w.lastRenderedState=F}return[F,A]}function Se(f,d,w){var A=d._getVersion;A=A(d._source);var L=pe?d._workInProgressVersionPrimary:d._workInProgressVersionSecondary;if(L!==null?f=L===A:(f=f.mutableReadLanes,(f=(ju&f)===f)&&(pe?d._workInProgressVersionPrimary=A:d._workInProgressVersionSecondary=A,Ss.push(d))),f)return w(d._source);throw Ss.push(d),Error(a(350))}function nt(f,d,w,A){var L=bn;if(L===null)throw Error(a(349));var F=d._getVersion,q=F(d._source),le=Wi.current,Ee=le.useState(function(){return Se(L,d,w)}),Ke=Ee[1],pt=Ee[0];Ee=Bn;var vt=f.memoizedState,tt=vt.refs,Qt=tt.getSnapshot,Mn=vt.source;vt=vt.subscribe;var Ci=jn;return f.memoizedState={refs:tt,source:d,subscribe:A},le.useEffect(function(){tt.getSnapshot=w,tt.setSnapshot=Ke;var _e=F(d._source);if(!Ui(q,_e)){_e=w(d._source),Ui(pt,_e)||(Ke(_e),_e=Tr(Ci),L.mutableReadLanes|=_e&L.pendingLanes),_e=L.mutableReadLanes,L.entangledLanes|=_e;for(var fe=L.entanglements,Re=_e;0<Re;){var Qe=31-Mi(Re),mt=1<<Qe;fe[Qe]|=_e,Re&=~mt}}},[w,d,A]),le.useEffect(function(){return A(d._source,function(){var _e=tt.getSnapshot,fe=tt.setSnapshot;try{fe(_e(d._source));var Re=Tr(Ci);L.mutableReadLanes|=Re&L.pendingLanes}catch(Qe){fe(function(){throw Qe})}})},[d,A]),Ui(Qt,w)&&Ui(Mn,d)&&Ui(vt,A)||(f={pending:null,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:pt},f.dispatch=Ke=Wp.bind(null,jn,f),Ee.queue=f,Ee.baseQueue=null,pt=Se(L,d,w),Ee.memoizedState=Ee.baseState=pt),pt}function Rt(f,d,w){var A=ra();return nt(A,f,d,w)}function $t(f){var d=na();return typeof f=="function"&&(f=f()),d.memoizedState=d.baseState=f,f=d.queue={pending:null,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:f},f=f.dispatch=Wp.bind(null,jn,f),[d.memoizedState,f]}function zn(f,d,w,A){return f={tag:f,create:d,destroy:w,deps:A,next:null},d=jn.updateQueue,d===null?(d={lastEffect:null},jn.updateQueue=d,d.lastEffect=f.next=f):(w=d.lastEffect,w===null?d.lastEffect=f.next=f:(A=w.next,w.next=f,f.next=A,d.lastEffect=f)),f}function pn(f){var d=na();return f={current:f},d.memoizedState=f}function vl(){return ra().memoizedState}function Hp(f,d,w,A){var L=na();jn.flags|=f,L.memoizedState=zn(1|d,w,void 0,A===void 0?null:A)}function fi(f,d,w,A){var L=ra();A=A===void 0?null:A;var F=void 0;if(Dr!==null){var q=Dr.memoizedState;if(F=q.destroy,A!==null&&Up(A,q.deps)){zn(d,w,F,A);return}}jn.flags|=f,L.memoizedState=zn(1|d,w,F,A)}function qu(f,d){return Hp(516,4,f,d)}function td(f,d){return fi(516,4,f,d)}function ia(f,d){return fi(4,2,f,d)}function Xu(f,d){if(typeof d=="function")return f=f(),d(f),function(){d(null)};if(d!=null)return f=f(),d.current=f,function(){d.current=null}}function Ku(f,d,w){return w=w!=null?w.concat([f]):null,fi(4,2,Xu.bind(null,d,f),w)}function on(){}function Ly(f,d){var w=ra();d=d===void 0?null:d;var A=w.memoizedState;return A!==null&&d!==null&&Up(d,A[1])?A[0]:(w.memoizedState=[f,d],f)}function Gp(f,d){var w=ra();d=d===void 0?null:d;var A=w.memoizedState;return A!==null&&d!==null&&Up(d,A[1])?A[0]:(f=f(),w.memoizedState=[f,d],f)}function nd(f,d){var w=rn();Ho(98>w?98:w,function(){f(!0)}),Ho(97<w?97:w,function(){var A=$r.transition;$r.transition=1;try{f(!1),d()}finally{$r.transition=A}})}function Wp(f,d,w){var A=Jr(),L=Tr(f),F={lane:L,action:w,eagerReducer:null,eagerState:null,next:null},q=d.pending;if(q===null?F.next=F:(F.next=q.next,q.next=F),d.pending=F,q=f.alternate,f===jn||q!==null&&q===jn)gl=ui=!0;else{if(f.lanes===0&&(q===null||q.lanes===0)&&(q=d.lastRenderedReducer,q!==null))try{var le=d.lastRenderedState,Ee=q(le,w);if(F.eagerReducer=q,F.eagerState=Ee,Ui(Ee,le))return}catch{}finally{}io(f,L,A)}}var rd={readContext:Hi,useCallback:ci,useContext:ci,useEffect:ci,useImperativeHandle:ci,useLayoutEffect:ci,useMemo:ci,useReducer:ci,useRef:ci,useState:ci,useDebugValue:ci,useDeferredValue:ci,useTransition:ci,useMutableSource:ci,useOpaqueIdentifier:ci,unstable_isNewReconciler:!1},s1={readContext:Hi,useCallback:function(f,d){return na().memoizedState=[f,d===void 0?null:d],f},useContext:Hi,useEffect:qu,useImperativeHandle:function(f,d,w){return w=w!=null?w.concat([f]):null,Hp(4,2,Xu.bind(null,d,f),w)},useLayoutEffect:function(f,d){return Hp(4,2,f,d)},useMemo:function(f,d){var w=na();return d=d===void 0?null:d,f=f(),w.memoizedState=[f,d],f},useReducer:function(f,d,w){var A=na();return d=w!==void 0?w(d):d,A.memoizedState=A.baseState=d,f=A.queue={pending:null,dispatch:null,lastRenderedReducer:f,lastRenderedState:d},f=f.dispatch=Wp.bind(null,jn,f),[A.memoizedState,f]},useRef:pn,useState:$t,useDebugValue:on,useDeferredValue:function(f){var d=$t(f),w=d[0],A=d[1];return qu(function(){var L=$r.transition;$r.transition=1;try{A(f)}finally{$r.transition=L}},[f]),w},useTransition:function(){var f=$t(!1),d=f[0];return f=nd.bind(null,f[1]),pn(f),[f,d]},useMutableSource:function(f,d,w){var A=na();return A.memoizedState={refs:{getSnapshot:d,setSnapshot:null},source:f,subscribe:w},nt(A,f,d,w)},useOpaqueIdentifier:function(){if(bo){var f=!1,d=G(function(){throw f||(f=!0,w(xe())),Error(a(355))}),w=$t(d)[1];return(jn.mode&2)==0&&(jn.flags|=516,zn(5,function(){w(xe())},void 0,null)),d}return d=xe(),$t(d),d},unstable_isNewReconciler:!1},id={readContext:Hi,useCallback:Ly,useContext:Hi,useEffect:td,useImperativeHandle:Ku,useLayoutEffect:ia,useMemo:Gp,useReducer:ce,useRef:vl,useState:function(){return ce(Zr)},useDebugValue:on,useDeferredValue:function(f){var d=ce(Zr),w=d[0],A=d[1];return td(function(){var L=$r.transition;$r.transition=1;try{A(f)}finally{$r.transition=L}},[f]),w},useTransition:function(){var f=ce(Zr)[0];return[vl().current,f]},useMutableSource:Rt,useOpaqueIdentifier:function(){return ce(Zr)[0]},unstable_isNewReconciler:!1},bs={readContext:Hi,useCallback:Ly,useContext:Hi,useEffect:td,useImperativeHandle:Ku,useLayoutEffect:ia,useMemo:Gp,useReducer:Ce,useRef:vl,useState:function(){return Ce(Zr)},useDebugValue:on,useDeferredValue:function(f){var d=Ce(Zr),w=d[0],A=d[1];return td(function(){var L=$r.transition;$r.transition=1;try{A(f)}finally{$r.transition=L}},[f]),w},useTransition:function(){var f=Ce(Zr)[0];return[vl().current,f]},useMutableSource:Rt,useOpaqueIdentifier:function(){return Ce(Zr)[0]},unstable_isNewReconciler:!1},od=l.ReactCurrentOwner,ji=!1;function Mr(f,d,w,A){d.child=f===null?Jf(d,null,w,A):Vu(d,f.child,w,A)}function jp(f,d,w,A,L){w=w.render;var F=d.ref;return yr(d,L),A=Vp(f,d,w,A,F,L),f!==null&&!ji?(d.updateQueue=f.updateQueue,d.flags&=-517,f.lanes&=~L,vn(f,d,L)):(d.flags|=1,Mr(f,d,A,L),d.child)}function qp(f,d,w,A,L,F){if(f===null){var q=w.type;return typeof q=="function"&&!pm(q)&&q.defaultProps===void 0&&w.compare===null&&w.defaultProps===void 0?(d.tag=15,d.type=q,Yu(f,d,q,A,L,F)):(f=Cd(w.type,null,A,d,d.mode,F),f.ref=d.ref,f.return=d,d.child=f)}return q=f.child,(L&F)==0&&(L=q.memoizedProps,w=w.compare,w=w!==null?w:hl,w(L,A)&&f.ref===d.ref)?vn(f,d,F):(d.flags|=1,f=At(q,A),f.ref=d.ref,f.return=d,d.child=f)}function Yu(f,d,w,A,L,F){if(f!==null&&hl(f.memoizedProps,A)&&f.ref===d.ref)if(ji=!1,(F&L)!=0)(f.flags&16384)!=0&&(ji=!0);else return d.lanes=f.lanes,vn(f,d,F);return Wo(f,d,w,A,F)}function sd(f,d,w){var A=d.pendingProps,L=A.children,F=f!==null?f.memoizedState:null;if(A.mode==="hidden"||A.mode==="unstable-defer-without-hiding")if((d.mode&4)==0)d.memoizedState={baseLanes:0},El(d,w);else if((w&1073741824)!=0)d.memoizedState={baseLanes:0},El(d,F!==null?F.baseLanes:w);else return f=F!==null?F.baseLanes|w:w,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:f},El(d,f),null;else F!==null?(A=F.baseLanes|w,d.memoizedState=null):A=w,El(d,A);return Mr(f,d,L,w),d.child}function yl(f,d){var w=d.ref;(f===null&&w!==null||f!==null&&f.ref!==w)&&(d.flags|=128)}function Wo(f,d,w,A,L){var F=ai(w)?Zn:zt.current;return F=Xs(d,F),yr(d,L),w=Vp(f,d,w,A,F,L),f!==null&&!ji?(d.updateQueue=f.updateQueue,d.flags&=-517,f.lanes&=~L,vn(f,d,L)):(d.flags|=1,Mr(f,d,w,L),d.child)}function $u(f,d,w,A,L){if(ai(w)){var F=!0;Ou(d)}else F=!1;if(yr(d,L),d.stateNode===null)f!==null&&(f.alternate=null,d.alternate=null,d.flags|=2),Ay(d,w,A),$f(d,w,A,L),A=!0;else if(f===null){var q=d.stateNode,le=d.memoizedProps;q.props=le;var Ee=q.context,Ke=w.contextType;typeof Ke=="object"&&Ke!==null?Ke=Hi(Ke):(Ke=ai(w)?Zn:zt.current,Ke=Xs(d,Ke));var pt=w.getDerivedStateFromProps,vt=typeof pt=="function"||typeof q.getSnapshotBeforeUpdate=="function";vt||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(le!==A||Ee!==Ke)&&Cy(d,q,A,Ke),sr=!1;var tt=d.memoizedState;q.state=tt,hn(d,A,q,L),Ee=d.memoizedState,le!==A||tt!==Ee||Wn.current||sr?(typeof pt=="function"&&(Yf(d,w,pt,A),Ee=d.memoizedState),(le=sr||Ty(d,w,le,A,tt,Ee,Ke))?(vt||typeof q.UNSAFE_componentWillMount!="function"&&typeof q.componentWillMount!="function"||(typeof q.componentWillMount=="function"&&q.componentWillMount(),typeof q.UNSAFE_componentWillMount=="function"&&q.UNSAFE_componentWillMount()),typeof q.componentDidMount=="function"&&(d.flags|=4)):(typeof q.componentDidMount=="function"&&(d.flags|=4),d.memoizedProps=A,d.memoizedState=Ee),q.props=A,q.state=Ee,q.context=Ke,A=le):(typeof q.componentDidMount=="function"&&(d.flags|=4),A=!1)}else{q=d.stateNode,Fp(f,d),le=d.memoizedProps,Ke=d.type===d.elementType?le:Vi(d.type,le),q.props=Ke,vt=d.pendingProps,tt=q.context,Ee=w.contextType,typeof Ee=="object"&&Ee!==null?Ee=Hi(Ee):(Ee=ai(w)?Zn:zt.current,Ee=Xs(d,Ee));var Qt=w.getDerivedStateFromProps;(pt=typeof Qt=="function"||typeof q.getSnapshotBeforeUpdate=="function")||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(le!==vt||tt!==Ee)&&Cy(d,q,A,Ee),sr=!1,tt=d.memoizedState,q.state=tt,hn(d,A,q,L);var Mn=d.memoizedState;le!==vt||tt!==Mn||Wn.current||sr?(typeof Qt=="function"&&(Yf(d,w,Qt,A),Mn=d.memoizedState),(Ke=sr||Ty(d,w,Ke,A,tt,Mn,Ee))?(pt||typeof q.UNSAFE_componentWillUpdate!="function"&&typeof q.componentWillUpdate!="function"||(typeof q.componentWillUpdate=="function"&&q.componentWillUpdate(A,Mn,Ee),typeof q.UNSAFE_componentWillUpdate=="function"&&q.UNSAFE_componentWillUpdate(A,Mn,Ee)),typeof q.componentDidUpdate=="function"&&(d.flags|=4),typeof q.getSnapshotBeforeUpdate=="function"&&(d.flags|=256)):(typeof q.componentDidUpdate!="function"||le===f.memoizedProps&&tt===f.memoizedState||(d.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||le===f.memoizedProps&&tt===f.memoizedState||(d.flags|=256),d.memoizedProps=A,d.memoizedState=Mn),q.props=A,q.state=Mn,q.context=Ee,A=Ke):(typeof q.componentDidUpdate!="function"||le===f.memoizedProps&&tt===f.memoizedState||(d.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||le===f.memoizedProps&&tt===f.memoizedState||(d.flags|=256),A=!1)}return Xp(f,d,w,A,F,L)}function Xp(f,d,w,A,L,F){yl(f,d);var q=(d.flags&64)!=0;if(!A&&!q)return L&&Pp(d,w,!1),vn(f,d,F);A=d.stateNode,od.current=d;var le=q&&typeof w.getDerivedStateFromError!="function"?null:A.render();return d.flags|=1,f!==null&&q?(d.child=Vu(d,f.child,null,F),d.child=Vu(d,null,le,F)):Mr(f,d,le,F),d.memoizedState=A.state,L&&Pp(d,w,!0),d.child}function Iy(f){var d=f.stateNode;d.pendingContext?cy(f,d.pendingContext,d.pendingContext!==d.context):d.context&&cy(f,d.context,!1),Np(f,d.containerInfo)}var ad={dehydrated:null,retryLane:0};function Zu(f,d,w){var A=d.pendingProps,L=wn.current,F=!1,q;return(q=(d.flags&64)!=0)||(q=f!==null&&f.memoizedState===null?!1:(L&2)!=0),q?(F=!0,d.flags&=-65):f!==null&&f.memoizedState===null||A.fallback===void 0||A.unstable_avoidThisFallback===!0||(L|=1),un(wn,L&1),f===null?(A.fallback!==void 0&&Bp(d),f=A.children,L=A.fallback,F?(f=Ju(d,f,L,w),d.child.memoizedState={baseLanes:w},d.memoizedState=ad,f):typeof A.unstable_expectedLoadTime=="number"?(f=Ju(d,f,L,w),d.child.memoizedState={baseLanes:w},d.memoizedState=ad,d.lanes=33554432,f):(w=ga({mode:"visible",children:f},d.mode,w,null),w.return=d,d.child=w)):f.memoizedState!==null?F?(A=Dy(f,d,A.children,A.fallback,w),F=d.child,L=f.child.memoizedState,F.memoizedState=L===null?{baseLanes:w}:{baseLanes:L.baseLanes|w},F.childLanes=f.childLanes&~w,d.memoizedState=ad,A):(w=ld(f,d,A.children,w),d.memoizedState=null,w):F?(A=Dy(f,d,A.children,A.fallback,w),F=d.child,L=f.child.memoizedState,F.memoizedState=L===null?{baseLanes:w}:{baseLanes:L.baseLanes|w},F.childLanes=f.childLanes&~w,d.memoizedState=ad,A):(w=ld(f,d,A.children,w),d.memoizedState=null,w)}function Ju(f,d,w,A){var L=f.mode,F=f.child;return d={mode:"hidden",children:d},(L&2)==0&&F!==null?(F.childLanes=0,F.pendingProps=d):F=ga(d,L,0,null),w=Tl(w,L,A,null),F.return=f,w.return=f,F.sibling=w,f.child=F,w}function ld(f,d,w,A){var L=f.child;return f=L.sibling,w=At(L,{mode:"visible",children:w}),(d.mode&2)==0&&(w.lanes=A),w.return=d,w.sibling=null,f!==null&&(f.nextEffect=null,f.flags=8,d.firstEffect=d.lastEffect=f),d.child=w}function Dy(f,d,w,A,L){var F=d.mode,q=f.child;f=q.sibling;var le={mode:"hidden",children:w};return(F&2)==0&&d.child!==q?(w=d.child,w.childLanes=0,w.pendingProps=le,q=w.lastEffect,q!==null?(d.firstEffect=w.firstEffect,d.lastEffect=q,q.nextEffect=null):d.firstEffect=d.lastEffect=null):w=At(q,le),f!==null?A=At(f,A):(A=Tl(A,F,L,null),A.flags|=2),A.return=d,w.return=d,w.sibling=A,d.child=w,A}function Kp(f,d){f.lanes|=d;var w=f.alternate;w!==null&&(w.lanes|=d),Dp(f.return,d)}function Yp(f,d,w,A,L,F){var q=f.memoizedState;q===null?f.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:A,tail:w,tailMode:L,lastEffect:F}:(q.isBackwards=d,q.rendering=null,q.renderingStartTime=0,q.last=A,q.tail=w,q.tailMode=L,q.lastEffect=F)}function Oy(f,d,w){var A=d.pendingProps,L=A.revealOrder,F=A.tail;if(Mr(f,d,A.children,w),A=wn.current,(A&2)!=0)A=A&1|2,d.flags|=64;else{if(f!==null&&(f.flags&64)!=0)e:for(f=d.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&Kp(f,w);else if(f.tag===19)Kp(f,w);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===d)break e;for(;f.sibling===null;){if(f.return===null||f.return===d)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}A&=1}if(un(wn,A),(d.mode&2)==0)d.memoizedState=null;else switch(L){case"forwards":for(w=d.child,L=null;w!==null;)f=w.alternate,f!==null&&Wu(f)===null&&(L=w),w=w.sibling;w=L,w===null?(L=d.child,d.child=null):(L=w.sibling,w.sibling=null),Yp(d,!1,L,w,F,d.lastEffect);break;case"backwards":for(w=null,L=d.child,d.child=null;L!==null;){if(f=L.alternate,f!==null&&Wu(f)===null){d.child=L;break}f=L.sibling,L.sibling=w,w=L,L=f}Yp(d,!0,w,null,F,d.lastEffect);break;case"together":Yp(d,!1,null,null,void 0,d.lastEffect);break;default:d.memoizedState=null}return d.child}function vn(f,d,w){if(f!==null&&(d.dependencies=f.dependencies),oc|=d.lanes,(w&d.childLanes)!=0){if(f!==null&&d.child!==f.child)throw Error(a(153));if(d.child!==null){for(f=d.child,w=At(f,f.pendingProps),d.child=w,w.return=d;f.sibling!==null;)f=f.sibling,w=w.sibling=At(f,f.pendingProps),w.return=d;w.sibling=null}return d.child}return null}function Sn(f){f.flags|=4}var Qu,ec,tc,ud;if(ve)Qu=function(f,d){for(var w=d.child;w!==null;){if(w.tag===5||w.tag===6)j(f,w.stateNode);else if(w.tag!==4&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===d)break;for(;w.sibling===null;){if(w.return===null||w.return===d)return;w=w.return}w.sibling.return=w.return,w=w.sibling}},ec=function(){},tc=function(f,d,w,A,L){if(f=f.memoizedProps,f!==A){var F=d.stateNode,q=Gi(Ei.current);w=de(F,w,f,A,L,q),(d.updateQueue=w)&&Sn(d)}},ud=function(f,d,w,A){w!==A&&Sn(d)};else if(Le){Qu=function(f,d,w,A){for(var L=d.child;L!==null;){if(L.tag===5){var F=L.stateNode;w&&A&&(F=cl(F,L.type,L.memoizedProps,L)),j(f,F)}else if(L.tag===6)F=L.stateNode,w&&A&&(F=Nf(F,L.memoizedProps,L)),j(f,F);else if(L.tag!==4){if(L.tag===13&&(L.flags&4)!=0&&(F=L.memoizedState!==null)){var q=L.child;if(q!==null&&(q.child!==null&&(q.child.return=q,Qu(f,q,!0,F)),F=q.sibling,F!==null)){F.return=L,L=F;continue}}if(L.child!==null){L.child.return=L,L=L.child;continue}}if(L===d)break;for(;L.sibling===null;){if(L.return===null||L.return===d)return;L=L.return}L.sibling.return=L.return,L=L.sibling}};var cd=function(f,d,w,A){for(var L=d.child;L!==null;){if(L.tag===5){var F=L.stateNode;w&&A&&(F=cl(F,L.type,L.memoizedProps,L)),ul(f,F)}else if(L.tag===6)F=L.stateNode,w&&A&&(F=Nf(F,L.memoizedProps,L)),ul(f,F);else if(L.tag!==4){if(L.tag===13&&(L.flags&4)!=0&&(F=L.memoizedState!==null)){var q=L.child;if(q!==null&&(q.child!==null&&(q.child.return=q,cd(f,q,!0,F)),F=q.sibling,F!==null)){F.return=L,L=F;continue}}if(L.child!==null){L.child.return=L,L=L.child;continue}}if(L===d)break;for(;L.sibling===null;){if(L.return===null||L.return===d)return;L=L.return}L.sibling.return=L.return,L=L.sibling}};ec=function(f){var d=f.stateNode;if(f.firstEffect!==null){var w=d.containerInfo,A=Du(w);cd(A,f,!1,!1),d.pendingChildren=A,Sn(f),Ff(w,A)}},tc=function(f,d,w,A,L){var F=f.stateNode,q=f.memoizedProps;if((f=d.firstEffect===null)&&q===A)d.stateNode=F;else{var le=d.stateNode,Ee=Gi(Ei.current),Ke=null;q!==A&&(Ke=de(le,w,q,A,L,Ee)),f&&Ke===null?d.stateNode=F:(F=ll(F,Ke,w,q,A,d,f,le),Y(F,w,A,L,Ee)&&Sn(d),d.stateNode=F,f?Sn(d):Qu(F,d,!1,!1))}},ud=function(f,d,w,A){w!==A?(f=Gi(ws.current),w=Gi(Ei.current),d.stateNode=ge(A,f,w,d),Sn(d)):d.stateNode=f.stateNode}}else ec=function(){},tc=function(){},ud=function(){};function jo(f,d){if(!bo)switch(f.tailMode){case"hidden":d=f.tail;for(var w=null;d!==null;)d.alternate!==null&&(w=d),d=d.sibling;w===null?f.tail=null:w.sibling=null;break;case"collapsed":w=f.tail;for(var A=null;w!==null;)w.alternate!==null&&(A=w),w=w.sibling;A===null?d||f.tail===null?f.tail=null:f.tail.sibling=null:A.sibling=null}}function $p(f,d,w){var A=d.pendingProps;switch(d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return ai(d.type)&&Bf(),null;case 3:return Qs(),Xt(Wn),Xt(zt),ed(),A=d.stateNode,A.pendingContext&&(A.context=A.pendingContext,A.pendingContext=null),(f===null||f.child===null)&&(Qf(d)?Sn(d):A.hydrate||(d.flags|=256)),ec(d),null;case 5:Gu(d);var L=Gi(ws.current);if(w=d.type,f!==null&&d.stateNode!=null)tc(f,d,w,A,L),f.ref!==d.ref&&(d.flags|=128);else{if(!A){if(d.stateNode===null)throw Error(a(166));return null}if(f=Gi(Ei.current),Qf(d)){if(!He)throw Error(a(175));f=wt(d.stateNode,d.type,d.memoizedProps,L,f,d),d.updateQueue=f,f!==null&&Sn(d)}else{var F=V(w,A,L,f,d);Qu(F,d,!1,!1),d.stateNode=F,Y(F,w,A,L,f)&&Sn(d)}d.ref!==null&&(d.flags|=128)}return null;case 6:if(f&&d.stateNode!=null)ud(f,d,f.memoizedProps,A);else{if(typeof A!="string"&&d.stateNode===null)throw Error(a(166));if(f=Gi(ws.current),L=Gi(Ei.current),Qf(d)){if(!He)throw Error(a(176));yt(d.stateNode,d.memoizedProps,d)&&Sn(d)}else d.stateNode=ge(A,f,L,d)}return null;case 13:return Xt(wn),A=d.memoizedState,(d.flags&64)!=0?(d.lanes=w,d):(A=A!==null,L=!1,f===null?d.memoizedProps.fallback!==void 0&&Qf(d):L=f.memoizedState!==null,A&&!L&&(d.mode&2)!=0&&(f===null&&d.memoizedProps.unstable_avoidThisFallback!==!0||(wn.current&1)!=0?Er===0&&(Er=3):((Er===0||Er===3)&&(Er=4),bn===null||(oc&134217727)==0&&(wl&134217727)==0||Jn(bn,Or))),Le&&A&&(d.flags|=4),ve&&(A||L)&&(d.flags|=4),null);case 4:return Qs(),ec(d),f===null&&We(d.stateNode.containerInfo),null;case 10:return qf(d),null;case 17:return ai(d.type)&&Bf(),null;case 19:if(Xt(wn),A=d.memoizedState,A===null)return null;if(L=(d.flags&64)!=0,F=A.rendering,F===null)if(L)jo(A,!1);else{if(Er!==0||f!==null&&(f.flags&64)!=0)for(f=d.child;f!==null;){if(F=Wu(f),F!==null){for(d.flags|=64,jo(A,!1),f=F.updateQueue,f!==null&&(d.updateQueue=f,d.flags|=4),A.lastEffect===null&&(d.firstEffect=null),d.lastEffect=A.lastEffect,f=w,A=d.child;A!==null;)L=A,w=f,L.flags&=2,L.nextEffect=null,L.firstEffect=null,L.lastEffect=null,F=L.alternate,F===null?(L.childLanes=0,L.lanes=w,L.child=null,L.memoizedProps=null,L.memoizedState=null,L.updateQueue=null,L.dependencies=null,L.stateNode=null):(L.childLanes=F.childLanes,L.lanes=F.lanes,L.child=F.child,L.memoizedProps=F.memoizedProps,L.memoizedState=F.memoizedState,L.updateQueue=F.updateQueue,L.type=F.type,w=F.dependencies,L.dependencies=w===null?null:{lanes:w.lanes,firstContext:w.firstContext}),A=A.sibling;return un(wn,wn.current&1|2),d.child}f=f.sibling}A.tail!==null&&Ft()>sm&&(d.flags|=64,L=!0,jo(A,!1),d.lanes=33554432)}else{if(!L)if(f=Wu(F),f!==null){if(d.flags|=64,L=!0,f=f.updateQueue,f!==null&&(d.updateQueue=f,d.flags|=4),jo(A,!0),A.tail===null&&A.tailMode==="hidden"&&!F.alternate&&!bo)return d=d.lastEffect=A.lastEffect,d!==null&&(d.nextEffect=null),null}else 2*Ft()-A.renderingStartTime>sm&&w!==1073741824&&(d.flags|=64,L=!0,jo(A,!1),d.lanes=33554432);A.isBackwards?(F.sibling=d.child,d.child=F):(f=A.last,f!==null?f.sibling=F:d.child=F,A.last=F)}return A.tail!==null?(f=A.tail,A.rendering=f,A.tail=f.sibling,A.lastEffect=d.lastEffect,A.renderingStartTime=Ft(),f.sibling=null,d=wn.current,un(wn,L?d&1|2:d&1),f):null;case 23:case 24:return um(),f!==null&&f.memoizedState!==null!=(d.memoizedState!==null)&&A.mode!=="unstable-defer-without-hiding"&&(d.flags|=4),null}throw Error(a(156,d.tag))}function xl(f){switch(f.tag){case 1:ai(f.type)&&Bf();var d=f.flags;return d&4096?(f.flags=d&-4097|64,f):null;case 3:if(Qs(),Xt(Wn),Xt(zt),ed(),d=f.flags,(d&64)!=0)throw Error(a(285));return f.flags=d&-4097|64,f;case 5:return Gu(f),null;case 13:return Xt(wn),d=f.flags,d&4096?(f.flags=d&-4097|64,f):null;case 19:return Xt(wn),null;case 4:return Qs(),null;case 10:return qf(f),null;case 23:case 24:return um(),null;default:return null}}function oa(f,d){try{var w="",A=d;do w+=Ys(A),A=A.return;while(A);var L=w}catch(F){L=`
Error generating stack: `+F.message+`
`+F.stack}return{value:f,source:d,stack:L}}function sa(f,d){try{console.error(d.value)}catch(w){setTimeout(function(){throw w})}}var fd=typeof WeakMap=="function"?WeakMap:Map;function aa(f,d,w){w=Yr(-1,w),w.tag=3,w.payload={element:null};var A=d.value;return w.callback=function(){Xi||(Xi=!0,ac=A),sa(f,d)},w}function Fy(f,d,w){w=Yr(-1,w),w.tag=3;var A=f.type.getDerivedStateFromError;if(typeof A=="function"){var L=d.value;w.payload=function(){return sa(f,d),A(L)}}var F=f.stateNode;return F!==null&&typeof F.componentDidCatch=="function"&&(w.callback=function(){typeof A!="function"&&(Fr===null?Fr=new Set([this]):Fr.add(this),sa(f,d));var q=d.stack;this.componentDidCatch(d.value,{componentStack:q!==null?q:""})}),w}var a1=typeof WeakSet=="function"?WeakSet:Set;function ky(f){var d=f.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(w){$o(f,w)}else d.current=null}function l1(f,d){switch(d.tag){case 0:case 11:case 15:case 22:return;case 1:if(d.flags&256&&f!==null){var w=f.memoizedProps,A=f.memoizedState;f=d.stateNode,d=f.getSnapshotBeforeUpdate(d.elementType===d.type?w:Vi(d.type,w),A),f.__reactInternalSnapshotBeforeUpdate=d}return;case 3:ve&&d.flags&256&&Iu(d.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(a(163))}function Ny(f,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var w=d=d.next;do{if((w.tag&f)===f){var A=w.destroy;w.destroy=void 0,A!==void 0&&A()}w=w.next}while(w!==d)}}function dd(f,d,w){switch(w.tag){case 0:case 11:case 15:case 22:if(d=w.updateQueue,d=d!==null?d.lastEffect:null,d!==null){f=d=d.next;do{if((f.tag&3)==3){var A=f.create;f.destroy=A()}f=f.next}while(f!==d)}if(d=w.updateQueue,d=d!==null?d.lastEffect:null,d!==null){f=d=d.next;do{var L=f;A=L.next,L=L.tag,(L&4)!=0&&(L&1)!=0&&(Sd(w,f),Gy(w,f)),f=A}while(f!==d)}return;case 1:f=w.stateNode,w.flags&4&&(d===null?f.componentDidMount():(A=w.elementType===w.type?d.memoizedProps:Vi(w.type,d.memoizedProps),f.componentDidUpdate(A,d.memoizedState,f.__reactInternalSnapshotBeforeUpdate))),d=w.updateQueue,d!==null&&Go(w,d,f);return;case 3:if(d=w.updateQueue,d!==null){if(f=null,w.child!==null)switch(w.child.tag){case 5:f=Ue(w.child.stateNode);break;case 1:f=w.child.stateNode}Go(w,d,f)}return;case 5:f=w.stateNode,d===null&&w.flags&4&&at(f,w.type,w.memoizedProps,w);return;case 6:return;case 4:return;case 12:return;case 13:He&&w.memoizedState===null&&(w=w.alternate,w!==null&&(w=w.memoizedState,w!==null&&(w=w.dehydrated,w!==null&&Gt(w))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(a(163))}function _l(f,d){if(ve)for(var w=f;;){if(w.tag===5){var A=w.stateNode;d?Xr(A):Df(w.stateNode,w.memoizedProps)}else if(w.tag===6)A=w.stateNode,d?_o(A):Of(A,w.memoizedProps);else if((w.tag!==23&&w.tag!==24||w.memoizedState===null||w===f)&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===f)break;for(;w.sibling===null;){if(w.return===null||w.return===f)return;w=w.return}w.sibling.return=w.return,w=w.sibling}}function Zp(f,d){if(Uo&&typeof Uo.onCommitFiberUnmount=="function")try{Uo.onCommitFiberUnmount(zf,d)}catch{}switch(d.tag){case 0:case 11:case 14:case 15:case 22:if(f=d.updateQueue,f!==null&&(f=f.lastEffect,f!==null)){var w=f=f.next;do{var A=w,L=A.destroy;if(A=A.tag,L!==void 0)if((A&4)!=0)Sd(d,w);else{A=d;try{L()}catch(F){$o(A,F)}}w=w.next}while(w!==f)}break;case 1:if(ky(d),f=d.stateNode,typeof f.componentWillUnmount=="function")try{f.props=d.memoizedProps,f.state=d.memoizedState,f.componentWillUnmount()}catch(F){$o(d,F)}break;case 5:ky(d);break;case 4:ve?By(f,d):Le&&Le&&(d=d.stateNode.containerInfo,f=Du(d),kf(d,f))}}function N(f,d){for(var w=d;;)if(Zp(f,w),w.child===null||ve&&w.tag===4){if(w===d)break;for(;w.sibling===null;){if(w.return===null||w.return===d)return;w=w.return}w.sibling.return=w.return,w=w.sibling}else w.child.return=w,w=w.child}function la(f){f.alternate=null,f.child=null,f.dependencies=null,f.firstEffect=null,f.lastEffect=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.return=null,f.updateQueue=null}function nc(f){return f.tag===5||f.tag===3||f.tag===4}function Ti(f){if(ve){e:{for(var d=f.return;d!==null;){if(nc(d))break e;d=d.return}throw Error(a(160))}var w=d;switch(d=w.stateNode,w.tag){case 5:var A=!1;break;case 3:d=d.containerInfo,A=!0;break;case 4:d=d.containerInfo,A=!0;break;default:throw Error(a(161))}w.flags&16&&(qr(d),w.flags&=-17);e:t:for(w=f;;){for(;w.sibling===null;){if(w.return===null||nc(w.return)){w=null;break e}w=w.return}for(w.sibling.return=w.return,w=w.sibling;w.tag!==5&&w.tag!==6&&w.tag!==18;){if(w.flags&2||w.child===null||w.tag===4)continue t;w.child.return=w,w=w.child}if(!(w.flags&2)){w=w.stateNode;break e}}A?Vt(f,w,d):Jp(f,w,d)}}function Vt(f,d,w){var A=f.tag,L=A===5||A===6;if(L)f=L?f.stateNode:f.stateNode.instance,d?Cn(w,f,d):ae(w,f);else if(A!==4&&(f=f.child,f!==null))for(Vt(f,d,w),f=f.sibling;f!==null;)Vt(f,d,w),f=f.sibling}function Jp(f,d,w){var A=f.tag,L=A===5||A===6;if(L)f=L?f.stateNode:f.stateNode.instance,d?Ot(w,f,d):ot(w,f);else if(A!==4&&(f=f.child,f!==null))for(Jp(f,d,w),f=f.sibling;f!==null;)Jp(f,d,w),f=f.sibling}function By(f,d){for(var w=d,A=!1,L,F;;){if(!A){A=w.return;e:for(;;){if(A===null)throw Error(a(160));switch(L=A.stateNode,A.tag){case 5:F=!1;break e;case 3:L=L.containerInfo,F=!0;break e;case 4:L=L.containerInfo,F=!0;break e}A=A.return}A=!0}if(w.tag===5||w.tag===6)N(f,w),F?al(L,w.stateNode):vr(L,w.stateNode);else if(w.tag===4){if(w.child!==null){L=w.stateNode.containerInfo,F=!0,w.child.return=w,w=w.child;continue}}else if(Zp(f,w),w.child!==null){w.child.return=w,w=w.child;continue}if(w===d)break;for(;w.sibling===null;){if(w.return===null||w.return===d)return;w=w.return,w.tag===4&&(A=!1)}w.sibling.return=w.return,w=w.sibling}}function Qp(f,d){if(ve){switch(d.tag){case 0:case 11:case 14:case 15:case 22:Ny(3,d);return;case 1:return;case 5:var w=d.stateNode;if(w!=null){var A=d.memoizedProps;f=f!==null?f.memoizedProps:A;var L=d.type,F=d.updateQueue;d.updateQueue=null,F!==null&&It(w,F,L,f,A,d)}return;case 6:if(d.stateNode===null)throw Error(a(162));w=d.memoizedProps,Ge(d.stateNode,f!==null?f.memoizedProps:w,w);return;case 3:He&&(d=d.stateNode,d.hydrate&&(d.hydrate=!1,en(d.containerInfo)));return;case 12:return;case 13:Ms(d),hd(d);return;case 19:hd(d);return;case 17:return;case 23:case 24:_l(d,d.memoizedState!==null);return}throw Error(a(163))}switch(d.tag){case 0:case 11:case 14:case 15:case 22:Ny(3,d);return;case 12:return;case 13:Ms(d),hd(d);return;case 19:hd(d);return;case 3:He&&(w=d.stateNode,w.hydrate&&(w.hydrate=!1,en(w.containerInfo)));break;case 23:case 24:return}e:if(Le){switch(d.tag){case 1:case 5:case 6:case 20:break e;case 3:case 4:d=d.stateNode,kf(d.containerInfo,d.pendingChildren);break e}throw Error(a(163))}}function Ms(f){f.memoizedState!==null&&(Sl=Ft(),ve&&_l(f.child,!0))}function hd(f){var d=f.updateQueue;if(d!==null){f.updateQueue=null;var w=f.stateNode;w===null&&(w=f.stateNode=new a1),d.forEach(function(A){var L=jy.bind(null,f,A);w.has(A)||(w.add(A),A.then(L,L))})}}function u1(f,d){return f!==null&&(f=f.memoizedState,f===null||f.dehydrated!==null)?(d=d.memoizedState,d!==null&&d.dehydrated===null):!1}var pd=0,md=1,gd=2,qi=3,vd=4;if(typeof Symbol=="function"&&Symbol.for){var rc=Symbol.for;pd=rc("selector.component"),md=rc("selector.has_pseudo_class"),gd=rc("selector.role"),qi=rc("selector.test_id"),vd=rc("selector.text")}function em(f){var d=W(f);if(d!=null){if(typeof d.memoizedProps["data-testname"]!="string")throw Error(a(364));return d}if(f=et(f),f===null)throw Error(a(362));return f.stateNode.current}function tm(f,d){switch(d.$$typeof){case pd:if(f.type===d.value)return!0;break;case md:e:{d=d.value,f=[f,0];for(var w=0;w<f.length;){var A=f[w++],L=f[w++],F=d[L];if(A.tag!==5||!oe(A)){for(;F!=null&&tm(A,F);)L++,F=d[L];if(L===d.length){d=!0;break e}else for(A=A.child;A!==null;)f.push(A,L),A=A.sibling}}d=!1}return d;case gd:if(f.tag===5&&Xe(f.stateNode,d.value))return!0;break;case vd:if((f.tag===5||f.tag===6)&&(f=it(f),f!==null&&0<=f.indexOf(d.value)))return!0;break;case qi:if(f.tag===5&&(f=f.memoizedProps["data-testname"],typeof f=="string"&&f.toLowerCase()===d.value.toLowerCase()))return!0;break;default:throw Error(a(365,d))}return!1}function nm(f){switch(f.$$typeof){case pd:return"<"+($(f.value)||"Unknown")+">";case md:return":has("+(nm(f)||"")+")";case gd:return'[role="'+f.value+'"]';case vd:return'"'+f.value+'"';case qi:return'[data-testname="'+f.value+'"]';default:throw Error(a(365,f))}}function Mo(f,d){var w=[];f=[f,0];for(var A=0;A<f.length;){var L=f[A++],F=f[A++],q=d[F];if(L.tag!==5||!oe(L)){for(;q!=null&&tm(L,q);)F++,q=d[F];if(F===d.length)w.push(L);else for(L=L.child;L!==null;)f.push(L,F),L=L.sibling}}return w}function rm(f,d){if(!Ye)throw Error(a(363));f=em(f),f=Mo(f,d),d=[],f=Array.from(f);for(var w=0;w<f.length;){var A=f[w++];if(A.tag===5)oe(A)||d.push(A.stateNode);else for(A=A.child;A!==null;)f.push(A),A=A.sibling}return d}var yd=null;function c1(f){if(yd===null)try{var d=("require"+Math.random()).slice(0,7);yd=(n&&n[d]).call(n,"timers").setImmediate}catch{yd=function(A){var L=new MessageChannel;L.port1.onmessage=A,L.port2.postMessage(void 0)}}return yd(f)}var f1=Math.ceil,xd=l.ReactCurrentDispatcher,qo=l.ReactCurrentOwner,im=l.IsSomeRendererActing,xt=0,bn=null,ar=null,Or=0,ua=0,om=Ir(0),Er=0,ic=null,ca=0,oc=0,wl=0,sc=0,fa=null,Sl=0,sm=1/0;function Xo(){sm=Ft()+500}var lt=null,Xi=!1,ac=null,Fr=null,lr=!1,lc=null,bl=90,_d=[],da=[],kr=null,Ml=0,am=null,ha=-1,Ko=0,uc=0,qn=null,pa=!1;function Jr(){return(xt&48)!=0?Ft():ha!==-1?ha:ha=Ft()}function Tr(f){if(f=f.mode,(f&2)==0)return 1;if((f&4)==0)return rn()===99?1:2;if(Ko===0&&(Ko=ca),o1.transition!==0){uc!==0&&(uc=fa!==null?fa.pendingLanes:0),f=Ko;var d=4186112&~uc;return d&=-d,d===0&&(f=4186112&~f,d=f&-f,d===0&&(d=8192)),d}return f=rn(),(xt&4)!=0&&f===98?f=Vf(12,Ko):(f=t1(f),f=Vf(f,Ko)),f}function io(f,d,w){if(50<Ml)throw Ml=0,am=null,Error(a(185));if(f=ma(f,d),f===null)return null;dl(f,d,w),f===bn&&(wl|=d,Er===4&&Jn(f,Or));var A=rn();d===1?(xt&8)!=0&&(xt&48)==0?cc(f):(ur(f,w),xt===0&&(Xo(),zi())):((xt&4)==0||A!==98&&A!==99||(kr===null?kr=new Set([f]):kr.add(f)),ur(f,w)),fa=f}function ma(f,d){f.lanes|=d;var w=f.alternate;for(w!==null&&(w.lanes|=d),w=f,f=f.return;f!==null;)f.childLanes|=d,w=f.alternate,w!==null&&(w.childLanes|=d),w=f,f=f.return;return w.tag===3?w.stateNode:null}function ur(f,d){for(var w=f.callbackNode,A=f.suspendedLanes,L=f.pingedLanes,F=f.expirationTimes,q=f.pendingLanes;0<q;){var le=31-Mi(q),Ee=1<<le,Ke=F[le];if(Ke===-1){if((Ee&A)==0||(Ee&L)!=0){Ke=d,_s(Ee);var pt=fn;F[le]=10<=pt?Ke+250:6<=pt?Ke+5e3:-1}}else Ke<=d&&(f.expiredLanes|=Ee);q&=~Ee}if(A=fl(f,f===bn?Or:0),d=fn,A===0)w!==null&&(w!==Bu&&Gf(w),f.callbackNode=null,f.callbackPriority=0);else{if(w!==null){if(f.callbackPriority===d)return;w!==Bu&&Gf(w)}d===15?(w=cc.bind(null,f),Vo===null?(Vo=[w],Wf=Hf(Nu,My)):Vo.push(w),w=Bu):d===14?w=zu(99,cc.bind(null,f)):(w=dy(d),w=zu(w,lm.bind(null,f))),f.callbackPriority=d,f.callbackNode=w}}function lm(f){if(ha=-1,uc=Ko=0,(xt&48)!=0)throw Error(a(327));var d=f.callbackNode;if(Yo()&&f.callbackNode!==d)return null;var w=fl(f,f===bn?Or:0);if(w===0)return null;var A=w,L=xt;xt|=16;var F=Vy();(bn!==f||Or!==A)&&(Xo(),Eo(f,A));do try{h1();break}catch(le){cm(f,le)}while(1);if(jf(),xd.current=F,xt=L,ar!==null?A=0:(bn=null,Or=0,A=Er),(ca&wl)!=0)Eo(f,0);else if(A!==0){if(A===2&&(xt|=64,f.hydrate&&(f.hydrate=!1,Iu(f.containerInfo)),w=Uf(f),w!==0&&(A=fc(f,w))),A===1)throw d=ic,Eo(f,0),Jn(f,w),ur(f,Ft()),d;switch(f.finishedWork=f.current.alternate,f.finishedLanes=w,A){case 0:case 1:throw Error(a(345));case 2:Es(f);break;case 3:if(Jn(f,w),(w&62914560)===w&&(A=Sl+500-Ft(),10<A)){if(fl(f,0)!==0)break;if(L=f.suspendedLanes,(L&w)!==w){Jr(),f.pingedLanes|=f.suspendedLanes&L;break}f.timeoutHandle=be(Es.bind(null,f),A);break}Es(f);break;case 4:if(Jn(f,w),(w&4186112)===w)break;for(A=f.eventTimes,L=-1;0<w;){var q=31-Mi(w);F=1<<q,q=A[q],q>L&&(L=q),w&=~F}if(w=L,w=Ft()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*f1(w/1960))-w,10<w){f.timeoutHandle=be(Es.bind(null,f),w);break}Es(f);break;case 5:Es(f);break;default:throw Error(a(329))}}return ur(f,Ft()),f.callbackNode===d?lm.bind(null,f):null}function Jn(f,d){for(d&=~sc,d&=~wl,f.suspendedLanes|=d,f.pingedLanes&=~d,f=f.expirationTimes;0<d;){var w=31-Mi(d),A=1<<w;f[w]=-1,d&=~A}}function cc(f){if((xt&48)!=0)throw Error(a(327));if(Yo(),f===bn&&(f.expiredLanes&Or)!=0){var d=Or,w=fc(f,d);(ca&wl)!=0&&(d=fl(f,d),w=fc(f,d))}else d=fl(f,0),w=fc(f,d);if(f.tag!==0&&w===2&&(xt|=64,f.hydrate&&(f.hydrate=!1,Iu(f.containerInfo)),d=Uf(f),d!==0&&(w=fc(f,d))),w===1)throw w=ic,Eo(f,0),Jn(f,d),ur(f,Ft()),w;return f.finishedWork=f.current.alternate,f.finishedLanes=d,Es(f),ur(f,Ft()),null}function d1(){if(kr!==null){var f=kr;kr=null,f.forEach(function(d){d.expiredLanes|=24&d.pendingLanes,ur(d,Ft())})}zi()}function zy(f,d){var w=xt;xt|=1;try{return f(d)}finally{xt=w,xt===0&&(Xo(),zi())}}function Uy(f,d){var w=xt;if((w&48)!=0)return f(d);xt|=1;try{if(f)return Ho(99,f.bind(null,d))}finally{xt=w,zi()}}function El(f,d){un(om,ua),ua|=d,ca|=d}function um(){ua=om.current,Xt(om)}function Eo(f,d){f.finishedWork=null,f.finishedLanes=0;var w=f.timeoutHandle;if(w!==ee&&(f.timeoutHandle=ee,De(w)),ar!==null)for(w=ar.return;w!==null;){var A=w;switch(A.tag){case 1:A=A.type.childContextTypes,A!=null&&Bf();break;case 3:Qs(),Xt(Wn),Xt(zt),ed();break;case 5:Gu(A);break;case 4:Qs();break;case 13:Xt(wn);break;case 19:Xt(wn);break;case 10:qf(A);break;case 23:case 24:um()}w=w.return}bn=f,ar=At(f.current,null),Or=ua=ca=d,Er=0,ic=null,sc=wl=oc=0}function cm(f,d){do{var w=ar;try{if(jf(),Wi.current=rd,ui){for(var A=jn.memoizedState;A!==null;){var L=A.queue;L!==null&&(L.pending=null),A=A.next}ui=!1}if(ju=0,Bn=Dr=jn=null,gl=!1,qo.current=null,w===null||w.return===null){Er=1,ic=d,ar=null;break}e:{var F=f,q=w.return,le=w,Ee=d;if(d=Or,le.flags|=2048,le.firstEffect=le.lastEffect=null,Ee!==null&&typeof Ee=="object"&&typeof Ee.then=="function"){var Ke=Ee;if((le.mode&2)==0){var pt=le.alternate;pt?(le.updateQueue=pt.updateQueue,le.memoizedState=pt.memoizedState,le.lanes=pt.lanes):(le.updateQueue=null,le.memoizedState=null)}var vt=(wn.current&1)!=0,tt=q;do{var Qt;if(Qt=tt.tag===13){var Mn=tt.memoizedState;if(Mn!==null)Qt=Mn.dehydrated!==null;else{var Ci=tt.memoizedProps;Qt=Ci.fallback===void 0?!1:Ci.unstable_avoidThisFallback!==!0?!0:!vt}}if(Qt){var _e=tt.updateQueue;if(_e===null){var fe=new Set;fe.add(Ke),tt.updateQueue=fe}else _e.add(Ke);if((tt.mode&2)==0){if(tt.flags|=64,le.flags|=16384,le.flags&=-2981,le.tag===1)if(le.alternate===null)le.tag=17;else{var Re=Yr(-1,1);Re.tag=2,ro(le,Re)}le.lanes|=1;break e}Ee=void 0,le=d;var Qe=F.pingCache;if(Qe===null?(Qe=F.pingCache=new fd,Ee=new Set,Qe.set(Ke,Ee)):(Ee=Qe.get(Ke),Ee===void 0&&(Ee=new Set,Qe.set(Ke,Ee))),!Ee.has(le)){Ee.add(le);var mt=Wy.bind(null,F,Ke,le);Ke.then(mt,mt)}tt.flags|=4096,tt.lanes=d;break e}tt=tt.return}while(tt!==null);Ee=Error(($(le.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}Er!==5&&(Er=2),Ee=oa(Ee,le),tt=q;do{switch(tt.tag){case 3:F=Ee,tt.flags|=4096,d&=-d,tt.lanes|=d;var yn=aa(tt,F,d);Xf(tt,yn);break e;case 1:F=Ee;var Lt=tt.type,sn=tt.stateNode;if((tt.flags&64)==0&&(typeof Lt.getDerivedStateFromError=="function"||sn!==null&&typeof sn.componentDidCatch=="function"&&(Fr===null||!Fr.has(sn)))){tt.flags|=4096,d&=-d,tt.lanes|=d;var Xn=Fy(tt,F,d);Xf(tt,Xn);break e}}tt=tt.return}while(tt!==null)}wd(w)}catch(Tt){d=Tt,ar===w&&w!==null&&(ar=w=w.return);continue}break}while(1)}function Vy(){var f=xd.current;return xd.current=rd,f===null?rd:f}function fc(f,d){var w=xt;xt|=16;var A=Vy();bn===f&&Or===d||Eo(f,d);do try{dc();break}catch(L){cm(f,L)}while(1);if(jf(),xt=w,xd.current=A,ar!==null)throw Error(a(261));return bn=null,Or=0,Er}function dc(){for(;ar!==null;)Hy(ar)}function h1(){for(;ar!==null&&!gy();)Hy(ar)}function Hy(f){var d=hc(f.alternate,f,ua);f.memoizedProps=f.pendingProps,d===null?wd(f):ar=d,qo.current=null}function wd(f){var d=f;do{var w=d.alternate;if(f=d.return,(d.flags&2048)==0){if(w=$p(w,d,ua),w!==null){ar=w;return}if(w=d,w.tag!==24&&w.tag!==23||w.memoizedState===null||(ua&1073741824)!=0||(w.mode&4)==0){for(var A=0,L=w.child;L!==null;)A|=L.lanes|L.childLanes,L=L.sibling;w.childLanes=A}f!==null&&(f.flags&2048)==0&&(f.firstEffect===null&&(f.firstEffect=d.firstEffect),d.lastEffect!==null&&(f.lastEffect!==null&&(f.lastEffect.nextEffect=d.firstEffect),f.lastEffect=d.lastEffect),1<d.flags&&(f.lastEffect!==null?f.lastEffect.nextEffect=d:f.firstEffect=d,f.lastEffect=d))}else{if(w=xl(d),w!==null){w.flags&=2047,ar=w;return}f!==null&&(f.firstEffect=f.lastEffect=null,f.flags|=2048)}if(d=d.sibling,d!==null){ar=d;return}ar=d=f}while(d!==null);Er===0&&(Er=5)}function Es(f){var d=rn();return Ho(99,p1.bind(null,f,d)),null}function p1(f,d){do Yo();while(lc!==null);if((xt&48)!=0)throw Error(a(327));var w=f.finishedWork;if(w===null)return null;if(f.finishedWork=null,f.finishedLanes=0,w===f.current)throw Error(a(177));f.callbackNode=null;var A=w.lanes|w.childLanes,L=A,F=f.pendingLanes&~L;f.pendingLanes=L,f.suspendedLanes=0,f.pingedLanes=0,f.expiredLanes&=L,f.mutableReadLanes&=L,f.entangledLanes&=L,L=f.entanglements;for(var q=f.eventTimes,le=f.expirationTimes;0<F;){var Ee=31-Mi(F),Ke=1<<Ee;L[Ee]=0,q[Ee]=-1,le[Ee]=-1,F&=~Ke}if(kr!==null&&(A&24)==0&&kr.has(f)&&kr.delete(f),f===bn&&(ar=bn=null,Or=0),1<w.flags?w.lastEffect!==null?(w.lastEffect.nextEffect=w,A=w.firstEffect):A=w:A=w.firstEffect,A!==null){L=xt,xt|=32,qo.current=null,qn=me(f.containerInfo),pa=!1,lt=A;do try{m1()}catch(fe){if(lt===null)throw Error(a(330));$o(lt,fe),lt=lt.nextEffect}while(lt!==null);qn=null,lt=A;do try{for(q=f;lt!==null;){var pt=lt.flags;if(pt&16&&ve&&qr(lt.stateNode),pt&128){var vt=lt.alternate;if(vt!==null){var tt=vt.ref;tt!==null&&(typeof tt=="function"?tt(null):tt.current=null)}}switch(pt&1038){case 2:Ti(lt),lt.flags&=-3;break;case 6:Ti(lt),lt.flags&=-3,Qp(lt.alternate,lt);break;case 1024:lt.flags&=-1025;break;case 1028:lt.flags&=-1025,Qp(lt.alternate,lt);break;case 4:Qp(lt.alternate,lt);break;case 8:le=q,F=lt,ve?By(le,F):N(le,F);var Qt=F.alternate;la(F),Qt!==null&&la(Qt)}lt=lt.nextEffect}}catch(fe){if(lt===null)throw Error(a(330));$o(lt,fe),lt=lt.nextEffect}while(lt!==null);pa&&Te(),J(f.containerInfo),f.current=w,lt=A;do try{for(pt=f;lt!==null;){var Mn=lt.flags;if(Mn&36&&dd(pt,lt.alternate,lt),Mn&128){vt=void 0;var Ci=lt.ref;if(Ci!==null){var _e=lt.stateNode;switch(lt.tag){case 5:vt=Ue(_e);break;default:vt=_e}typeof Ci=="function"?Ci(vt):Ci.current=vt}}lt=lt.nextEffect}}catch(fe){if(lt===null)throw Error(a(330));$o(lt,fe),lt=lt.nextEffect}while(lt!==null);lt=null,i1(),xt=L}else f.current=w;if(lr)lr=!1,lc=f,bl=d;else for(lt=A;lt!==null;)d=lt.nextEffect,lt.nextEffect=null,lt.flags&8&&(Mn=lt,Mn.sibling=null,Mn.stateNode=null),lt=d;if(A=f.pendingLanes,A===0&&(Fr=null),A===1?f===am?Ml++:(Ml=0,am=f):Ml=0,w=w.stateNode,Uo&&typeof Uo.onCommitFiberRoot=="function")try{Uo.onCommitFiberRoot(zf,w,void 0,(w.current.flags&64)==64)}catch{}if(ur(f,Ft()),Xi)throw Xi=!1,f=ac,ac=null,f;return(xt&8)!=0||zi(),null}function m1(){for(;lt!==null;){var f=lt.alternate;pa||qn===null||((lt.flags&8)!=0?Pe(lt,qn)&&(pa=!0,Ae()):lt.tag===13&&u1(f,lt)&&Pe(lt,qn)&&(pa=!0,Ae()));var d=lt.flags;(d&256)!=0&&l1(f,lt),(d&512)==0||lr||(lr=!0,zu(97,function(){return Yo(),null})),lt=lt.nextEffect}}function Yo(){if(bl!==90){var f=97<bl?97:bl;return bl=90,Ho(f,g1)}return!1}function Gy(f,d){_d.push(d,f),lr||(lr=!0,zu(97,function(){return Yo(),null}))}function Sd(f,d){da.push(d,f),lr||(lr=!0,zu(97,function(){return Yo(),null}))}function g1(){if(lc===null)return!1;var f=lc;if(lc=null,(xt&48)!=0)throw Error(a(331));var d=xt;xt|=32;var w=da;da=[];for(var A=0;A<w.length;A+=2){var L=w[A],F=w[A+1],q=L.destroy;if(L.destroy=void 0,typeof q=="function")try{q()}catch(Ee){if(F===null)throw Error(a(330));$o(F,Ee)}}for(w=_d,_d=[],A=0;A<w.length;A+=2){L=w[A],F=w[A+1];try{var le=L.create;L.destroy=le()}catch(Ee){if(F===null)throw Error(a(330));$o(F,Ee)}}for(le=f.current.firstEffect;le!==null;)f=le.nextEffect,le.nextEffect=null,le.flags&8&&(le.sibling=null,le.stateNode=null),le=f;return xt=d,zi(),!0}function bd(f,d,w){d=oa(w,d),d=aa(f,d,1),ro(f,d),d=Jr(),f=ma(f,1),f!==null&&(dl(f,1,d),ur(f,d))}function $o(f,d){if(f.tag===3)bd(f,f,d);else for(var w=f.return;w!==null;){if(w.tag===3){bd(w,f,d);break}else if(w.tag===1){var A=w.stateNode;if(typeof w.type.getDerivedStateFromError=="function"||typeof A.componentDidCatch=="function"&&(Fr===null||!Fr.has(A))){f=oa(d,f);var L=Fy(w,f,1);if(ro(w,L),L=Jr(),w=ma(w,1),w!==null)dl(w,1,L),ur(w,L);else if(typeof A.componentDidCatch=="function"&&(Fr===null||!Fr.has(A)))try{A.componentDidCatch(d,f)}catch{}break}}w=w.return}}function Wy(f,d,w){var A=f.pingCache;A!==null&&A.delete(d),d=Jr(),f.pingedLanes|=f.suspendedLanes&w,bn===f&&(Or&w)===w&&(Er===4||Er===3&&(Or&62914560)===Or&&500>Ft()-Sl?Eo(f,0):sc|=w),ur(f,d)}function jy(f,d){var w=f.stateNode;w!==null&&w.delete(d),d=0,d===0&&(d=f.mode,(d&2)==0?d=1:(d&4)==0?d=rn()===99?1:2:(Ko===0&&(Ko=ca),d=Ks(62914560&~Ko),d===0&&(d=4194304))),w=Jr(),f=ma(f,d),f!==null&&(dl(f,d,w),ur(f,w))}var hc;hc=function(f,d,w){var A=d.lanes;if(f!==null)if(f.memoizedProps!==d.pendingProps||Wn.current)ji=!0;else if((w&A)!=0)ji=(f.flags&16384)!=0;else{switch(ji=!1,d.tag){case 3:Iy(d),zp();break;case 5:li(d);break;case 1:ai(d.type)&&Ou(d);break;case 4:Np(d,d.stateNode.containerInfo);break;case 10:Ip(d,d.memoizedProps.value);break;case 13:if(d.memoizedState!==null)return(w&d.child.childLanes)!=0?Zu(f,d,w):(un(wn,wn.current&1),d=vn(f,d,w),d!==null?d.sibling:null);un(wn,wn.current&1);break;case 19:if(A=(w&d.childLanes)!=0,(f.flags&64)!=0){if(A)return Oy(f,d,w);d.flags|=64}var L=d.memoizedState;if(L!==null&&(L.rendering=null,L.tail=null,L.lastEffect=null),un(wn,wn.current),A)break;return null;case 23:case 24:return d.lanes=0,sd(f,d,w)}return vn(f,d,w)}else ji=!1;switch(d.lanes=0,d.tag){case 2:if(A=d.type,f!==null&&(f.alternate=null,d.alternate=null,d.flags|=2),f=d.pendingProps,L=Xs(d,zt.current),yr(d,w),L=Vp(null,d,A,f,L,w),d.flags|=1,typeof L=="object"&&L!==null&&typeof L.render=="function"&&L.$$typeof===void 0){if(d.tag=1,d.memoizedState=null,d.updateQueue=null,ai(A)){var F=!0;Ou(d)}else F=!1;d.memoizedState=L.state!==null&&L.state!==void 0?L.state:null,Op(d);var q=A.getDerivedStateFromProps;typeof q=="function"&&Yf(d,A,q,f),L.updater=ml,d.stateNode=L,L._reactInternals=d,$f(d,A,f,w),d=Xp(null,d,A,!0,F,w)}else d.tag=0,Mr(null,d,L,w),d=d.child;return d;case 16:L=d.elementType;e:{switch(f!==null&&(f.alternate=null,d.alternate=null,d.flags|=2),f=d.pendingProps,F=L._init,L=F(L._payload),d.type=L,F=d.tag=mm(L),f=Vi(L,f),F){case 0:d=Wo(null,d,L,f,w);break e;case 1:d=$u(null,d,L,f,w);break e;case 11:d=jp(null,d,L,f,w);break e;case 14:d=qp(null,d,L,Vi(L.type,f),A,w);break e}throw Error(a(306,L,""))}return d;case 0:return A=d.type,L=d.pendingProps,L=d.elementType===A?L:Vi(A,L),Wo(f,d,A,L,w);case 1:return A=d.type,L=d.pendingProps,L=d.elementType===A?L:Vi(A,L),$u(f,d,A,L,w);case 3:if(Iy(d),A=d.updateQueue,f===null||A===null)throw Error(a(282));if(A=d.pendingProps,L=d.memoizedState,L=L!==null?L.element:null,Fp(f,d),hn(d,A,null,w),A=d.memoizedState.element,A===L)zp(),d=vn(f,d,w);else{if(L=d.stateNode,(F=L.hydrate)&&(He?(ea=Et(d.stateNode.containerInfo),So=d,F=bo=!0):F=!1),F){if(He&&(f=L.mutableSourceEagerHydrationData,f!=null))for(L=0;L<f.length;L+=2)F=f[L],q=f[L+1],pe?F._workInProgressVersionPrimary=q:F._workInProgressVersionSecondary=q,Ss.push(F);for(w=Jf(d,null,A,w),d.child=w;w;)w.flags=w.flags&-3|1024,w=w.sibling}else Mr(f,d,A,w),zp();d=d.child}return d;case 5:return li(d),f===null&&Bp(d),A=d.type,L=d.pendingProps,F=f!==null?f.memoizedProps:null,q=L.children,ye(A,L)?q=null:F!==null&&ye(A,F)&&(d.flags|=16),yl(f,d),Mr(f,d,q,w),d.child;case 6:return f===null&&Bp(d),null;case 13:return Zu(f,d,w);case 4:return Np(d,d.stateNode.containerInfo),A=d.pendingProps,f===null?d.child=Vu(d,null,A,w):Mr(f,d,A,w),d.child;case 11:return A=d.type,L=d.pendingProps,L=d.elementType===A?L:Vi(A,L),jp(f,d,A,L,w);case 7:return Mr(f,d,d.pendingProps,w),d.child;case 8:return Mr(f,d,d.pendingProps.children,w),d.child;case 12:return Mr(f,d,d.pendingProps.children,w),d.child;case 10:e:{if(A=d.type._context,L=d.pendingProps,q=d.memoizedProps,F=L.value,Ip(d,F),q!==null){var le=q.value;if(F=Ui(le,F)?0:(typeof A._calculateChangedBits=="function"?A._calculateChangedBits(le,F):1073741823)|0,F===0){if(q.children===L.children&&!Wn.current){d=vn(f,d,w);break e}}else for(le=d.child,le!==null&&(le.return=d);le!==null;){var Ee=le.dependencies;if(Ee!==null){q=le.child;for(var Ke=Ee.firstContext;Ke!==null;){if(Ke.context===A&&(Ke.observedBits&F)!=0){le.tag===1&&(Ke=Yr(-1,w&-w),Ke.tag=2,ro(le,Ke)),le.lanes|=w,Ke=le.alternate,Ke!==null&&(Ke.lanes|=w),Dp(le.return,w),Ee.lanes|=w;break}Ke=Ke.next}}else q=le.tag===10&&le.type===d.type?null:le.child;if(q!==null)q.return=le;else for(q=le;q!==null;){if(q===d){q=null;break}if(le=q.sibling,le!==null){le.return=q.return,q=le;break}q=q.return}le=q}}Mr(f,d,L.children,w),d=d.child}return d;case 9:return L=d.type,F=d.pendingProps,A=F.children,yr(d,w),L=Hi(L,F.unstable_observedBits),A=A(L),d.flags|=1,Mr(f,d,A,w),d.child;case 14:return L=d.type,F=Vi(L,d.pendingProps),F=Vi(L.type,F),qp(f,d,L,F,A,w);case 15:return Yu(f,d,d.type,d.pendingProps,A,w);case 17:return A=d.type,L=d.pendingProps,L=d.elementType===A?L:Vi(A,L),f!==null&&(f.alternate=null,d.alternate=null,d.flags|=2),d.tag=1,ai(A)?(f=!0,Ou(d)):f=!1,yr(d,w),Ay(d,A,L),$f(d,A,L,w),Xp(null,d,A,!0,f,w);case 19:return Oy(f,d,w);case 23:return sd(f,d,w);case 24:return sd(f,d,w)}throw Error(a(156,d.tag))};var Md={current:!1},Ed=s.unstable_flushAllWithoutAsserting,fm=typeof Ed=="function";function dm(){if(Ed!==void 0)return Ed();for(var f=!1;Yo();)f=!0;return f}function hm(f){try{dm(),c1(function(){dm()?hm(f):f()})}catch(d){f(d)}}var Td=0,Ad=!1;function qy(f,d,w,A){this.tag=f,this.key=w,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=A,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function di(f,d,w,A){return new qy(f,d,w,A)}function pm(f){return f=f.prototype,!(!f||!f.isReactComponent)}function mm(f){if(typeof f=="function")return pm(f)?1:0;if(f!=null){if(f=f.$$typeof,f===M)return 11;if(f===T)return 14}return 2}function At(f,d){var w=f.alternate;return w===null?(w=di(f.tag,d,f.key,f.mode),w.elementType=f.elementType,w.type=f.type,w.stateNode=f.stateNode,w.alternate=f,f.alternate=w):(w.pendingProps=d,w.type=f.type,w.flags=0,w.nextEffect=null,w.firstEffect=null,w.lastEffect=null),w.childLanes=f.childLanes,w.lanes=f.lanes,w.child=f.child,w.memoizedProps=f.memoizedProps,w.memoizedState=f.memoizedState,w.updateQueue=f.updateQueue,d=f.dependencies,w.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},w.sibling=f.sibling,w.index=f.index,w.ref=f.ref,w}function Cd(f,d,w,A,L,F){var q=2;if(A=f,typeof f=="function")pm(f)&&(q=1);else if(typeof f=="string")q=5;else e:switch(f){case v:return Tl(w.children,L,F,d);case I:q=8,L|=16;break;case p:q=8,L|=1;break;case g:return f=di(12,w,d,L|8),f.elementType=g,f.type=g,f.lanes=F,f;case x:return f=di(13,w,d,L),f.type=x,f.elementType=x,f.lanes=F,f;case _:return f=di(19,w,d,L),f.elementType=_,f.lanes=F,f;case R:return ga(w,L,F,d);case D:return f=di(24,w,d,L),f.elementType=D,f.lanes=F,f;default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case y:q=10;break e;case S:q=9;break e;case M:q=11;break e;case T:q=14;break e;case E:q=16,A=null;break e;case C:q=22;break e}throw Error(a(130,f==null?f:typeof f,""))}return d=di(q,w,d,L),d.elementType=f,d.type=A,d.lanes=F,d}function Tl(f,d,w,A){return f=di(7,f,A,d),f.lanes=w,f}function ga(f,d,w,A){return f=di(23,f,A,d),f.elementType=R,f.lanes=w,f}function Pd(f,d,w){return f=di(6,f,null,d),f.lanes=w,f}function gm(f,d,w){return d=di(4,f.children!==null?f.children:[],f.key,d),d.lanes=w,d.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},d}function v1(f,d,w){this.tag=d,this.containerInfo=f,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=ee,this.pendingContext=this.context=null,this.hydrate=w,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=ku(0),this.expirationTimes=ku(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ku(0),He&&(this.mutableSourceEagerHydrationData=null)}function Ai(f){var d=f._reactInternals;if(d===void 0)throw typeof f.render=="function"?Error(a(188)):Error(a(268,Object.keys(f)));return f=re(d),f===null?null:f.stateNode}function Xy(f,d){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var w=f.retryLane;f.retryLane=w!==0&&w<d?w:d}}function va(f,d){Xy(f,d),(f=f.alternate)&&Xy(f,d)}function vm(f){return f=re(f),f===null?null:f.stateNode}function Ky(){return null}return r.IsThisRendererActing=Md,r.act=function(f){function d(){Td--,im.current=w,Md.current=A}Ad===!1&&(Ad=!0,console.error("act(...) is not supported in production builds of React, and might not behave as expected.")),Td++;var w=im.current,A=Md.current;im.current=!0,Md.current=!0;try{var L=zy(f)}catch(F){throw d(),F}if(L!==null&&typeof L=="object"&&typeof L.then=="function")return{then:function(F,q){L.then(function(){1<Td||fm===!0&&w===!0?(d(),F()):hm(function(le){d(),le?q(le):F()})},function(le){d(),q(le)})}};try{Td!==1||fm!==!1&&w!==!1||dm(),d()}catch(F){throw d(),F}return{then:function(F){F()}}},r.attemptContinuousHydration=function(f){if(f.tag===13){var d=Jr();io(f,67108864,d),va(f,67108864)}},r.attemptHydrationAtCurrentPriority=function(f){if(f.tag===13){var d=Jr(),w=Tr(f);io(f,w,d),va(f,w)}},r.attemptSynchronousHydration=function(f){switch(f.tag){case 3:var d=f.stateNode;if(d.hydrate){var w=_s(d.pendingLanes);d.expiredLanes|=w&d.pendingLanes,ur(d,Ft()),(xt&48)==0&&(Xo(),zi())}break;case 13:var A=Jr();Uy(function(){return io(f,1,A)}),va(f,4)}},r.attemptUserBlockingHydration=function(f){if(f.tag===13){var d=Jr();io(f,4,d),va(f,4)}},r.batchedEventUpdates=function(f,d){var w=xt;xt|=2;try{return f(d)}finally{xt=w,xt===0&&(Xo(),zi())}},r.batchedUpdates=zy,r.createComponentSelector=function(f){return{$$typeof:pd,value:f}},r.createContainer=function(f,d,w){return f=new v1(f,d,w),d=di(3,null,null,d===2?7:d===1?3:0),f.current=d,d.stateNode=f,Op(d),f},r.createHasPsuedoClassSelector=function(f){return{$$typeof:md,value:f}},r.createPortal=function(f,d,w){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:m,key:A==null?null:""+A,children:f,containerInfo:d,implementation:w}},r.createRoleSelector=function(f){return{$$typeof:gd,value:f}},r.createTestNameSelector=function(f){return{$$typeof:qi,value:f}},r.createTextSelector=function(f){return{$$typeof:vd,value:f}},r.deferredUpdates=function(f){return Ho(97,f)},r.discreteUpdates=function(f,d,w,A,L){var F=xt;xt|=4;try{return Ho(98,f.bind(null,d,w,A,L))}finally{xt=F,xt===0&&(Xo(),zi())}},r.findAllNodes=rm,r.findBoundingRects=function(f,d){if(!Ye)throw Error(a(363));d=rm(f,d),f=[];for(var w=0;w<d.length;w++)f.push(st(d[w]));for(d=f.length-1;0<d;d--){w=f[d];for(var A=w.x,L=A+w.width,F=w.y,q=F+w.height,le=d-1;0<=le;le--)if(d!==le){var Ee=f[le],Ke=Ee.x,pt=Ke+Ee.width,vt=Ee.y,tt=vt+Ee.height;if(A>=Ke&&F>=vt&&L<=pt&&q<=tt){f.splice(d,1);break}else if(A!==Ke||w.width!==Ee.width||tt<F||vt>q){if(!(F!==vt||w.height!==Ee.height||pt<A||Ke>L)){Ke>A&&(Ee.width+=Ke-A,Ee.x=A),pt<L&&(Ee.width=L-Ke),f.splice(d,1);break}}else{vt>F&&(Ee.height+=vt-F,Ee.y=F),tt<q&&(Ee.height=q-vt),f.splice(d,1);break}}}return f},r.findHostInstance=Ai,r.findHostInstanceWithNoPortals=function(f){return f=ue(f),f===null?null:f.tag===20?f.stateNode.instance:f.stateNode},r.findHostInstanceWithWarning=function(f){return Ai(f)},r.flushControlled=function(f){var d=xt;xt|=1;try{Ho(99,f)}finally{xt=d,xt===0&&(Xo(),zi())}},r.flushDiscreteUpdates=function(){(xt&49)==0&&(d1(),Yo())},r.flushPassiveEffects=Yo,r.flushSync=Uy,r.focusWithin=function(f,d){if(!Ye)throw Error(a(363));for(f=em(f),d=Mo(f,d),d=Array.from(d),f=0;f<d.length;){var w=d[f++];if(!oe(w)){if(w.tag===5&&Ne(w.stateNode))return!0;for(w=w.child;w!==null;)d.push(w),w=w.sibling}}return!1},r.getCurrentUpdateLanePriority=function(){return Fu},r.getFindAllNodesFailureDescription=function(f,d){if(!Ye)throw Error(a(363));var w=0,A=[];f=[em(f),0];for(var L=0;L<f.length;){var F=f[L++],q=f[L++],le=d[q];if((F.tag!==5||!oe(F))&&(tm(F,le)&&(A.push(nm(le)),q++,q>w&&(w=q)),q<d.length))for(F=F.child;F!==null;)f.push(F,q),F=F.sibling}if(w<d.length){for(f=[];w<d.length;w++)f.push(nm(d[w]));return`findAllNodes was able to match part of the selector:
  `+(A.join(" > ")+`

No matching component was found for:
  `)+f.join(" > ")}return null},r.getPublicRootInstance=function(f){if(f=f.current,!f.child)return null;switch(f.child.tag){case 5:return Ue(f.child.stateNode);default:return f.child.stateNode}},r.injectIntoDevTools=function(f){if(f={bundleType:f.bundleType,version:f.version,rendererPackageName:f.rendererPackageName,rendererConfig:f.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:l.ReactCurrentDispatcher,findHostInstanceByFiber:vm,findFiberByHostInstance:f.findFiberByHostInstance||Ky,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined")f=!1;else{var d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!d.isDisabled&&d.supportsFiber)try{zf=d.inject(f),Uo=d}catch{}f=!0}return f},r.observeVisibleRects=function(f,d,w,A){if(!Ye)throw Error(a(363));f=rm(f,d);var L=ct(f,w,A).disconnect;return{disconnect:function(){L()}}},r.registerMutableSourceForHydration=function(f,d){var w=d._getVersion;w=w(d._source),f.mutableSourceEagerHydrationData==null?f.mutableSourceEagerHydrationData=[d,w]:f.mutableSourceEagerHydrationData.push(d,w)},r.runWithPriority=function(f,d){var w=Fu;try{return Fu=f,d()}finally{Fu=w}},r.shouldSuspend=function(){return!1},r.unbatchedUpdates=function(f,d){var w=xt;xt&=-2,xt|=8;try{return f(d)}finally{xt=w,xt===0&&(Xo(),zi())}},r.updateContainer=function(f,d,w,A){var L=d.current,F=Jr(),q=Tr(L);e:if(w){w=w._reactInternals;t:{if(K(w)!==w||w.tag!==1)throw Error(a(170));var le=w;do{switch(le.tag){case 3:le=le.stateNode.context;break t;case 1:if(ai(le.type)){le=le.stateNode.__reactInternalMemoizedMergedChildContext;break t}}le=le.return}while(le!==null);throw Error(a(171))}if(w.tag===1){var Ee=w.type;if(ai(Ee)){w=fy(w,Ee,le);break e}}w=le}else w=Sr;return d.context===null?d.context=w:d.pendingContext=w,d=Yr(F,q),d.payload={element:f},A=A===void 0?null:A,A!==null&&(d.callback=A),ro(L,d),io(L,q,F),q},r}})(uz);lz.exports=uz.exports;var Kte=lz.exports,lC=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,i,o;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(i=r;i--!=0;)if(!n(e[i],t[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(o=Object.keys(e),r=o.length,r!==Object.keys(t).length)return!1;for(i=r;i--!=0;)if(!Object.prototype.hasOwnProperty.call(t,o[i]))return!1;for(i=r;i--!=0;){var s=o[i];if(!n(e[s],t[s]))return!1}return!0}return e!==e&&t!==t};const Ww=[];function cz(n,e,t,r=0,i=!1){for(const s of e)if(lC(t,s.args)){if(i)return;if(s.error)throw s.error;if(s.response)return s.response;throw s.promise}const o={args:t,promise:n(...t).then(s=>o.response=s!=null?s:!0).catch(s=>o.error=s!=null?s:"unknown error").then(()=>{r>0&&setTimeout(()=>{const s=e.indexOf(o);s!==-1&&e.splice(s,1)},r)})};if(e.push(o),!i)throw o.promise}function Yte(n,...e){if(e===void 0||e.length===0)n.splice(0,n.length);else{const t=n.find(r=>lC(e,r.args));if(t){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}}}function ol(n,...e){return cz(n,Ww,e,ol.lifespan)}ol.lifespan=0;ol.clear=(...n)=>Yte(Ww,...n);ol.preload=(n,...e)=>void cz(n,Ww,e,ol.lifespan,!0);ol.peek=(...n)=>{var e;return(e=Ww.find(t=>lC(n,t.args)))==null?void 0:e.response};function $te(n){return function(e){n.forEach(function(t){typeof t=="function"?t(e):t!=null&&(t.current=e)})}}function uC(n,e,t){var r,i,o,s,a;e==null&&(e=100);function l(){var m=Date.now()-s;m<e&&m>=0?r=setTimeout(l,e-m):(r=null,t||(a=n.apply(o,i),o=i=null))}var c=function(){o=this,i=arguments,s=Date.now();var m=t&&!r;return r||(r=setTimeout(l,e)),m&&(a=n.apply(o,i),o=i=null),a};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(a=n.apply(o,i),o=i=null,clearTimeout(r),r=null)},c}uC.debounce=uC;var fz=uC;function Zte(n){let{debounce:e,scroll:t,polyfill:r,offsetSize:i}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const o=r||(typeof window=="undefined"?class{}:window.ResizeObserver);if(!o)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,a]=se.exports.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=se.exports.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s}),c=e?typeof e=="number"?e:e.scroll:null,m=e?typeof e=="number"?e:e.resize:null,v=se.exports.useRef(!1);se.exports.useEffect(()=>(v.current=!0,()=>void(v.current=!1)));const[p,g,y]=se.exports.useMemo(()=>{const _=()=>{if(!l.current.element)return;const{left:T,top:E,width:C,height:I,bottom:R,right:D,x:k,y:U}=l.current.element.getBoundingClientRect(),B={left:T,top:E,width:C,height:I,bottom:R,right:D,x:k,y:U};l.current.element instanceof HTMLElement&&i&&(B.height=l.current.element.offsetHeight,B.width=l.current.element.offsetWidth),Object.freeze(B),v.current&&!tne(l.current.lastBounds,B)&&a(l.current.lastBounds=B)};return[_,m?fz(_,m):_,c?fz(_,c):_]},[a,i,c,m]);function S(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(_=>_.removeEventListener("scroll",y,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function M(){!l.current.element||(l.current.resizeObserver=new o(y),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(_=>_.addEventListener("scroll",y,{capture:!0,passive:!0})))}const x=_=>{!_||_===l.current.element||(S(),l.current.element=_,l.current.scrollContainers=dz(_),M())};return Qte(y,Boolean(t)),Jte(g),se.exports.useEffect(()=>{S(),M()},[t,y,g]),se.exports.useEffect(()=>S,[]),[x,s,p]}function Jte(n){se.exports.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function Qte(n,e){se.exports.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function dz(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:r,overflowY:i}=window.getComputedStyle(n);return[t,r,i].some(o=>o==="auto"||o==="scroll")&&e.push(n),[...e,...dz(n.parentElement)]}const ene=["x","y","top","bottom","left","right","width","height"],tne=(n,e)=>ene.every(t=>n[t]===e[t]),An={obj:n=>n===Object(n)&&!An.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e){if(typeof n!=typeof e||!!n!=!!e)return!1;if(An.str(n)||An.num(n)||An.obj(n))return n===e;if(An.arr(n)&&n==e)return!0;let t;for(t in n)if(!(t in e))return!1;for(t in e)if(n[t]!==e[t])return!1;return An.und(t)?n===e:!0}};function cC(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function hz(n,e,t,r){const i=t.get(e);i&&(t.delete(e),t.size===0&&(n.delete(r),i.target.releasePointerCapture(r)))}function nne(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(r=>r!==e),t.initialHits=t.initialHits.filter(r=>r!==e),t.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&t.hovered.delete(i)}),t.capturedMap.forEach((r,i)=>{hz(t.capturedMap,e,r,i)})}function rne(n){const e=new H;function t(v){var p;const g=n.getState(),{raycaster:y,mouse:S,camera:M,size:x}=g,{offsetX:_,offsetY:T}=(p=y.computeOffsets==null?void 0:y.computeOffsets(v,g))!=null?p:v,{width:E,height:C}=x;S.set(_/E*2-1,-(T/C)*2+1),y.setFromCamera(S,M)}function r(v){const{internal:p}=n.getState(),g=v.offsetX-p.initialClick[0],y=v.offsetY-p.initialClick[1];return Math.round(Math.sqrt(g*g+y*y))}function i(v){return v.filter(p=>["Move","Over","Enter","Out","Leave"].some(g=>{var y;return(y=p.__r3f)==null?void 0:y.handlers["onPointer"+g]}))}function o(v){const p=n.getState(),{raycaster:g,internal:y}=p;if(!g.enabled)return[];const S=new Set,M=[],x=v?v(y.interaction):y.interaction;let _=g.intersectObjects(x,!0).filter(E=>{const C=cC(E);return S.has(C)?!1:(S.add(C),!0)});g.filter&&(_=g.filter(_,p));for(const E of _){let C=E.object;for(;C;){var T;(T=C.__r3f)!=null&&T.eventCount&&M.push(Li(cn({},E),{eventObject:C})),C=C.parent}}return M}function s(v,p){const{internal:g}=n.getState();if("pointerId"in p&&g.capturedMap.has(p.pointerId))for(let y of g.capturedMap.get(p.pointerId).values())v.push(y.intersection);return v}function a(v,p,g,y){const{raycaster:S,mouse:M,camera:x,internal:_}=n.getState();if(v.length){const T=e.set(M.x,M.y,0).unproject(x),E={stopped:!1};for(const C of v){const I=B=>{var $,K;return($=(K=_.capturedMap.get(B))==null?void 0:K.has(C.eventObject))!=null?$:!1},R=B=>{const $={intersection:C,target:p.target};_.capturedMap.has(B)?_.capturedMap.get(B).set(C.eventObject,$):_.capturedMap.set(B,new Map([[C.eventObject,$]])),p.target.setPointerCapture(B)},D=B=>{const $=_.capturedMap.get(B);$&&hz(_.capturedMap,C.eventObject,$,B)};let k={};for(let B in p){let $=p[B];typeof $!="function"&&(k[B]=$)}let U=Li(cn(cn({},C),k),{spaceX:M.x,spaceY:M.y,intersections:v,stopped:E.stopped,delta:g,unprojectedPoint:T,ray:S.ray,camera:x,stopPropagation:()=>{const B="pointerId"in p&&_.capturedMap.get(p.pointerId);if((!B||B.has(C.eventObject))&&(U.stopped=E.stopped=!0,_.hovered.size&&Array.from(_.hovered.values()).find($=>$.eventObject===C.eventObject))){const $=v.slice(0,v.indexOf(C));l([...$,C])}},target:{hasPointerCapture:I,setPointerCapture:R,releasePointerCapture:D},currentTarget:{hasPointerCapture:I,setPointerCapture:R,releasePointerCapture:D},sourceEvent:p,nativeEvent:p});if(y(U),E.stopped===!0)break}}return v}function l(v){const{internal:p}=n.getState();Array.from(p.hovered.values()).forEach(g=>{if(!v.length||!v.find(y=>y.object===g.object&&y.index===g.index&&y.instanceId===g.instanceId)){const S=g.eventObject.__r3f,M=S==null?void 0:S.handlers;if(p.hovered.delete(cC(g)),S!=null&&S.eventCount){const x=Li(cn({},g),{intersections:v||[]});M.onPointerOut==null||M.onPointerOut(x),M.onPointerLeave==null||M.onPointerLeave(x)}}})}const c=v=>{switch(v){case"onPointerLeave":case"onPointerCancel":return()=>l([]);case"onLostPointerCapture":return p=>{const{internal:g}=n.getState();"pointerId"in p&&!g.capturedMap.has(p.pointerId)&&(g.capturedMap.delete(p.pointerId),l([]))}}return p=>{const{onPointerMissed:g,internal:y}=n.getState();t(p),y.lastEvent.current=p;const S=v==="onPointerMove",M=v==="onClick"||v==="onContextMenu"||v==="onDoubleClick",_=s(o(S?i:void 0),p),T=M?r(p):0;v==="onPointerDown"&&(y.initialClick=[p.offsetX,p.offsetY],y.initialHits=_.map(E=>E.eventObject)),M&&!_.length&&T<=2&&(m(p,y.interaction),g&&g(p)),S&&l(_),a(_,p,T,E=>{const C=E.eventObject,I=C.__r3f,R=I==null?void 0:I.handlers;if(!!(I!=null&&I.eventCount))if(S){if(R.onPointerOver||R.onPointerEnter||R.onPointerOut||R.onPointerLeave){const D=cC(E),k=y.hovered.get(D);k?k.stopped&&E.stopPropagation():(y.hovered.set(D,E),R.onPointerOver==null||R.onPointerOver(E),R.onPointerEnter==null||R.onPointerEnter(E))}R.onPointerMove==null||R.onPointerMove(E)}else{const D=R[v];D?(!M||y.initialHits.includes(C))&&(m(p,y.interaction.filter(k=>!y.initialHits.includes(k))),D(E)):M&&y.initialHits.includes(C)&&m(p,y.interaction.filter(k=>!y.initialHits.includes(k)))}})}};function m(v,p){p.forEach(g=>{var y;return(y=g.__r3f)==null||y.handlers.onPointerMissed==null?void 0:y.handlers.onPointerMissed(v)})}return{handlePointer:c}}const ine=n=>n&&!!n.memoized&&!!n.changes,jw=n=>n&&!!n.getState,fC=(n,e)=>{var t,r;return{root:jw(n)?n:(t=(r=n.__r3f)==null?void 0:r.root)!=null?t:e.__r3f.root,container:jw(n)?n.getState().scene:n}},pz="__default",one={};let sne={};function ane(n,e){return!!(An.arr(n)&&An.equ(n,e)||n===e)}function Mp(n,e){const t=n;return(e!=null&&e.primitive||!t.__r3f)&&(t.__r3f=cn({root:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null},e)),n}function lne(n){function e(p,I,D={},C=!1){var R=I,{children:g,key:y,ref:S}=R,M=Co(R,["children","key","ref"]);var k=D,{children:x,key:_,ref:T}=k,E=Co(k,["children","key","ref"]);var U;const B=(U=p==null?void 0:p.__r3f)!=null?U:{},$=Object.entries(M),K=[];if(C){const Q=Object.keys(E);for(let re=0;re<Q.length;re++)M.hasOwnProperty(Q[re])||$.unshift([Q[re],pz+"remove"])}$.forEach(([Q,re])=>{var ue;if((ue=p.__r3f)!=null&&ue.primitive&&Q==="object"||ane(re,E[Q]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(Q))return K.push([Q,re,!0,[]]);let Pe=[];Q.includes("-")&&(Pe=Q.split("-")),K.push([Q,re,!1,Pe])});const ie=cn({},M);return B.memoizedProps&&B.memoizedProps.args&&(ie.args=B.memoizedProps.args),B.memoizedProps&&B.memoizedProps.attach&&(ie.attach=B.memoizedProps.attach),{accumulative:C,memoized:ie,changes:K}}function t(p,g){var y,S,M;const x=(y=p==null?void 0:p.__r3f)!=null?y:{},_=x.root,T=(S=_==null||_.getState==null?void 0:_.getState())!=null?S:{},{memoized:E,changes:C}=ine(g)?g:e(p,g),I=x.eventCount;if(p.__r3f&&(p.__r3f.memoizedProps=E),C.forEach(([R,D,k,U])=>{let B=p,$=B[R];if(U.length&&($=U.reduce((K,ie)=>K[ie],p),!($&&$.set))){const[K,...ie]=U.reverse();B=ie.reverse().reduce((Q,re)=>Q[re],p),R=K}if(D===pz+"remove")if($&&$.constructor)D=new $.constructor(E.args);else if(B.constructor){const K=new B.constructor(B.__r3f.memoizedProps.args);D=K[$],K.dispose&&K.dispose()}else D=0;if(k)D?x.handlers[R]=D:delete x.handlers[R],x.eventCount=Object.keys(x.handlers).length;else if($&&$.set&&($.copy||$ instanceof Wh)){if(Array.isArray(D))$.fromArray?$.fromArray(D):$.set(...D);else if($.copy&&D&&D.constructor&&$.constructor.name===D.constructor.name)$.copy(D);else if(D!==void 0){const K=$ instanceof Je;!K&&$.setScalar?$.setScalar(D):$ instanceof Wh&&D instanceof Wh?$.mask=D.mask:$.set(D),!T.linear&&K&&$.convertSRGBToLinear()}}else B[R]=D,!T.linear&&B[R]instanceof _r&&(B[R].encoding=as);r(p)}),x.parent&&T.internal&&p.raycast&&I!==x.eventCount){const R=T.internal.interaction.indexOf(p);R>-1&&T.internal.interaction.splice(R,1),x.eventCount&&T.internal.interaction.push(p)}return C.length&&(M=p.__r3f)!=null&&M.parent&&i(p),p}function r(p){var g,y;const S=(g=p.__r3f)==null||(y=g.root)==null||y.getState==null?void 0:y.getState();S&&S.internal.frames===0&&S.invalidate()}function i(p){p.onUpdate==null||p.onUpdate(p)}function o(p,_,S,M,x){var T=_,{args:g=[]}=T,y=Co(T,["args"]);let E=`${p[0].toUpperCase()}${p.slice(1)}`,C;if(!jw(S)&&x){const I=R=>R.return?I(R.return):R.stateNode&&R.stateNode.containerInfo;S=I(x)}if(!S||!jw(S))throw`No valid root for ${E}!`;if(p==="primitive"){if(y.object===void 0)throw"Primitives without 'object' are invalid!";const I=y.object;C=Mp(I,{root:S,primitive:!0})}else{const I=sne[E]||jte[E];if(!I)throw`${E} is not part of the THREE namespace! Did you forget to extend? See: https://github.com/pmndrs/react-three-fiber/blob/master/markdown/api.md#using-3rd-party-objects-declaratively`;if(!Array.isArray(g))throw"The args prop must be an array!";C=Mp(new I(...g),{root:S,memoizedProps:{args:g.length===0?null:g}})}return"attachFns"in y||(E.endsWith("Geometry")?y=cn({attach:"geometry"},y):E.endsWith("Material")&&(y=cn({attach:"material"},y))),t(C,y),C}function s(p,g){let y=!1;if(g){if(g.attachArray)An.arr(p[g.attachArray])||(p[g.attachArray]=[]),p[g.attachArray].push(g);else if(g.attachObject)An.obj(p[g.attachObject[0]])||(p[g.attachObject[0]]={}),p[g.attachObject[0]][g.attachObject[1]]=g;else if(g.attach&&!An.fun(g.attach))p[g.attach]=g;else if(An.arr(g.attachFns)){const[S]=g.attachFns;An.str(S)&&An.fun(p[S])?p[S](g):An.fun(S)&&S(g,p)}else g.isObject3D&&p.isObject3D&&(p.add(g),y=!0);y||p.__r3f.objects.push(g),g.__r3f||Mp(g,{}),g.__r3f.parent=p,i(g),r(g)}}function a(p,g,y){let S=!1;if(g){if(g.attachArray){const M=p[g.attachArray];An.arr(M)||(p[g.attachArray]=[]),M.splice(M.indexOf(y),0,g)}else{if(g.attachObject||g.attach&&!An.fun(g.attach))return s(p,g);if(g.isObject3D&&p.isObject3D){g.parent=p,g.dispatchEvent({type:"added"});const M=p.children.filter(_=>_!==g),x=M.indexOf(y);p.children=[...M.slice(0,x),g,...M.slice(x)],S=!0}}S||p.__r3f.objects.push(g),g.__r3f||Mp(g,{}),g.__r3f.parent=p,i(g),r(g)}}function l(p,g,y=!1){p&&[...p].forEach(S=>c(g,S,y))}function c(p,g,y){if(g){var S,M;if(g.__r3f&&(g.__r3f.parent=null),(S=p.__r3f)!=null&&S.objects&&(p.__r3f.objects=p.__r3f.objects.filter(C=>C!==g)),g.attachArray)p[g.attachArray]=p[g.attachArray].filter(C=>C!==g);else if(g.attachObject)delete p[g.attachObject[0]][g.attachObject[1]];else if(g.attach&&!An.fun(g.attach)&&p[g.attach]===g)p[g.attach]=null;else if(An.arr(g.attachFns)){const[,C]=g.attachFns;An.str(C)&&An.fun(p[C])?p[C](g):An.fun(C)&&C(g,p)}else if(g.isObject3D&&p.isObject3D){var x;p.remove(g),(x=g.__r3f)!=null&&x.root&&nne(g.__r3f.root,g)}const T=(M=g.__r3f)==null?void 0:M.primitive,E=y===void 0?g.dispose!==null&&!T:y;if(!T){var _;l((_=g.__r3f)==null?void 0:_.objects,g,E),l(g.children,g,E)}g.__r3f&&(delete g.__r3f.root,delete g.__r3f.objects,delete g.__r3f.handlers,delete g.__r3f.memoizedProps,T||delete g.__r3f),E&&g.dispose&&g.type!=="Scene"&&zd.exports.unstable_runWithPriority(zd.exports.unstable_IdlePriority,()=>{try{g.dispose()}catch{}}),r(p)}}function m(p,g,y,S){var M;const x=(M=p.__r3f)==null?void 0:M.parent;if(!x)return;const _=o(g,y,p.__r3f.root);g!=="primitive"&&p.children&&(p.children.forEach(T=>s(_,T)),p.children=[]),p.__r3f.objects.forEach(T=>s(_,T)),p.__r3f.objects=[],c(x,p),s(x,_),[S,S.alternate].forEach(T=>{T!==null&&(T.stateNode=_,T.ref&&(typeof T.ref=="function"?T.ref(_):T.ref.current=_))})}return{reconciler:Kte({now:zd.exports.unstable_now,createInstance:o,removeChild:c,appendChild:s,appendInitialChild:s,insertBefore:a,warnsIfNotActing:!0,supportsMutation:!0,isPrimaryRenderer:!1,scheduleTimeout:An.fun(setTimeout)?setTimeout:void 0,cancelTimeout:An.fun(clearTimeout)?clearTimeout:void 0,setTimeout:An.fun(setTimeout)?setTimeout:void 0,clearTimeout:An.fun(clearTimeout)?clearTimeout:void 0,noTimeout:-1,appendChildToContainer:(p,g)=>{const{container:y,root:S}=fC(p,g);y.__r3f.root=S,s(y,g)},removeChildFromContainer:(p,g)=>c(fC(p,g).container,g),insertInContainerBefore:(p,g,y)=>a(fC(p,g).container,g,y),prepareUpdate(p,g,y,S){if(p.__r3f.primitive&&S.object&&S.object!==p)return[!0];{const M=S,{args:_=[],children:T}=M,E=Co(M,["args","children"]),x=y,{args:C=[],children:I}=x,R=Co(x,["args","children"]);if(!Array.isArray(_))throw"The args prop must be an array!";if(_.some((k,U)=>k!==C[U]))return[!0];const D=e(p,E,R,!0);if(D.changes.length)return[!1,D];if(p.attach&&typeof p.attach!="function"){const U=p.__r3f.parent;U&&U[p.attach]!==p&&s(U,p)}return null}},commitUpdate(p,[g,y],S,M,x,_){g?m(p,S,x,_):t(p,y)},hideInstance(p){p.isObject3D&&(p.visible=!1,r(p))},unhideInstance(p,g){(p.isObject3D&&g.visible==null||g.visible)&&(p.visible=!0,r(p))},hideTextInstance(){throw new Error("Text is not allowed in the R3F tree.")},getPublicInstance(p){return p},getRootHostContext(p){return one},getChildHostContext(p){return p},createTextInstance(){},finalizeInitialChildren(p){var g;return!!((g=p==null?void 0:p.__r3f)!=null?g:{}).handlers},commitMount(p){var g;const y=(g=p==null?void 0:p.__r3f)!=null?g:{};p.raycast&&y.handlers&&y.eventCount&&p.__r3f.root.getState().internal.interaction.push(p)},shouldDeprioritizeSubtree(){return!1},prepareForCommit(){return null},preparePortalMount(p){Mp(p)},resetAfterCommit(){},shouldSetTextContent(){return!1},clearContainer(){return!1}}),applyProps:t}}const une=n=>!!(n!=null&&n.render),mz=n=>n&&n.isOrthographicCamera;function dC(n){return Array.isArray(n)?Math.min(Math.max(n[0],window.devicePixelRatio),n[1]):n}const gz=se.exports.createContext(null),cne=(n,e,t,r)=>{const{gl:i,size:o,shadows:s=!1,linear:a=!1,flat:l=!1,vr:c=!1,orthographic:m=!1,frameloop:v="always",dpr:p=1,performance:g,clock:y=new eC,raycaster:S,camera:M,onPointerMissed:x}=r;s&&(i.shadowMap.enabled=!0,typeof s=="object"?Object.assign(i.shadowMap,s):i.shadowMap.type=sT),a&&(i.outputEncoding=Hr),l&&(i.toneMapping=Ha),v==="never"&&(y.stop(),y.elapsedTime=0);const _=az((I,R)=>{const D=new GB,Ve=S||{},{params:k}=Ve,U=Co(Ve,["params"]);n(D,Li(cn({enabled:!0},U),{params:cn(cn({},D.params),k)}));const B=M instanceof df,$=B?M:m?new hs(0,0,0,0,.1,1e3):new Tn(75,0,.1,1e3);B||($.position.z=5,M&&n($,M),M!=null&&M.rotation||$.lookAt(0,0,0));const K=dC(p),ie=new H,Q=new H,re=new H;function ue(te=R().camera,me=Q,J=R().size){const{width:V,height:j}=J,Y=V/j;me instanceof H?re.copy(me):re.set(...me);const de=te.getWorldPosition(ie).distanceTo(re);if(mz(te))return{width:V/te.zoom,height:j/te.zoom,factor:1,distance:de,aspect:Y};{const ye=te.fov*Math.PI/180,ge=2*Math.tan(ye/2)*de,be=ge*(V/j);return{width:be,height:ge,factor:V/be,distance:de,aspect:Y}}}let Pe;const Ue=te=>I(me=>({performance:Li(cn({},me.performance),{current:te})}));return{gl:i,set:I,get:R,invalidate:()=>e(R()),advance:(te,me)=>t(te,me,R()),linear:a,flat:l,scene:Mp(new Ov),camera:$,controls:null,raycaster:D,clock:y,mouse:new Oe,vr:c,frameloop:v,onPointerMissed:x,performance:Li(cn({current:1,min:.5,max:1,debounce:200},g),{regress:()=>{const te=R();Pe&&clearTimeout(Pe),te.performance.current!==te.performance.min&&Ue(te.performance.min),Pe=setTimeout(()=>Ue(R().performance.max),te.performance.debounce)}}),size:{width:0,height:0},viewport:{initialDpr:K,dpr:K,width:0,height:0,aspect:0,distance:0,factor:0,getCurrentViewport:ue},setSize:(te,me)=>{const J={width:te,height:me};I(V=>({size:J,viewport:cn(cn({},V.viewport),ue($,Q,J))}))},setDpr:te=>I(me=>({viewport:Li(cn({},me.viewport),{dpr:dC(te)})})),setFrameloop:(te="always")=>I(()=>({frameloop:te})),events:{connected:!1},internal:{active:!1,priority:0,frames:0,lastProps:r,lastEvent:se.exports.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(te,me=0)=>(I(({internal:J})=>({internal:Li(cn({},J),{priority:J.priority+(me>0?1:0),subscribers:[...J.subscribers,{ref:te,priority:me}].sort((V,j)=>V.priority-j.priority)})})),()=>{I(({internal:J})=>({internal:Li(cn({},J),{priority:J.priority-(me>0?1:0),subscribers:J.subscribers.filter(V=>V.ref!==te)})}))})}}}),T=_.getState();let E=T.size,C=T.viewport.dpr;return _.subscribe(()=>{const{camera:I,size:R,viewport:D,internal:k}=_.getState();(R!==E||D.dpr!==C)&&(!I.manual&&!(k.lastProps.camera instanceof df)&&(mz(I)?(I.left=R.width/-2,I.right=R.width/2,I.top=R.height/2,I.bottom=R.height/-2):I.aspect=R.width/R.height,I.updateProjectionMatrix(),I.updateMatrixWorld()),i.setPixelRatio(D.dpr),i.setSize(R.width,R.height),E=R,C=D.dpr)}),o&&T.setSize(o.width,o.height),_.subscribe(I=>e(I)),_};let Eu,vz=[],yz=[],fne=[];function ty(n,e){for(Eu=0;Eu<n.length;Eu++)n[Eu](e)}function hC(n,e){let t=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(t=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),Eu=0;Eu<e.internal.subscribers.length;Eu++)e.internal.subscribers[Eu].ref.current(e,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function dne(n){let e=!1,t;function r(s){if(e=!0,t=0,ty(vz,s),n.forEach(a=>{const l=a.store.getState();l.internal.active&&(l.frameloop==="always"||l.internal.frames>0)&&(t+=hC(s,l))}),ty(yz,s),t>0)return requestAnimationFrame(r);ty(fne,s),e=!1}function i(s){if(!s)return n.forEach(a=>i(a.store.getState()));s.vr||!s.internal.active||s.frameloop==="never"||(s.internal.frames=Math.min(60,s.internal.frames+1),e||(e=!0,requestAnimationFrame(r)))}function o(s,a=!0,l){a&&ty(vz,s),l?hC(s,l):n.forEach(c=>hC(s,c.store.getState())),a&&ty(yz,s)}return{loop:r,invalidate:i,advance:o}}function hne(n){const{handlePointer:e}=rne(n),t={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};return{connected:!1,handlers:Object.keys(t).reduce((r,i)=>Li(cn({},r),{[i]:e(i)}),{}),connect:r=>{var i;const{set:o,events:s}=n.getState();s.disconnect==null||s.disconnect(),o(a=>({events:Li(cn({},a.events),{connected:r})})),Object.entries((i=s==null?void 0:s.handlers)!=null?i:[]).forEach(([a,l])=>{const[c,m]=t[a];r.addEventListener(c,l,{passive:m})})},disconnect:()=>{const{set:r,events:i}=n.getState();if(i.connected){var o;Object.entries((o=i.handlers)!=null?o:[]).forEach(([s,a])=>{if(i&&i.connected instanceof HTMLElement){const[l]=t[s];i.connected.removeEventListener(l,a)}}),r(s=>({events:Li(cn({},s.events),{connected:!1})}))}}}}const pC=typeof window!="undefined"?se.exports.useLayoutEffect:se.exports.useEffect;function pne({set:n}){return pC(()=>(n(new Promise(()=>null)),()=>n(!1)),[]),null}class xz extends se.exports.Component{constructor(...e){super(...e);this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}xz.getDerivedStateFromError=()=>({error:!0});const $re=se.exports.forwardRef(function(v,m){var p=v,{children:e,fallback:t,tabIndex:r,resize:i,id:o,style:s,className:a,events:l}=p,c=Co(p,["children","fallback","tabIndex","resize","id","style","className","events"]);const[g,{width:y,height:S}]=Zte(cn({scroll:!0,debounce:{scroll:50,resize:0}},i)),M=se.exports.useRef(null),[x,_]=se.exports.useState(!1),[T,E]=se.exports.useState(!1);if(x)throw x;if(T)throw T;return pC(()=>{y>0&&S>0&&yne(se.exports.createElement(xz,{set:E},se.exports.createElement(se.exports.Suspense,{fallback:se.exports.createElement(pne,{set:_})},e)),M.current,Li(cn({},c),{size:{width:y,height:S},events:l||hne}))},[y,S,e]),pC(()=>{const C=M.current;return()=>Az(C)},[]),se.exports.createElement("div",{ref:g,id:o,className:a,tabIndex:r,style:cn({position:"relative",width:"100%",height:"100%",overflow:"hidden"},s)},se.exports.createElement("canvas",{ref:$te([M,m]),style:{display:"block"}},t))});function _z(){const n=se.exports.useContext(gz);if(!n)throw"R3F hooks can only be used within the Canvas component!";return n}function Bo(n=t=>t,e){return _z()(n,e)}function wz(n,e=0){const t=_z().getState().internal.subscribe,r=se.exports.useRef(n);return se.exports.useLayoutEffect(()=>void(r.current=n),[n]),se.exports.useLayoutEffect(()=>t(r,e),[e,t]),null}function mne(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function Sz(n,e){return function(t,...r){const i=new t;return n&&n(i),Promise.all(r.map(o=>new Promise((s,a)=>i.load(o,l=>{l.scene&&Object.assign(l,mne(l.scene)),s(l)},e,l=>a(`Could not load ${o}: ${l.message}`)))))}}function bz(n,e,t,r){const i=Array.isArray(e)?e:[e],o=ol(Sz(t,r),n,...i);return Array.isArray(e)?o:o[0]}bz.preload=function(n,e,t){const r=Array.isArray(e)?e:[e];return ol.preload(Sz(t),n,...r)};bz.clear=function(n,e){const t=Array.isArray(e)?e:[e];return ol.clear(n,...t)};const ny=new Map,Mz=["legacy","blocking","concurrent"],{invalidate:gne,advance:Ez}=dne(ny),{reconciler:ry,applyProps:Tz}=lne(),vne=(n,e)=>{const t=typeof n=="function"?n(e):n;if(une(t))return t;const r=new gn(cn({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0},n));return r.outputEncoding=as,r.toneMapping=mT,n&&Tz(r,n),r};function yne(n,e,l={}){var c=l,{gl:t,size:r,mode:i=Mz[1],events:o,onCreated:s}=c,a=Co(c,["gl","size","mode","events","onCreated"]);var m;if(!r){var v,p,g,y;r={width:(v=(p=e.parentElement)==null?void 0:p.clientWidth)!=null?v:0,height:(g=(y=e.parentElement)==null?void 0:y.clientHeight)!=null?g:0}}let S=ny.get(e),M=S==null?void 0:S.fiber,x=S==null?void 0:S.store,_=(m=x)==null?void 0:m.getState();if(M&&_&&(a.dpr!==void 0&&!An.equ(_.viewport.dpr,dC(a.dpr))&&_.setDpr(a.dpr),(_.size.width!==r.width||_.size.height!==r.height)&&_.setSize(r.width,r.height),_.frameloop!==a.frameloop&&_.setFrameloop(a.frameloop),a.linear!==_.internal.lastProps.linear&&(Az(e),M=void 0)),!M){const T=vne(t,e);a.vr&&(T.xr.enabled=!0,T.setAnimationLoop(C=>Ez(C,!0))),x=cne(Tz,gne,Ez,cn({gl:T,size:r},a));const E=x.getState();M=ry.createContainer(x,Mz.indexOf(i),!1,null),ny.set(e,{fiber:M,store:x}),o&&E.set({events:o(x)})}if(x&&M)return ry.updateContainer(se.exports.createElement(xne,{store:x,element:n,onCreated:s,target:e}),M,null,()=>{}),x;throw"Error creating root!"}function xne({store:n,element:e,onCreated:t,target:r}){return se.exports.useEffect(()=>{const i=n.getState();i.set(o=>({internal:Li(cn({},o.internal),{active:!0})})),i.events.connect==null||i.events.connect(r),t&&t(i)},[]),se.exports.createElement(gz.Provider,{value:n},e)}function Az(n,e){const t=ny.get(n),r=t==null?void 0:t.fiber;if(r){const i=t==null?void 0:t.store.getState();i&&(i.internal.active=!1),ry.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{var o,s,a;i.events.disconnect==null||i.events.disconnect(),(o=i.gl)==null||(s=o.renderLists)==null||s.dispose==null||s.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),_ne(i),ny.delete(n),e&&e(n)},500)})}}function _ne(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const r in n){var e,t;(e=(t=r).dispose)==null||e.call(t),delete n[r]}}ry.act;ry.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:"17.0.2"});const iy=new H,mC=new H,wne=new H;function Sne(n,e,t){const r=iy.setFromMatrixPosition(n.matrixWorld);r.project(e);const i=t.width/2,o=t.height/2;return[r.x*i+i,-(r.y*o)+o]}function bne(n,e){const t=iy.setFromMatrixPosition(n.matrixWorld),r=mC.setFromMatrixPosition(e.matrixWorld),i=t.sub(r),o=e.getWorldDirection(wne);return i.angleTo(o)>Math.PI/2}function Mne(n,e,t,r){const i=iy.setFromMatrixPosition(n.matrixWorld),o=i.clone();o.project(e),t.setFromCamera(o,e);const s=t.intersectObjects(r,!0);if(s.length){const a=s[0].distance;return i.distanceTo(t.ray.origin)<a}return!0}function Ene(n,e){if(e instanceof hs)return e.zoom;if(e instanceof Tn){const t=iy.setFromMatrixPosition(n.matrixWorld),r=mC.setFromMatrixPosition(e.matrixWorld),i=e.fov*Math.PI/180,o=t.distanceTo(r),s=2*Math.tan(i/2)*o;return 1/s}else return 1}function Tne(n,e,t){if(e instanceof Tn||e instanceof hs){const r=iy.setFromMatrixPosition(n.matrixWorld),i=mC.setFromMatrixPosition(e.matrixWorld),o=r.distanceTo(i),s=(t[1]-t[0])/(e.far-e.near),a=t[1]-s*e.far;return Math.round(s*o+a)}}const gC=n=>Math.abs(n)<1e-10?0:n;function Cz(n,e,t=""){let r="matrix3d(";for(let i=0;i!==16;i++)r+=gC(e[i]*n.elements[i])+(i!==15?",":")");return t+r}const Ane=(n=>e=>Cz(e,n))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),Cne=(n=>(e,t)=>Cz(e,n(t),"translate(-50%,-50%)"))(n=>[1/n,1/n,1/n,1,-1/n,-1/n,-1/n,-1,1/n,1/n,1/n,1,1,1,1,1]),Zre=se.exports.forwardRef((T,_)=>{var E=T,{children:n,eps:e=.001,style:t,className:r,prepend:i,center:o,fullscreen:s,portal:a,distanceFactor:l,sprite:c=!1,transform:m=!1,occlude:v,onOcclude:p,zIndexRange:g=[16777271,0],calculatePosition:y=Sne,as:S="div",pointerEvents:M="auto"}=E,x=Co(E,["children","eps","style","className","prepend","center","fullscreen","portal","distanceFactor","sprite","transform","occlude","onOcclude","zIndexRange","calculatePosition","as","pointerEvents"]);var C;const I=Bo(({gl:te})=>te),R=Bo(({camera:te})=>te),D=Bo(({scene:te})=>te),k=Bo(({size:te})=>te),U=Bo(({raycaster:te})=>te),[B]=se.exports.useState(()=>document.createElement(S)),$=se.exports.useRef(null),K=se.exports.useRef(0),ie=se.exports.useRef([0,0]),Q=se.exports.useRef(null),re=se.exports.useRef(null),ue=(C=a==null?void 0:a.current)!==null&&C!==void 0?C:I.domElement.parentNode;se.exports.useEffect(()=>{if($.current){if(D.updateMatrixWorld(),m)B.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const te=y($.current,R,k);B.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${te[0]}px,${te[1]}px,0);transform-origin:0 0;`}return ue&&(i?ue.prepend(B):ue.appendChild(B)),()=>{ue&&ue.removeChild(B),Bd.exports.unmountComponentAtNode(B)}}},[ue,m]);const Pe=se.exports.useMemo(()=>m?{position:"absolute",top:0,left:0,width:k.width,height:k.height,transformStyle:"preserve-3d",pointerEvents:"none"}:cn(cn({position:"absolute",transform:o?"translate3d(-50%,-50%,0)":"none"},s&&{top:-k.height/2,left:-k.width/2,width:k.width,height:k.height}),t),[t,o,s,k,m]),Ue=se.exports.useMemo(()=>({position:"absolute",pointerEvents:M}),[M]);se.exports.useLayoutEffect(()=>{m?Bd.exports.render(se.exports.createElement("div",{ref:Q,style:Pe},se.exports.createElement("div",{ref:re,style:Ue},se.exports.createElement("div",{ref:_,className:r,style:t,children:n}))),B):Bd.exports.render(se.exports.createElement("div",{ref:_,style:Pe,className:r,children:n}),B)});const Ve=se.exports.useRef(!0);return wz(()=>{if($.current){R.updateMatrixWorld(),$.current.updateWorldMatrix(!0,!1);const te=m?ie.current:y($.current,R,k);if(m||Math.abs(K.current-R.zoom)>e||Math.abs(ie.current[0]-te[0])>e||Math.abs(ie.current[1]-te[1])>e){const me=bne($.current,R);let J=!1;typeof v=="boolean"?v===!0&&(J=[D]):Array.isArray(v)&&(J=v.map(j=>j.current));const V=Ve.current;if(J){const j=Mne($.current,R,U,J);Ve.current=j&&!me}else Ve.current=!me;if(V!==Ve.current&&(p?p(!Ve.current):B.style.display=Ve.current?"block":"none"),B.style.zIndex=`${Tne($.current,R,g)}`,m){const[j,Y]=[k.width/2,k.height/2],de=R.projectionMatrix.elements[5]*Y,{isOrthographicCamera:ye,top:ge,left:be,bottom:De,right:ee}=R,pe=Ane(R.matrixWorldInverse),ve=ye?`scale(${de})translate(${gC(-(ee+be)/2)}px,${gC((ge+De)/2)}px)`:`translateZ(${de}px)`;let Le=$.current.matrixWorld;c&&(Le=R.matrixWorldInverse.clone().transpose().copyPosition(Le).scale($.current.scale),Le.elements[3]=Le.elements[7]=Le.elements[11]=0,Le.elements[15]=1),B.style.width=k.width+"px",B.style.height=k.height+"px",B.style.perspective=ye?"":`${de}px`,Q.current&&re.current&&(Q.current.style.transform=`${ve}${pe}translate(${j}px,${Y}px)`,re.current.style.transform=Cne(Le,1/((l||10)/400)))}else{const j=l===void 0?1:Ene($.current,R)*l;B.style.transform=`translate3d(${te[0]}px,${te[1]}px,0) scale(${j})`}ie.current=te,K.current=R.zoom}}}),se.exports.createElement("group",Lc({},x,{ref:$}))});let oy=0;const Jre=az(n=>(Sp.onStart=(e,t,r)=>{n({active:!0,item:e,loaded:t,total:r,progress:(t-oy)/(r-oy)*100})},Sp.onLoad=()=>{n({active:!1})},Sp.onError=e=>n(t=>({errors:[...t.errors,e]})),Sp.onProgress=(e,t,r)=>{t===r&&(oy=r),n({active:!0,item:e,loaded:t,total:r,progress:(t-oy)/(r-oy)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));function Nt(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}const Pz=(n,e)=>(n%e+e)%e;class Pne extends qa{constructor(e,t){super();Nt(this,"object",void 0),Nt(this,"domElement",void 0),Nt(this,"enabled",!0),Nt(this,"target",new H),Nt(this,"minDistance",0),Nt(this,"maxDistance",1/0),Nt(this,"minZoom",0),Nt(this,"maxZoom",1/0),Nt(this,"minPolarAngle",0),Nt(this,"maxPolarAngle",Math.PI),Nt(this,"minAzimuthAngle",-1/0),Nt(this,"maxAzimuthAngle",1/0),Nt(this,"enableDamping",!1),Nt(this,"dampingFactor",.05),Nt(this,"enableZoom",!0),Nt(this,"zoomSpeed",1),Nt(this,"enableRotate",!0),Nt(this,"rotateSpeed",1),Nt(this,"enablePan",!0),Nt(this,"panSpeed",1),Nt(this,"screenSpacePanning",!0),Nt(this,"keyPanSpeed",7),Nt(this,"autoRotate",!1),Nt(this,"autoRotateSpeed",2),Nt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Nt(this,"mouseButtons",{LEFT:Xc.ROTATE,MIDDLE:Xc.DOLLY,RIGHT:Xc.PAN}),Nt(this,"touches",{ONE:Kc.ROTATE,TWO:Kc.DOLLY_PAN}),Nt(this,"target0",void 0),Nt(this,"position0",void 0),Nt(this,"zoom0",void 0),Nt(this,"_domElementKeyEvents",null),Nt(this,"getPolarAngle",void 0),Nt(this,"getAzimuthalAngle",void 0),Nt(this,"setPolarAngle",void 0),Nt(this,"setAzimuthalAngle",void 0),Nt(this,"getDistance",void 0),Nt(this,"listenToKeyEvents",void 0),Nt(this,"saveState",void 0),Nt(this,"reset",void 0),Nt(this,"update",void 0),Nt(this,"connect",void 0),Nt(this,"dispose",void 0),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object instanceof Tn?this.object.zoom:1,this.getPolarAngle=()=>m.phi,this.getAzimuthalAngle=()=>m.theta,this.setPolarAngle=ae=>{let Ge=Pz(ae,2*Math.PI),at=m.phi;at<0&&(at+=2*Math.PI),Ge<0&&(Ge+=2*Math.PI);let It=Math.abs(Ge-at);2*Math.PI-It<It&&(Ge<at?Ge+=2*Math.PI:at+=2*Math.PI),v.phi=Ge-at,r.update()},this.setAzimuthalAngle=ae=>{let Ge=Pz(ae,2*Math.PI),at=m.theta;at<0&&(at+=2*Math.PI),Ge<0&&(Ge+=2*Math.PI);let It=Math.abs(Ge-at);2*Math.PI-It<It&&(Ge<at?Ge+=2*Math.PI:at+=2*Math.PI),v.theta=Ge-at,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=ae=>{ae.addEventListener("keydown",et),this._domElementKeyEvents=ae},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object instanceof Tn?r.object.zoom:1},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object instanceof Tn&&(r.object.zoom=r.zoom0,r.object.updateProjectionMatrix()),r.dispatchEvent(i),r.update(),l=a.NONE},this.update=(()=>{const ae=new H,Ge=new Lr().setFromUnitVectors(e.up,new H(0,1,0)),at=Ge.clone().invert(),It=new H,Ot=new Lr,Cn=2*Math.PI;return function(){const al=r.object.position;ae.copy(al).sub(r.target),ae.applyQuaternion(Ge),m.setFromVector3(ae),r.autoRotate&&l===a.NONE&&$(U()),r.enableDamping?(m.theta+=v.theta*r.dampingFactor,m.phi+=v.phi*r.dampingFactor):(m.theta+=v.theta,m.phi+=v.phi);let qr=r.minAzimuthAngle,Xr=r.maxAzimuthAngle;return isFinite(qr)&&isFinite(Xr)&&(qr<-Math.PI?qr+=Cn:qr>Math.PI&&(qr-=Cn),Xr<-Math.PI?Xr+=Cn:Xr>Math.PI&&(Xr-=Cn),qr<=Xr?m.theta=Math.max(qr,Math.min(Xr,m.theta)):m.theta=m.theta>(qr+Xr)/2?Math.max(qr,m.theta):Math.min(Xr,m.theta)),m.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,m.phi)),m.makeSafe(),m.radius*=p,m.radius=Math.max(r.minDistance,Math.min(r.maxDistance,m.radius)),r.enableDamping===!0?r.target.addScaledVector(g,r.dampingFactor):r.target.add(g),ae.setFromSpherical(m),ae.applyQuaternion(at),al.copy(r.target).add(ae),r.object.lookAt(r.target),r.enableDamping===!0?(v.theta*=1-r.dampingFactor,v.phi*=1-r.dampingFactor,g.multiplyScalar(1-r.dampingFactor)):(v.set(0,0,0),g.set(0,0,0)),p=1,y||It.distanceToSquared(r.object.position)>c||8*(1-Ot.dot(r.object.quaternion))>c?(r.dispatchEvent(i),It.copy(r.object.position),Ot.copy(r.object.quaternion),y=!1,!0):!1}})(),this.connect=ae=>{ae===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),r.domElement=ae,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",oe),r.domElement.addEventListener("pointerdown",W),r.domElement.addEventListener("pointercancel",Ae),r.domElement.addEventListener("wheel",Ye)},this.dispose=()=>{var ae,Ge,at,It,Ot,Cn;(ae=r.domElement)===null||ae===void 0||ae.removeEventListener("contextmenu",oe),(Ge=r.domElement)===null||Ge===void 0||Ge.removeEventListener("pointerdown",W),(at=r.domElement)===null||at===void 0||at.removeEventListener("pointercancel",Ae),(It=r.domElement)===null||It===void 0||It.removeEventListener("wheel",Ye),(Ot=r.domElement)===null||Ot===void 0||Ot.ownerDocument.removeEventListener("pointermove",G),(Cn=r.domElement)===null||Cn===void 0||Cn.ownerDocument.removeEventListener("pointerup",xe),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",et)};const r=this,i={type:"change"},o={type:"start"},s={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const c=1e-6,m=new oC,v=new oC;let p=1;const g=new H;let y=!1;const S=new Oe,M=new Oe,x=new Oe,_=new Oe,T=new Oe,E=new Oe,C=new Oe,I=new Oe,R=new Oe,D=[],k={};function U(){return 2*Math.PI/60/60*r.autoRotateSpeed}function B(){return Math.pow(.95,r.zoomSpeed)}function $(ae){v.theta-=ae}function K(ae){v.phi-=ae}const ie=(()=>{const ae=new H;return function(at,It){ae.setFromMatrixColumn(It,0),ae.multiplyScalar(-at),g.add(ae)}})(),Q=(()=>{const ae=new H;return function(at,It){r.screenSpacePanning===!0?ae.setFromMatrixColumn(It,1):(ae.setFromMatrixColumn(It,0),ae.crossVectors(r.object.up,ae)),ae.multiplyScalar(at),g.add(ae)}})(),re=(()=>{const ae=new H;return function(at,It){const Ot=r.domElement;if(Ot&&r.object instanceof Tn&&r.object.isPerspectiveCamera){const Cn=r.object.position;ae.copy(Cn).sub(r.target);let vr=ae.length();vr*=Math.tan(r.object.fov/2*Math.PI/180),ie(2*at*vr/Ot.clientHeight,r.object.matrix),Q(2*It*vr/Ot.clientHeight,r.object.matrix)}else Ot&&r.object instanceof hs&&r.object.isOrthographicCamera?(ie(at*(r.object.right-r.object.left)/r.object.zoom/Ot.clientWidth,r.object.matrix),Q(It*(r.object.top-r.object.bottom)/r.object.zoom/Ot.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function ue(ae){r.object instanceof Tn&&r.object.isPerspectiveCamera?p/=ae:r.object instanceof hs&&r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom*ae)),r.object.updateProjectionMatrix(),y=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function Pe(ae){r.object instanceof Tn&&r.object.isPerspectiveCamera?p*=ae:r.object instanceof hs&&r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/ae)),r.object.updateProjectionMatrix(),y=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function Ue(ae){S.set(ae.clientX,ae.clientY)}function Ve(ae){C.set(ae.clientX,ae.clientY)}function te(ae){_.set(ae.clientX,ae.clientY)}function me(ae){M.set(ae.clientX,ae.clientY),x.subVectors(M,S).multiplyScalar(r.rotateSpeed);const Ge=r.domElement;Ge&&($(2*Math.PI*x.x/Ge.clientHeight),K(2*Math.PI*x.y/Ge.clientHeight)),S.copy(M),r.update()}function J(ae){I.set(ae.clientX,ae.clientY),R.subVectors(I,C),R.y>0?ue(B()):R.y<0&&Pe(B()),C.copy(I),r.update()}function V(ae){T.set(ae.clientX,ae.clientY),E.subVectors(T,_).multiplyScalar(r.panSpeed),re(E.x,E.y),_.copy(T),r.update()}function j(ae){ae.deltaY<0?Pe(B()):ae.deltaY>0&&ue(B()),r.update()}function Y(ae){let Ge=!1;switch(ae.code){case r.keys.UP:re(0,r.keyPanSpeed),Ge=!0;break;case r.keys.BOTTOM:re(0,-r.keyPanSpeed),Ge=!0;break;case r.keys.LEFT:re(r.keyPanSpeed,0),Ge=!0;break;case r.keys.RIGHT:re(-r.keyPanSpeed,0),Ge=!0;break}Ge&&(ae.preventDefault(),r.update())}function de(){if(D.length==1)S.set(D[0].pageX,D[0].pageY);else{const ae=.5*(D[0].pageX+D[1].pageX),Ge=.5*(D[0].pageY+D[1].pageY);S.set(ae,Ge)}}function ye(){if(D.length==1)_.set(D[0].pageX,D[0].pageY);else{const ae=.5*(D[0].pageX+D[1].pageX),Ge=.5*(D[0].pageY+D[1].pageY);_.set(ae,Ge)}}function ge(){const ae=D[0].pageX-D[1].pageX,Ge=D[0].pageY-D[1].pageY,at=Math.sqrt(ae*ae+Ge*Ge);C.set(0,at)}function be(){r.enableZoom&&ge(),r.enablePan&&ye()}function De(){r.enableZoom&&ge(),r.enableRotate&&de()}function ee(ae){if(D.length==1)M.set(ae.pageX,ae.pageY);else{const at=ot(ae),It=.5*(ae.pageX+at.x),Ot=.5*(ae.pageY+at.y);M.set(It,Ot)}x.subVectors(M,S).multiplyScalar(r.rotateSpeed);const Ge=r.domElement;Ge&&($(2*Math.PI*x.x/Ge.clientHeight),K(2*Math.PI*x.y/Ge.clientHeight)),S.copy(M)}function pe(ae){if(D.length==1)T.set(ae.pageX,ae.pageY);else{const Ge=ot(ae),at=.5*(ae.pageX+Ge.x),It=.5*(ae.pageY+Ge.y);T.set(at,It)}E.subVectors(T,_).multiplyScalar(r.panSpeed),re(E.x,E.y),_.copy(T)}function ve(ae){const Ge=ot(ae),at=ae.pageX-Ge.x,It=ae.pageY-Ge.y,Ot=Math.sqrt(at*at+It*It);I.set(0,Ot),R.set(0,Math.pow(I.y/C.y,r.zoomSpeed)),ue(R.y),C.copy(I)}function Le(ae){r.enableZoom&&ve(ae),r.enablePan&&pe(ae)}function He(ae){r.enableZoom&&ve(ae),r.enableRotate&&ee(ae)}function W(ae){if(r.enabled!==!1){if(D.length===0){var Ge,at;(Ge=r.domElement)===null||Ge===void 0||Ge.ownerDocument.addEventListener("pointermove",G),(at=r.domElement)===null||at===void 0||at.ownerDocument.addEventListener("pointerup",xe)}Xe(ae),ae.pointerType==="touch"?st(ae):Te(ae)}}function G(ae){r.enabled!==!1&&(ae.pointerType==="touch"?it(ae):We(ae))}function xe(ae){if(Ne(ae),D.length===0){var Ge,at,It;(Ge=r.domElement)===null||Ge===void 0||Ge.releasePointerCapture(ae.pointerId),(at=r.domElement)===null||at===void 0||at.ownerDocument.removeEventListener("pointermove",G),(It=r.domElement)===null||It===void 0||It.ownerDocument.removeEventListener("pointerup",xe)}r.dispatchEvent(s),l=a.NONE}function Ae(ae){Ne(ae)}function Te(ae){let Ge;switch(ae.button){case 0:Ge=r.mouseButtons.LEFT;break;case 1:Ge=r.mouseButtons.MIDDLE;break;case 2:Ge=r.mouseButtons.RIGHT;break;default:Ge=-1}switch(Ge){case Xc.DOLLY:if(r.enableZoom===!1)return;Ve(ae),l=a.DOLLY;break;case Xc.ROTATE:if(ae.ctrlKey||ae.metaKey||ae.shiftKey){if(r.enablePan===!1)return;te(ae),l=a.PAN}else{if(r.enableRotate===!1)return;Ue(ae),l=a.ROTATE}break;case Xc.PAN:if(ae.ctrlKey||ae.metaKey||ae.shiftKey){if(r.enableRotate===!1)return;Ue(ae),l=a.ROTATE}else{if(r.enablePan===!1)return;te(ae),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(o)}function We(ae){if(r.enabled!==!1)switch(l){case a.ROTATE:if(r.enableRotate===!1)return;me(ae);break;case a.DOLLY:if(r.enableZoom===!1)return;J(ae);break;case a.PAN:if(r.enablePan===!1)return;V(ae);break}}function Ye(ae){r.enabled===!1||r.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(ae.preventDefault(),r.dispatchEvent(o),j(ae),r.dispatchEvent(s))}function et(ae){r.enabled===!1||r.enablePan===!1||Y(ae)}function st(ae){switch(ct(ae),D.length){case 1:switch(r.touches.ONE){case Kc.ROTATE:if(r.enableRotate===!1)return;de(),l=a.TOUCH_ROTATE;break;case Kc.PAN:if(r.enablePan===!1)return;ye(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(r.touches.TWO){case Kc.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;be(),l=a.TOUCH_DOLLY_PAN;break;case Kc.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;De(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(o)}function it(ae){switch(ct(ae),l){case a.TOUCH_ROTATE:if(r.enableRotate===!1)return;ee(ae),r.update();break;case a.TOUCH_PAN:if(r.enablePan===!1)return;pe(ae),r.update();break;case a.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Le(ae),r.update();break;case a.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;He(ae),r.update();break;default:l=a.NONE}}function oe(ae){r.enabled!==!1&&ae.preventDefault()}function Xe(ae){D.push(ae)}function Ne(ae){delete k[ae.pointerId];for(let Ge=0;Ge<D.length;Ge++)if(D[Ge].pointerId==ae.pointerId){D.splice(Ge,1);return}}function ct(ae){let Ge=k[ae.pointerId];Ge===void 0&&(Ge=new Oe,k[ae.pointerId]=Ge),Ge.set(ae.pageX,ae.pageY)}function ot(ae){const Ge=ae.pointerId===D[0].pointerId?D[1]:D[0];return k[Ge.pointerId]}t!==void 0&&this.connect(t),this.update()}}const Qre=se.exports.forwardRef((m,c)=>{var v=m,{makeDefault:n,camera:e,regress:t,domElement:r,enableDamping:i=!0,onChange:o,onStart:s,onEnd:a}=v,l=Co(v,["makeDefault","camera","regress","domElement","enableDamping","onChange","onStart","onEnd"]);const p=Bo(({invalidate:I})=>I),g=Bo(({camera:I})=>I),y=Bo(({gl:I})=>I),S=Bo(({events:I})=>I),M=Bo(({set:I})=>I),x=Bo(({get:I})=>I),_=Bo(({performance:I})=>I),T=e||g,E=r||(typeof S.connected!="boolean"?S.connected:y.domElement),C=se.exports.useMemo(()=>new Pne(T),[T]);return wz(()=>{C.enabled&&C.update()}),se.exports.useEffect(()=>{const I=R=>{p(),t&&_.regress(),o&&o(R)};return C.connect(E),C.addEventListener("change",I),s&&C.addEventListener("start",s),a&&C.addEventListener("end",a),()=>{C.removeEventListener("change",I),s&&C.removeEventListener("start",s),a&&C.removeEventListener("end",a),C.dispose()}},[E,o,s,a,t,C,p]),se.exports.useEffect(()=>{if(n){const I=x().controls;return M({controls:C}),()=>M({controls:I})}},[n,C]),se.exports.createElement("primitive",Lc({ref:c,object:C,enableDamping:i},l))}),eie=se.exports.forwardRef(function(o,i){var s=o,{children:e,alignTop:t}=s,r=Co(s,["children","alignTop"]);const a=se.exports.useRef(null),l=se.exports.useRef(null);return se.exports.useLayoutEffect(()=>{a.current.position.set(0,0,0),a.current.updateWorldMatrix(!0,!0);const c=new to().setFromObject(l.current),m=new H,v=new Ka,p=c.max.y-c.min.y;c.getCenter(m),c.getBoundingSphere(v),a.current.position.set(-m.x,-m.y+(t?p/2:0),-m.z)},[e]),se.exports.createElement("group",Lc({ref:i},r),se.exports.createElement("group",{ref:a},se.exports.createElement("group",{ref:l},e)))});/*!
fflate - fast JavaScript compression/decompression
<https://101arrowz.github.io/fflate>
Licensed under MIT. https://github.com/101arrowz/fflate/blob/master/LICENSE
version 0.6.9
*/var Rz=function(n){return URL.createObjectURL(new Blob([n],{type:"text/javascript"}))};try{URL.revokeObjectURL(Rz(""))}catch{Rz=function(e){return"data:application/javascript;charset=UTF-8,"+encodeURI(e)}}var yo=Uint8Array,Tu=Uint16Array,vC=Uint32Array,Lz=new yo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Iz=new yo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Rne=new yo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Dz=function(n,e){for(var t=new Tu(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new vC(t[30]),r=1;r<30;++r)for(var o=t[r];o<t[r+1];++o)i[o]=o-t[r]<<5|r;return[t,i]},Oz=Dz(Lz,2),Fz=Oz[0],Lne=Oz[1];Fz[28]=258,Lne[258]=28;var Ine=Dz(Iz,0),Dne=Ine[0],yC=new Tu(32768);for(var Nn=0;Nn<32768;++Nn){var Au=(Nn&43690)>>>1|(Nn&21845)<<1;Au=(Au&52428)>>>2|(Au&13107)<<2,Au=(Au&61680)>>>4|(Au&3855)<<4,yC[Nn]=((Au&65280)>>>8|(Au&255)<<8)>>>1}var sy=function(n,e,t){for(var r=n.length,i=0,o=new Tu(e);i<r;++i)++o[n[i]-1];var s=new Tu(e);for(i=0;i<e;++i)s[i]=s[i-1]+o[i-1]<<1;var a;if(t){a=new Tu(1<<e);var l=15-e;for(i=0;i<r;++i)if(n[i])for(var c=i<<4|n[i],m=e-n[i],v=s[n[i]-1]++<<m,p=v|(1<<m)-1;v<=p;++v)a[yC[v]>>>l]=c}else for(a=new Tu(r),i=0;i<r;++i)n[i]&&(a[i]=yC[s[n[i]-1]++]>>>15-n[i]);return a},ay=new yo(288);for(var Nn=0;Nn<144;++Nn)ay[Nn]=8;for(var Nn=144;Nn<256;++Nn)ay[Nn]=9;for(var Nn=256;Nn<280;++Nn)ay[Nn]=7;for(var Nn=280;Nn<288;++Nn)ay[Nn]=8;var kz=new yo(32);for(var Nn=0;Nn<32;++Nn)kz[Nn]=5;var One=sy(ay,9,1),Fne=sy(kz,5,1),xC=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},vs=function(n,e,t){var r=e/8|0;return(n[r]|n[r+1]<<8)>>(e&7)&t},_C=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},kne=function(n){return(n/8|0)+(n&7&&1)},wC=function(n,e,t){(e==null||e<0)&&(e=0),(t==null||t>n.length)&&(t=n.length);var r=new(n instanceof Tu?Tu:n instanceof vC?vC:yo)(t-e);return r.set(n.subarray(e,t)),r},Nne=function(n,e,t){var r=n.length;if(!r||t&&!t.l&&r<5)return e||new yo(0);var i=!e||t,o=!t||t.i;t||(t={}),e||(e=new yo(r*3));var s=function(Y){var de=e.length;if(Y>de){var ye=new yo(Math.max(de*2,Y));ye.set(e),e=ye}},a=t.f||0,l=t.p||0,c=t.b||0,m=t.l,v=t.d,p=t.m,g=t.n,y=r*8;do{if(!m){t.f=a=vs(n,l,1);var S=vs(n,l+1,3);if(l+=3,S)if(S==1)m=One,v=Fne,p=9,g=5;else if(S==2){var T=vs(n,l,31)+257,E=vs(n,l+10,15)+4,C=T+vs(n,l+5,31)+1;l+=14;for(var I=new yo(C),R=new yo(19),D=0;D<E;++D)R[Rne[D]]=vs(n,l+D*3,7);l+=E*3;for(var k=xC(R),U=(1<<k)-1,B=sy(R,k,1),D=0;D<C;){var $=B[vs(n,l,U)];l+=$&15;var M=$>>>4;if(M<16)I[D++]=M;else{var K=0,ie=0;for(M==16?(ie=3+vs(n,l,3),l+=2,K=I[D-1]):M==17?(ie=3+vs(n,l,7),l+=3):M==18&&(ie=11+vs(n,l,127),l+=7);ie--;)I[D++]=K}}var Q=I.subarray(0,T),re=I.subarray(T);p=xC(Q),g=xC(re),m=sy(Q,p,1),v=sy(re,g,1)}else throw"invalid block type";else{var M=kne(l)+4,x=n[M-4]|n[M-3]<<8,_=M+x;if(_>r){if(o)throw"unexpected EOF";break}i&&s(c+x),e.set(n.subarray(M,_),c),t.b=c+=x,t.p=l=_*8;continue}if(l>y){if(o)throw"unexpected EOF";break}}i&&s(c+131072);for(var ue=(1<<p)-1,Pe=(1<<g)-1,Ue=l;;Ue=l){var K=m[_C(n,l)&ue],Ve=K>>>4;if(l+=K&15,l>y){if(o)throw"unexpected EOF";break}if(!K)throw"invalid length/literal";if(Ve<256)e[c++]=Ve;else if(Ve==256){Ue=l,m=null;break}else{var te=Ve-254;if(Ve>264){var D=Ve-257,me=Lz[D];te=vs(n,l,(1<<me)-1)+Fz[D],l+=me}var J=v[_C(n,l)&Pe],V=J>>>4;if(!J)throw"invalid distance";l+=J&15;var re=Dne[V];if(V>3){var me=Iz[V];re+=_C(n,l)&(1<<me)-1,l+=me}if(l>y){if(o)throw"unexpected EOF";break}i&&s(c+131072);for(var j=c+te;c<j;c+=4)e[c]=e[c-re],e[c+1]=e[c+1-re],e[c+2]=e[c+2-re],e[c+3]=e[c+3-re];c=j}}t.l=m,t.p=Ue,t.b=c,m&&(a=1,t.m=p,t.d=v,t.n=g)}while(!a);return c==e.length?e:wC(e,0,c)},Bne=new yo(0),qs=function(n,e){return n[e]|n[e+1]<<8},ys=function(n,e){return(n[e]|n[e+1]<<8|n[e+2]<<16|n[e+3]<<24)>>>0},SC=function(n,e){return ys(n,e)+ys(n,e+4)*4294967296};function zne(n,e){return Nne(n,e)}var bC=typeof TextDecoder!="undefined"&&new TextDecoder,Une=0;try{bC.decode(Bne,{stream:!0}),Une=1}catch{}var Vne=function(n){for(var e="",t=0;;){var r=n[t++],i=(r>127)+(r>223)+(r>239);if(t+i>n.length)return[e,wC(n,t-1)];i?i==3?(r=((r&15)<<18|(n[t++]&63)<<12|(n[t++]&63)<<6|n[t++]&63)-65536,e+=String.fromCharCode(55296|r>>10,56320|r&1023)):i&1?e+=String.fromCharCode((r&31)<<6|n[t++]&63):e+=String.fromCharCode((r&15)<<12|(n[t++]&63)<<6|n[t++]&63):e+=String.fromCharCode(r)}};function Hne(n,e){if(e){for(var t="",r=0;r<n.length;r+=16384)t+=String.fromCharCode.apply(null,n.subarray(r,r+16384));return t}else{if(bC)return bC.decode(n);var i=Vne(n),o=i[0],s=i[1];if(s.length)throw"invalid utf-8 data";return o}}var Gne=function(n,e){return e+30+qs(n,e+26)+qs(n,e+28)},Wne=function(n,e,t){var r=qs(n,e+28),i=Hne(n.subarray(e+46,e+46+r),!(qs(n,e+8)&2048)),o=e+46+r,s=ys(n,e+20),a=t&&s==4294967295?jne(n,o):[s,ys(n,e+24),ys(n,e+42)],l=a[0],c=a[1],m=a[2];return[qs(n,e+10),l,c,i,o+qs(n,e+30)+qs(n,e+32),m]},jne=function(n,e){for(;qs(n,e)!=1;e+=4+qs(n,e+2));return[SC(n,e+12),SC(n,e+4),SC(n,e+20)]};function qne(n){for(var e={},t=n.length-22;ys(n,t)!=101010256;--t)if(!t||n.length-t>65558)throw"invalid zip file";var r=qs(n,t+8);if(!r)return{};var i=ys(n,t+16),o=i==4294967295;if(o){if(t=ys(n,t-12),ys(n,t)!=101075792)throw"invalid zip file";r=ys(n,t+32),i=ys(n,t+48)}for(var s=0;s<r;++s){var a=Wne(n,i,o),l=a[0],c=a[1],m=a[2],v=a[3],p=a[4],g=a[5],y=Gne(n,g);if(i=p,!l)e[v]=wC(n,y,y+c);else if(l==8)e[v]=zne(n.subarray(y,y+c),new yo(m));else throw"unknown compression type "+l}return e}class tie extends jr{constructor(e){super(e);this.availableExtensions=[]}load(e,t,r,i){const o=this,s=new vo(o.manager);s.setPath(o.path),s.setResponseType("arraybuffer"),s.setRequestHeader(o.requestHeader),s.setWithCredentials(o.withCredentials),s.load(e,function(a){try{t(o.parse(a))}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}parse(e){const t=this,r=new HA(this.manager);function i(V){let j=null,Y=null,de,ye;const ge=[],be=[];let De;const ee={},pe={},ve={},Le={};try{j=qne(new Uint8Array(V))}catch(xe){if(xe instanceof ReferenceError)return console.error("THREE.3MFLoader: fflate missing and file is compressed."),null}for(Y in j)Y.match(/\_rels\/.rels$/)?de=Y:Y.match(/3D\/_rels\/.*\.model\.rels$/)?ye=Y:Y.match(/^3D\/.*\.model$/)?ge.push(Y):Y.match(/^3D\/Metadata\/.*\.xml$/)||(Y.match(/^3D\/Textures?\/.*/)?be.push(Y):Y.match(/^3D\/Other\/.*/));const He=j[de],W=bu.decodeText(He),G=o(W);if(ye){const xe=j[ye],Ae=bu.decodeText(xe);De=o(Ae)}for(let xe=0;xe<ge.length;xe++){const Ae=ge[xe],Te=j[Ae],We=bu.decodeText(Te),Ye=new DOMParser().parseFromString(We,"application/xml");Ye.documentElement.nodeName.toLowerCase()!=="model"&&console.error("THREE.3MFLoader: Error loading 3MF - no 3MF document found: ",Ae);const et=Ye.querySelector("model"),st={};for(let oe=0;oe<et.attributes.length;oe++){const Xe=et.attributes[oe];Xe.name.match(/^xmlns:(.+)$/)&&(st[Xe.value]=RegExp.$1)}const it=E(et);it.xml=et,0<Object.keys(st).length&&(it.extensions=st),ee[Ae]=it}for(let xe=0;xe<be.length;xe++){const Ae=be[xe];ve[Ae]=j[Ae].buffer}return{rels:G,modelRels:De,model:ee,printTicket:pe,texture:ve,other:Le}}function o(V){const j=[],de=new DOMParser().parseFromString(V,"application/xml").querySelectorAll("Relationship");for(let ye=0;ye<de.length;ye++){const ge=de[ye],be={target:ge.getAttribute("Target"),id:ge.getAttribute("Id"),type:ge.getAttribute("Type")};j.push(be)}return j}function s(V){const j={};for(let Y=0;Y<V.length;Y++){const de=V[Y],ye=de.getAttribute("name");0<=["Title","Designer","Description","Copyright","LicenseTerms","Rating","CreationDate","ModificationDate"].indexOf(ye)&&(j[ye]=de.textContent)}return j}function a(V){const j={id:V.getAttribute("id"),basematerials:[]},Y=V.querySelectorAll("base");for(let de=0;de<Y.length;de++){const ye=Y[de],ge=p(ye);ge.index=de,j.basematerials.push(ge)}return j}function l(V){return{id:V.getAttribute("id"),path:V.getAttribute("path"),contenttype:V.getAttribute("contenttype"),tilestyleu:V.getAttribute("tilestyleu"),tilestylev:V.getAttribute("tilestylev"),filter:V.getAttribute("filter")}}function c(V){const j={id:V.getAttribute("id"),texid:V.getAttribute("texid"),displaypropertiesid:V.getAttribute("displaypropertiesid")},Y=V.querySelectorAll("tex2coord"),de=[];for(let ye=0;ye<Y.length;ye++){const ge=Y[ye],be=ge.getAttribute("u"),De=ge.getAttribute("v");de.push(parseFloat(be),parseFloat(De))}return j.uvs=new Float32Array(de),j}function m(V){const j={id:V.getAttribute("id"),displaypropertiesid:V.getAttribute("displaypropertiesid")},Y=V.querySelectorAll("color"),de=[],ye=new Je;for(let ge=0;ge<Y.length;ge++){const De=Y[ge].getAttribute("color");ye.setStyle(De.substring(0,7)),ye.convertSRGBToLinear(),de.push(ye.r,ye.g,ye.b)}return j.colors=new Float32Array(de),j}function v(V){const j={id:V.getAttribute("id")},Y=V.querySelectorAll("pbmetallic"),de=[];for(let ye=0;ye<Y.length;ye++){const ge=Y[ye];de.push({name:ge.getAttribute("name"),metallicness:parseFloat(ge.getAttribute("metallicness")),roughness:parseFloat(ge.getAttribute("roughness"))})}return j.data=de,j}function p(V){const j={};return j.name=V.getAttribute("name"),j.displaycolor=V.getAttribute("displaycolor"),j.displaypropertiesid=V.getAttribute("displaypropertiesid"),j}function g(V){const j={},Y=[],de=V.querySelectorAll("vertices vertex");for(let De=0;De<de.length;De++){const ee=de[De],pe=ee.getAttribute("x"),ve=ee.getAttribute("y"),Le=ee.getAttribute("z");Y.push(parseFloat(pe),parseFloat(ve),parseFloat(Le))}j.vertices=new Float32Array(Y);const ye=[],ge=[],be=V.querySelectorAll("triangles triangle");for(let De=0;De<be.length;De++){const ee=be[De],pe=ee.getAttribute("v1"),ve=ee.getAttribute("v2"),Le=ee.getAttribute("v3"),He=ee.getAttribute("p1"),W=ee.getAttribute("p2"),G=ee.getAttribute("p3"),xe=ee.getAttribute("pid"),Ae={};Ae.v1=parseInt(pe,10),Ae.v2=parseInt(ve,10),Ae.v3=parseInt(Le,10),ge.push(Ae.v1,Ae.v2,Ae.v3),He&&(Ae.p1=parseInt(He,10)),W&&(Ae.p2=parseInt(W,10)),G&&(Ae.p3=parseInt(G,10)),xe&&(Ae.pid=xe),0<Object.keys(Ae).length&&ye.push(Ae)}return j.triangleProperties=ye,j.triangles=new Uint32Array(ge),j}function y(V){const j=[],Y=V.querySelectorAll("component");for(let de=0;de<Y.length;de++){const ye=Y[de],ge=S(ye);j.push(ge)}return j}function S(V){const j={};j.objectId=V.getAttribute("objectid");const Y=V.getAttribute("transform");return Y&&(j.transform=M(Y)),j}function M(V){const j=[];V.split(" ").forEach(function(de){j.push(parseFloat(de))});const Y=new ht;return Y.set(j[0],j[3],j[6],j[9],j[1],j[4],j[7],j[10],j[2],j[5],j[8],j[11],0,0,0,1),Y}function x(V){const j={type:V.getAttribute("type")},Y=V.getAttribute("id");Y&&(j.id=Y);const de=V.getAttribute("pid");de&&(j.pid=de);const ye=V.getAttribute("pindex");ye&&(j.pindex=ye);const ge=V.getAttribute("thumbnail");ge&&(j.thumbnail=ge);const be=V.getAttribute("partnumber");be&&(j.partnumber=be);const De=V.getAttribute("name");De&&(j.name=De);const ee=V.querySelector("mesh");ee&&(j.mesh=g(ee));const pe=V.querySelector("components");return pe&&(j.components=y(pe)),j}function _(V){const j={};j.basematerials={};const Y=V.querySelectorAll("basematerials");for(let ee=0;ee<Y.length;ee++){const pe=Y[ee],ve=a(pe);j.basematerials[ve.id]=ve}j.texture2d={};const de=V.querySelectorAll("texture2d");for(let ee=0;ee<de.length;ee++){const pe=de[ee],ve=l(pe);j.texture2d[ve.id]=ve}j.colorgroup={};const ye=V.querySelectorAll("colorgroup");for(let ee=0;ee<ye.length;ee++){const pe=ye[ee],ve=m(pe);j.colorgroup[ve.id]=ve}j.pbmetallicdisplayproperties={};const ge=V.querySelectorAll("pbmetallicdisplayproperties");for(let ee=0;ee<ge.length;ee++){const pe=ge[ee],ve=v(pe);j.pbmetallicdisplayproperties[ve.id]=ve}j.texture2dgroup={};const be=V.querySelectorAll("texture2dgroup");for(let ee=0;ee<be.length;ee++){const pe=be[ee],ve=c(pe);j.texture2dgroup[ve.id]=ve}j.object={};const De=V.querySelectorAll("object");for(let ee=0;ee<De.length;ee++){const pe=De[ee],ve=x(pe);j.object[ve.id]=ve}return j}function T(V){const j=[],Y=V.querySelectorAll("item");for(let de=0;de<Y.length;de++){const ye=Y[de],ge={objectId:ye.getAttribute("objectid")},be=ye.getAttribute("transform");be&&(ge.transform=M(be)),j.push(ge)}return j}function E(V){const j={unit:V.getAttribute("unit")||"millimeter"},Y=V.querySelectorAll("metadata");Y&&(j.metadata=s(Y));const de=V.querySelector("resources");de&&(j.resources=_(de));const ye=V.querySelector("build");return ye&&(j.build=T(ye)),j}function C(V,j,Y,de){const ye=V.texid,be=Y.resources.texture2d[ye];if(be){const De=de[be.path],ee=be.contenttype,pe=new Blob([De],{type:ee}),ve=URL.createObjectURL(pe),Le=r.load(ve,function(){URL.revokeObjectURL(ve)});switch(Le.encoding=as,be.tilestyleu){case"wrap":Le.wrapS=Ga;break;case"mirror":Le.wrapS=ef;break;case"none":case"clamp":Le.wrapS=Pr;break;default:Le.wrapS=Ga}switch(be.tilestylev){case"wrap":Le.wrapT=Ga;break;case"mirror":Le.wrapT=ef;break;case"none":case"clamp":Le.wrapT=Pr;break;default:Le.wrapT=Ga}switch(be.filter){case"auto":Le.magFilter=Yn,Le.minFilter=Wa;break;case"linear":Le.magFilter=Yn,Le.minFilter=Yn;break;case"nearest":Le.magFilter=ir,Le.minFilter=ir;break;default:Le.magFilter=Yn,Le.minFilter=Wa}return Le}else return null}function I(V,j,Y,de,ye,ge,be){const De=be.pindex,ee={};for(let Le=0,He=j.length;Le<He;Le++){const W=j[Le],G=W.p1!==void 0?W.p1:De;ee[G]===void 0&&(ee[G]=[]),ee[G].push(W)}const pe=Object.keys(ee),ve=[];for(let Le=0,He=pe.length;Le<He;Le++){const W=pe[Le],G=ee[W],xe=V.basematerials[W],Ae=Q(xe,de,ye,ge,be,re),Te=new gt,We=[],Ye=Y.vertices;for(let st=0,it=G.length;st<it;st++){const oe=G[st];We.push(Ye[oe.v1*3+0]),We.push(Ye[oe.v1*3+1]),We.push(Ye[oe.v1*3+2]),We.push(Ye[oe.v2*3+0]),We.push(Ye[oe.v2*3+1]),We.push(Ye[oe.v2*3+2]),We.push(Ye[oe.v3*3+0]),We.push(Ye[oe.v3*3+1]),We.push(Ye[oe.v3*3+2])}Te.setAttribute("position",new rt(We,3));const et=new Hn(Te,Ae);ve.push(et)}return ve}function R(V,j,Y,de,ye,ge,be){const De=new gt,ee=[],pe=[],ve=Y.vertices,Le=V.uvs;for(let xe=0,Ae=j.length;xe<Ae;xe++){const Te=j[xe];ee.push(ve[Te.v1*3+0]),ee.push(ve[Te.v1*3+1]),ee.push(ve[Te.v1*3+2]),ee.push(ve[Te.v2*3+0]),ee.push(ve[Te.v2*3+1]),ee.push(ve[Te.v2*3+2]),ee.push(ve[Te.v3*3+0]),ee.push(ve[Te.v3*3+1]),ee.push(ve[Te.v3*3+2]),pe.push(Le[Te.p1*2+0]),pe.push(Le[Te.p1*2+1]),pe.push(Le[Te.p2*2+0]),pe.push(Le[Te.p2*2+1]),pe.push(Le[Te.p3*2+0]),pe.push(Le[Te.p3*2+1])}De.setAttribute("position",new rt(ee,3)),De.setAttribute("uv",new rt(pe,2));const He=Q(V,de,ye,ge,be,C),W=new bf({map:He,flatShading:!0});return new Hn(De,W)}function D(V,j,Y,de,ye,ge){const be=new gt,De=[],ee=[],pe=Y.vertices,ve=V.colors;for(let W=0,G=j.length;W<G;W++){const xe=j[W],Ae=xe.v1,Te=xe.v2,We=xe.v3;De.push(pe[Ae*3+0]),De.push(pe[Ae*3+1]),De.push(pe[Ae*3+2]),De.push(pe[Te*3+0]),De.push(pe[Te*3+1]),De.push(pe[Te*3+2]),De.push(pe[We*3+0]),De.push(pe[We*3+1]),De.push(pe[We*3+2]);const Ye=xe.p1!==void 0?xe.p1:ge.pindex,et=xe.p2!==void 0?xe.p2:Ye,st=xe.p3!==void 0?xe.p3:Ye;ee.push(ve[Ye*3+0]),ee.push(ve[Ye*3+1]),ee.push(ve[Ye*3+2]),ee.push(ve[et*3+0]),ee.push(ve[et*3+1]),ee.push(ve[et*3+2]),ee.push(ve[st*3+0]),ee.push(ve[st*3+1]),ee.push(ve[st*3+2])}be.setAttribute("position",new rt(De,3)),be.setAttribute("color",new rt(ee,3));const Le=new bf({vertexColors:!0,flatShading:!0});return new Hn(be,Le)}function k(V){const j=new gt;j.setIndex(new Wt(V.triangles,1)),j.setAttribute("position",new Wt(V.vertices,3));const Y=new bf({color:11184895,flatShading:!0});return new Hn(j,Y)}function U(V,j,Y,de,ye,ge){const be=Object.keys(V),De=[];for(let ee=0,pe=be.length;ee<pe;ee++){const ve=be[ee],Le=V[ve];switch(B(ve,de)){case"material":const W=de.resources.basematerials[ve],G=I(W,Le,j,Y,de,ye,ge);for(let Te=0,We=G.length;Te<We;Te++)De.push(G[Te]);break;case"texture":const xe=de.resources.texture2dgroup[ve];De.push(R(xe,Le,j,Y,de,ye,ge));break;case"vertexColors":const Ae=de.resources.colorgroup[ve];De.push(D(Ae,Le,j,Y,de,ge));break;case"default":De.push(k(j));break;default:console.error("THREE.3MFLoader: Unsupported resource type.")}}return De}function B(V,j){return j.resources.texture2dgroup[V]!==void 0?"texture":j.resources.basematerials[V]!==void 0?"material":j.resources.colorgroup[V]!==void 0?"vertexColors":V==="default"?"default":void 0}function $(V,j,Y){const de={},ye=j.triangleProperties,ge=Y.pid;for(let be=0,De=ye.length;be<De;be++){const ee=ye[be];let pe=ee.pid!==void 0?ee.pid:ge;pe===void 0&&(pe="default"),de[pe]===void 0&&(de[pe]=[]),de[pe].push(ee)}return de}function K(V,j,Y,de,ye){const ge=new ps,be=$(Y,V,ye),De=U(be,V,j,Y,de,ye);for(let ee=0,pe=De.length;ee<pe;ee++)ge.add(De[ee]);return ge}function ie(V,j,Y){if(!V)return;const de=[],ye=Object.keys(V);for(let ge=0;ge<ye.length;ge++){const be=ye[ge];for(let De=0;De<t.availableExtensions.length;De++){const ee=t.availableExtensions[De];ee.ns===be&&de.push(ee)}}for(let ge=0;ge<de.length;ge++){const be=de[ge];be.apply(Y,V[be.ns],j)}}function Q(V,j,Y,de,ye,ge){return V.build!==void 0||(V.build=ge(V,j,Y,de,ye)),V.build}function re(V,j,Y){let de;const ye=V.displaypropertiesid,ge=Y.resources.pbmetallicdisplayproperties;if(ye!==null&&ge[ye]!==void 0){const pe=ge[ye].data[V.index];de=new Kv({flatShading:!0,roughness:pe.roughness,metalness:pe.metallicness})}else de=new bf({flatShading:!0});de.name=V.name;const be=V.displaycolor,De=be.substring(0,7);return de.color.setStyle(De),de.color.convertSRGBToLinear(),be.length===9&&(de.opacity=parseInt(be.charAt(7)+be.charAt(8),16)/255),de}function ue(V,j,Y,de){const ye=new ps;for(let ge=0;ge<V.length;ge++){const be=V[ge];let De=j[be.objectId];De===void 0&&(Pe(be.objectId,j,Y,de),De=j[be.objectId]);const ee=De.clone(),pe=be.transform;pe&&ee.applyMatrix4(pe),ye.add(ee)}return ye}function Pe(V,j,Y,de){const ye=Y.resources.object[V];if(ye.mesh){const ge=ye.mesh,be=Y.extensions,De=Y.xml;ie(be,ge,De),j[ye.id]=Q(ge,j,Y,de,ye,K)}else{const ge=ye.components;j[ye.id]=Q(ge,j,Y,de,ye,ue)}}function Ue(V){const j=V.model,Y=V.modelRels,de={},ye=Object.keys(j),ge={};if(Y)for(let be=0,De=Y.length;be<De;be++){const ee=Y[be],pe=ee.target.substring(1);V.texture[pe]&&(ge[ee.target]=V.texture[pe])}for(let be=0;be<ye.length;be++){const De=ye[be],ee=j[De],pe=Object.keys(ee.resources.object);for(let ve=0;ve<pe.length;ve++){const Le=pe[ve];Pe(Le,de,ee,ge)}}return de}function Ve(V){for(let j=0;j<V.length;j++){const Y=V[j];if(Y.target.split(".").pop().toLowerCase()==="model")return Y}}function te(V,j){const Y=new ps,de=Ve(j.rels),ye=j.model[de.target.substring(1)].build;for(let ge=0;ge<ye.length;ge++){const be=ye[ge],De=V[be.objectId].clone(),ee=be.transform;ee&&De.applyMatrix4(ee),Y.add(De)}return Y}const me=i(e),J=Ue(me);return te(J,me)}addExtension(e){this.availableExtensions.push(e)}}class nie extends jr{constructor(e){super(e);this.splitLayer=!1}load(e,t,r,i){const o=this,s=new vo(o.manager);s.setPath(o.path),s.setRequestHeader(o.requestHeader),s.setWithCredentials(o.withCredentials),s.load(e,function(a){try{t(o.parse(a))}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}parse(e){let t={x:0,y:0,z:0,e:0,f:0,extruding:!1,relative:!1};const r=[];let i;const o=new wr({color:16711680});o.name="path";const s=new wr({color:65280});s.name="extruded";function a(y){i={vertex:[],pathVertex:[],z:y.z},r.push(i)}function l(y,S){i===void 0&&a(y),t.extruding?(i.vertex.push(y.x,y.y,y.z),i.vertex.push(S.x,S.y,S.z)):(i.pathVertex.push(y.x,y.y,y.z),i.pathVertex.push(S.x,S.y,S.z))}function c(y,S){return t.relative?S:S-y}function m(y,S){return t.relative?y+S:S}const v=e.replace(/;.+/g,"").split(`
`);for(let y=0;y<v.length;y++){const S=v[y].split(" "),M=S[0].toUpperCase(),x={};if(S.splice(1).forEach(function(_){if(_[0]!==void 0){const T=_[0].toLowerCase(),E=parseFloat(_.substring(1));x[T]=E}}),M==="G0"||M==="G1"){const _={x:x.x!==void 0?m(t.x,x.x):t.x,y:x.y!==void 0?m(t.y,x.y):t.y,z:x.z!==void 0?m(t.z,x.z):t.z,e:x.e!==void 0?m(t.e,x.e):t.e,f:x.f!==void 0?m(t.f,x.f):t.f};c(t.e,_.e)>0&&(t.extruding=c(t.e,_.e)>0,(i==null||_.z!=i.z)&&a(_)),l(t,_),t=_}else if(!(M==="G2"||M==="G3")){if(M==="G90")t.relative=!1;else if(M==="G91")t.relative=!0;else if(M==="G92"){const _=t;_.x=x.x!==void 0?x.x:_.x,_.y=x.y!==void 0?x.y:_.y,_.z=x.z!==void 0?x.z:_.z,_.e=x.e!==void 0?x.e:_.e,t=_}}}function p(y,S,M){const x=new gt;x.setAttribute("position",new rt(y,3));const _=new Bi(x,S?s:o);_.name="layer"+M,g.add(_)}const g=new ps;if(g.name="gcode",this.splitLayer)for(let y=0;y<r.length;y++){const S=r[y];p(S.vertex,!0,y),p(S.pathVertex,!1,y)}else{const y=[],S=[];for(let M=0;M<r.length;M++){const x=r[M],_=x.vertex,T=x.pathVertex;for(let E=0;E<_.length;E++)y.push(_[E]);for(let E=0;E<T.length;E++)S.push(T[E])}p(y,!0,r.length),p(S,!1,r.length)}return g.quaternion.setFromEuler(new hu(-Math.PI/2,0,0)),g}}function xs(n){for(var e=arguments.length,t=Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+n+(t.length?" "+t.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Cu(n){return!!n&&!!n[Gn]}function Pu(n){return!!n&&(function(e){if(!e||typeof e!="object")return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;var r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object||typeof r=="function"&&Function.toString.call(r)===tre}(n)||Array.isArray(n)||!!n[qz]||!!n.constructor[qz]||MC(n)||EC(n))}function Lf(n,e,t){t===void 0&&(t=!1),Ep(n)===0?(t?Object.keys:Ap)(n).forEach(function(r){t&&typeof r=="symbol"||e(r,n[r],n)}):n.forEach(function(r,i){return e(i,r,n)})}function Ep(n){var e=n[Gn];return e?e.i>3?e.i-4:e.i:Array.isArray(n)?1:MC(n)?2:EC(n)?3:0}function Tp(n,e){return Ep(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function Xne(n,e){return Ep(n)===2?n.get(e):n[e]}function Nz(n,e,t){var r=Ep(n);r===2?n.set(e,t):r===3?(n.delete(e),n.add(t)):n[e]=t}function Bz(n,e){return n===e?n!==0||1/n==1/e:n!=n&&e!=e}function MC(n){return Qne&&n instanceof Map}function EC(n){return ere&&n instanceof Set}function If(n){return n.o||n.t}function TC(n){if(Array.isArray(n))return Array.prototype.slice.call(n);var e=Xz(n);delete e[Gn];for(var t=Ap(e),r=0;r<t.length;r++){var i=t[r],o=e[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(e[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:n[i]})}return Object.create(Object.getPrototypeOf(n),e)}function AC(n,e){return e===void 0&&(e=!1),CC(n)||Cu(n)||!Pu(n)||(Ep(n)>1&&(n.set=n.add=n.clear=n.delete=Kne),Object.freeze(n),e&&Lf(n,function(t,r){return AC(r,!0)},!0)),n}function Kne(){xs(2)}function CC(n){return n==null||typeof n!="object"||Object.isFrozen(n)}function sl(n){var e=NC[n];return e||xs(18,n),e}function Yne(n,e){NC[n]||(NC[n]=e)}function PC(){return ly}function RC(n,e){e&&(sl("Patches"),n.u=[],n.s=[],n.v=e)}function qw(n){LC(n),n.p.forEach($ne),n.p=null}function LC(n){n===ly&&(ly=n.l)}function zz(n){return ly={p:[],l:ly,h:n,m:!0,_:0}}function $ne(n){var e=n[Gn];e.i===0||e.i===1?e.j():e.O=!0}function IC(n,e){e._=e.p.length;var t=e.p[0],r=n!==void 0&&n!==t;return e.h.g||sl("ES5").S(e,n,r),r?(t[Gn].P&&(qw(e),xs(4)),Pu(n)&&(n=Xw(e,n),e.l||Kw(e,n)),e.u&&sl("Patches").M(t[Gn],n,e.u,e.s)):n=Xw(e,t,[]),qw(e),e.u&&e.v(e.u,e.s),n!==jz?n:void 0}function Xw(n,e,t){if(CC(e))return e;var r=e[Gn];if(!r)return Lf(e,function(o,s){return Uz(n,r,e,o,s,t)},!0),e;if(r.A!==n)return e;if(!r.P)return Kw(n,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=TC(r.k):r.o;Lf(r.i===3?new Set(i):i,function(o,s){return Uz(n,r,i,o,s,t)}),Kw(n,i,!1),t&&n.u&&sl("Patches").R(r,t,n.u,n.s)}return r.o}function Uz(n,e,t,r,i,o){if(Cu(i)){var s=Xw(n,i,o&&e&&e.i!==3&&!Tp(e.D,r)?o.concat(r):void 0);if(Nz(t,r,s),!Cu(s))return;n.m=!1}if(Pu(i)&&!CC(i)){if(!n.h.F&&n._<1)return;Xw(n,i),e&&e.A.l||Kw(n,i)}}function Kw(n,e,t){t===void 0&&(t=!1),n.h.F&&n.m&&AC(e,t)}function DC(n,e){var t=n[Gn];return(t?If(t):n)[e]}function Vz(n,e){if(e in n)for(var t=Object.getPrototypeOf(n);t;){var r=Object.getOwnPropertyDescriptor(t,e);if(r)return r;t=Object.getPrototypeOf(t)}}function Ru(n){n.P||(n.P=!0,n.l&&Ru(n.l))}function OC(n){n.o||(n.o=TC(n.t))}function FC(n,e,t){var r=MC(e)?sl("MapSet").N(e,t):EC(e)?sl("MapSet").T(e,t):n.g?function(i,o){var s=Array.isArray(i),a={i:s?1:0,A:o?o.A:PC(),P:!1,I:!1,D:{},l:o,t:i,k:null,o:null,j:null,C:!1},l=a,c=Cp;s&&(l=[a],c=Yw);var m=Proxy.revocable(l,c),v=m.revoke,p=m.proxy;return a.k=p,a.j=v,p}(e,t):sl("ES5").J(e,t);return(t?t.A:PC()).p.push(r),r}function Zne(n){return Cu(n)||xs(22,n),function e(t){if(!Pu(t))return t;var r,i=t[Gn],o=Ep(t);if(i){if(!i.P&&(i.i<4||!sl("ES5").K(i)))return i.t;i.I=!0,r=Hz(t,o),i.I=!1}else r=Hz(t,o);return Lf(r,function(s,a){i&&Xne(i.t,s)===a||Nz(r,s,e(a))}),o===3?new Set(r):r}(n)}function Hz(n,e){switch(e){case 2:return new Map(n);case 3:return Array.from(n)}return TC(n)}function Jne(){function n(o,s){var a=i[o];return a?a.enumerable=s:i[o]=a={configurable:!0,enumerable:s,get:function(){var l=this[Gn];return Cp.get(l,o)},set:function(l){var c=this[Gn];Cp.set(c,o,l)}},a}function e(o){for(var s=o.length-1;s>=0;s--){var a=o[s][Gn];if(!a.P)switch(a.i){case 5:r(a)&&Ru(a);break;case 4:t(a)&&Ru(a)}}}function t(o){for(var s=o.t,a=o.k,l=Ap(a),c=l.length-1;c>=0;c--){var m=l[c];if(m!==Gn){var v=s[m];if(v===void 0&&!Tp(s,m))return!0;var p=a[m],g=p&&p[Gn];if(g?g.t!==v:!Bz(p,v))return!0}}var y=!!s[Gn];return l.length!==Ap(s).length+(y?0:1)}function r(o){var s=o.k;if(s.length!==o.t.length)return!0;var a=Object.getOwnPropertyDescriptor(s,s.length-1);return!(!a||a.get)}var i={};Yne("ES5",{J:function(o,s){var a=Array.isArray(o),l=function(m,v){if(m){for(var p=Array(v.length),g=0;g<v.length;g++)Object.defineProperty(p,""+g,n(g,!0));return p}var y=Xz(v);delete y[Gn];for(var S=Ap(y),M=0;M<S.length;M++){var x=S[M];y[x]=n(x,m||!!y[x].enumerable)}return Object.create(Object.getPrototypeOf(v),y)}(a,o),c={i:a?5:4,A:s?s.A:PC(),P:!1,I:!1,D:{},l:s,t:o,k:l,o:null,O:!1,C:!1};return Object.defineProperty(l,Gn,{value:c,writable:!0}),l},S:function(o,s,a){a?Cu(s)&&s[Gn].A===o&&e(o.p):(o.u&&function l(c){if(c&&typeof c=="object"){var m=c[Gn];if(m){var v=m.t,p=m.k,g=m.D,y=m.i;if(y===4)Lf(p,function(T){T!==Gn&&(v[T]!==void 0||Tp(v,T)?g[T]||l(p[T]):(g[T]=!0,Ru(m)))}),Lf(v,function(T){p[T]!==void 0||Tp(p,T)||(g[T]=!1,Ru(m))});else if(y===5){if(r(m)&&(Ru(m),g.length=!0),p.length<v.length)for(var S=p.length;S<v.length;S++)g[S]=!1;else for(var M=v.length;M<p.length;M++)g[M]=!0;for(var x=Math.min(p.length,v.length),_=0;_<x;_++)g[_]===void 0&&l(p[_])}}}}(o.p[0]),e(o.p))},K:function(o){return o.i===4?t(o):r(o)}})}var Gz,ly,kC=typeof Symbol!="undefined"&&typeof Symbol("x")=="symbol",Qne=typeof Map!="undefined",ere=typeof Set!="undefined",Wz=typeof Proxy!="undefined"&&Proxy.revocable!==void 0&&typeof Reflect!="undefined",jz=kC?Symbol.for("immer-nothing"):((Gz={})["immer-nothing"]=!0,Gz),qz=kC?Symbol.for("immer-draftable"):"__$immer_draftable",Gn=kC?Symbol.for("immer-state"):"__$immer_state",tre=""+Object.prototype.constructor,Ap=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(n){return Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n))}:Object.getOwnPropertyNames,Xz=Object.getOwnPropertyDescriptors||function(n){var e={};return Ap(n).forEach(function(t){e[t]=Object.getOwnPropertyDescriptor(n,t)}),e},NC={},Cp={get:function(n,e){if(e===Gn)return n;var t=If(n);if(!Tp(t,e))return function(i,o,s){var a,l=Vz(o,s);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(i.k):void 0}(n,t,e);var r=t[e];return n.I||!Pu(r)?r:r===DC(n.t,e)?(OC(n),n.o[e]=FC(n.A.h,r,n)):r},has:function(n,e){return e in If(n)},ownKeys:function(n){return Reflect.ownKeys(If(n))},set:function(n,e,t){var r=Vz(If(n),e);if(r==null?void 0:r.set)return r.set.call(n.k,t),!0;if(!n.P){var i=DC(If(n),e),o=i==null?void 0:i[Gn];if(o&&o.t===t)return n.o[e]=t,n.D[e]=!1,!0;if(Bz(t,i)&&(t!==void 0||Tp(n.t,e)))return!0;OC(n),Ru(n)}return n.o[e]===t&&typeof t!="number"&&(t!==void 0||e in n.o)||(n.o[e]=t,n.D[e]=!0,!0)},deleteProperty:function(n,e){return DC(n.t,e)!==void 0||e in n.t?(n.D[e]=!1,OC(n),Ru(n)):delete n.D[e],n.o&&delete n.o[e],!0},getOwnPropertyDescriptor:function(n,e){var t=If(n),r=Reflect.getOwnPropertyDescriptor(t,e);return r&&{writable:!0,configurable:n.i!==1||e!=="length",enumerable:r.enumerable,value:t[e]}},defineProperty:function(){xs(11)},getPrototypeOf:function(n){return Object.getPrototypeOf(n.t)},setPrototypeOf:function(){xs(12)}},Yw={};Lf(Cp,function(n,e){Yw[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),Yw.deleteProperty=function(n,e){return Cp.deleteProperty.call(this,n[0],e)},Yw.set=function(n,e,t){return Cp.set.call(this,n[0],e,t,n[0])};var nre=function(){function n(t){var r=this;this.g=Wz,this.F=!0,this.produce=function(i,o,s){if(typeof i=="function"&&typeof o!="function"){var a=o;o=i;var l=r;return function(g){var y=this;g===void 0&&(g=a);for(var S=arguments.length,M=Array(S>1?S-1:0),x=1;x<S;x++)M[x-1]=arguments[x];return l.produce(g,function(_){var T;return(T=o).call.apply(T,[y,_].concat(M))})}}var c;if(typeof o!="function"&&xs(6),s!==void 0&&typeof s!="function"&&xs(7),Pu(i)){var m=zz(r),v=FC(r,i,void 0),p=!0;try{c=o(v),p=!1}finally{p?qw(m):LC(m)}return typeof Promise!="undefined"&&c instanceof Promise?c.then(function(g){return RC(m,s),IC(g,m)},function(g){throw qw(m),g}):(RC(m,s),IC(c,m))}if(!i||typeof i!="object")return(c=o(i))===jz?void 0:(c===void 0&&(c=i),r.F&&AC(c,!0),c);xs(21,i)},this.produceWithPatches=function(i,o){return typeof i=="function"?function(l){for(var c=arguments.length,m=Array(c>1?c-1:0),v=1;v<c;v++)m[v-1]=arguments[v];return r.produceWithPatches(l,function(p){return i.apply(void 0,[p].concat(m))})}:[r.produce(i,o,function(l,c){s=l,a=c}),s,a];var s,a},typeof(t==null?void 0:t.useProxies)=="boolean"&&this.setUseProxies(t.useProxies),typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze)}var e=n.prototype;return e.createDraft=function(t){Pu(t)||xs(8),Cu(t)&&(t=Zne(t));var r=zz(this),i=FC(this,t,void 0);return i[Gn].C=!0,LC(r),i},e.finishDraft=function(t,r){var i=t&&t[Gn],o=i.A;return RC(o,r),IC(void 0,o)},e.setAutoFreeze=function(t){this.F=t},e.setUseProxies=function(t){t&&!Wz&&xs(20),this.g=t},e.applyPatches=function(t,r){var i;for(i=r.length-1;i>=0;i--){var o=r[i];if(o.path.length===0&&o.op==="replace"){t=o.value;break}}i>-1&&(r=r.slice(i+1));var s=sl("Patches").$;return Cu(t)?s(t,r):this.produce(t,function(a){return s(a,r)})},n}(),xo=new nre,rre=xo.produce;xo.produceWithPatches.bind(xo);xo.setAutoFreeze.bind(xo);xo.setUseProxies.bind(xo);xo.applyPatches.bind(xo);xo.createDraft.bind(xo);xo.finishDraft.bind(xo);var $w=rre;function Kz(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Yz(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Kz(Object(t),!0).forEach(function(r){Nt(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Kz(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function bi(n){return"Minified Redux error #"+n+"; visit https://redux.js.org/Errors?code="+n+" for the full message or use the non-minified dev environment for full errors. "}var $z=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),BC=function(){return Math.random().toString(36).substring(7).split("").join(".")},Zw={INIT:"@@redux/INIT"+BC(),REPLACE:"@@redux/REPLACE"+BC(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+BC()}};function ire(n){if(typeof n!="object"||n===null)return!1;for(var e=n;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e}function Zz(n,e,t){var r;if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(bi(0));if(typeof e=="function"&&typeof t=="undefined"&&(t=e,e=void 0),typeof t!="undefined"){if(typeof t!="function")throw new Error(bi(1));return t(Zz)(n,e)}if(typeof n!="function")throw new Error(bi(2));var i=n,o=e,s=[],a=s,l=!1;function c(){a===s&&(a=s.slice())}function m(){if(l)throw new Error(bi(3));return o}function v(S){if(typeof S!="function")throw new Error(bi(4));if(l)throw new Error(bi(5));var M=!0;return c(),a.push(S),function(){if(!!M){if(l)throw new Error(bi(6));M=!1,c();var _=a.indexOf(S);a.splice(_,1),s=null}}}function p(S){if(!ire(S))throw new Error(bi(7));if(typeof S.type=="undefined")throw new Error(bi(8));if(l)throw new Error(bi(9));try{l=!0,o=i(o,S)}finally{l=!1}for(var M=s=a,x=0;x<M.length;x++){var _=M[x];_()}return S}function g(S){if(typeof S!="function")throw new Error(bi(10));i=S,p({type:Zw.REPLACE})}function y(){var S,M=v;return S={subscribe:function(_){if(typeof _!="object"||_===null)throw new Error(bi(11));function T(){_.next&&_.next(m())}T();var E=M(T);return{unsubscribe:E}}},S[$z]=function(){return this},S}return p({type:Zw.INIT}),r={dispatch:p,subscribe:v,getState:m,replaceReducer:g},r[$z]=y,r}function ore(n){Object.keys(n).forEach(function(e){var t=n[e],r=t(void 0,{type:Zw.INIT});if(typeof r=="undefined")throw new Error(bi(12));if(typeof t(void 0,{type:Zw.PROBE_UNKNOWN_ACTION()})=="undefined")throw new Error(bi(13))})}function sre(n){for(var e=Object.keys(n),t={},r=0;r<e.length;r++){var i=e[r];typeof n[i]=="function"&&(t[i]=n[i])}var o=Object.keys(t),s;try{ore(t)}catch(a){s=a}return function(l,c){if(l===void 0&&(l={}),s)throw s;for(var m=!1,v={},p=0;p<o.length;p++){var g=o[p],y=t[g],S=l[g],M=y(S,c);if(typeof M=="undefined")throw c&&c.type,new Error(bi(14));v[g]=M,m=m||M!==S}return m=m||o.length!==Object.keys(l).length,m?v:l}}function Jw(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function are(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(r){return function(){var i=r.apply(void 0,arguments),o=function(){throw new Error(bi(15))},s={getState:i.getState,dispatch:function(){return o.apply(void 0,arguments)}},a=e.map(function(l){return l(s)});return o=Jw.apply(void 0,a)(i.dispatch),Yz(Yz({},i),{},{dispatch:o})}}}function Jz(n){var e=function(r){var i=r.dispatch,o=r.getState;return function(s){return function(a){return typeof a=="function"?a(i,o,n):s(a)}}};return e}var Qz=Jz();Qz.withExtraArgument=Jz;var e4=Qz,lre=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ure=globalThis&&globalThis.__generator||function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(m){return l([c,m])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){t.label=c[1];break}if(c[0]===6&&t.label<o[1]){t.label=o[1],o=c;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(c);break}o[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(n,t)}catch(m){c=[6,m],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Qw=globalThis&&globalThis.__spreadArray||function(n,e){for(var t=0,r=e.length,i=n.length;t<r;t++,i++)n[i]=e[t];return n},cre=Object.defineProperty,fre=Object.defineProperties,dre=Object.getOwnPropertyDescriptors,t4=Object.getOwnPropertySymbols,hre=Object.prototype.hasOwnProperty,pre=Object.prototype.propertyIsEnumerable,n4=function(n,e,t){return e in n?cre(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t},Lu=function(n,e){for(var t in e||(e={}))hre.call(e,t)&&n4(n,t,e[t]);if(t4)for(var r=0,i=t4(e);r<i.length;r++){var t=i[r];pre.call(e,t)&&n4(n,t,e[t])}return n},zC=function(n,e){return fre(n,dre(e))},mre=function(n,e,t){return new Promise(function(r,i){var o=function(l){try{a(t.next(l))}catch(c){i(c)}},s=function(l){try{a(t.throw(l))}catch(c){i(c)}},a=function(l){return l.done?r(l.value):Promise.resolve(l.value).then(o,s)};a((t=t.apply(n,e)).next())})},gre=typeof window!="undefined"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Jw:Jw.apply(null,arguments)};function vre(n){if(typeof n!="object"||n===null)return!1;var e=Object.getPrototypeOf(n);if(e===null)return!0;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return e===t}var yre=function(n){lre(e,n);function e(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i=n.apply(this,t)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return n.prototype.concat.apply(this,t)},e.prototype.prepend=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return t.length===1&&Array.isArray(t[0])?new(e.bind.apply(e,Qw([void 0],t[0].concat(this)))):new(e.bind.apply(e,Qw([void 0],t.concat(this))))},e}(Array);function xre(n){return typeof n=="boolean"}function _re(){return function(e){return wre(e)}}function wre(n){n===void 0&&(n={});var e=n.thunk,t=e===void 0?!0:e;n.immutableCheck,n.serializableCheck;var r=new yre;return t&&(xre(t)?r.push(e4):r.push(e4.withExtraArgument(t.extraArgument))),r}var Sre=!0;function rie(n){var e=_re(),t=n||{},r=t.reducer,i=r===void 0?void 0:r,o=t.middleware,s=o===void 0?e():o,a=t.devTools,l=a===void 0?!0:a,c=t.preloadedState,m=c===void 0?void 0:c,v=t.enhancers,p=v===void 0?void 0:v,g;if(typeof i=="function")g=i;else if(vre(i))g=sre(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var y=s;typeof y=="function"&&(y=y(e));var S=are.apply(void 0,y),M=Jw;l&&(M=gre(Lu({trace:!Sre},typeof l=="object"&&l)));var x=[S];Array.isArray(p)?x=Qw([S],p):typeof p=="function"&&(x=p(x));var _=M.apply(void 0,x);return Zz(g,m,_)}function uy(n,e){function t(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(e){var o=e.apply(void 0,r);if(!o)throw new Error("prepareAction did not return an object");return Lu(Lu({type:n,payload:o.payload},"meta"in o&&{meta:o.meta}),"error"in o&&{error:o.error})}return{type:n,payload:r[0]}}return t.toString=function(){return""+n},t.type=n,t.match=function(r){return r.type===n},t}function r4(n){var e={},t=[],r,i={addCase:function(o,s){var a=typeof o=="string"?o:o.type;if(a in e)throw new Error("addCase cannot be called with two reducers for the same action type");return e[a]=s,i},addMatcher:function(o,s){return t.push({matcher:o,reducer:s}),i},addDefaultCase:function(o){return r=o,i}};return n(i),[e,t,r]}function bre(n){return typeof n=="function"}function Mre(n,e,t,r){t===void 0&&(t=[]);var i=typeof e=="function"?r4(e):[e,t,r],o=i[0],s=i[1],a=i[2],l;if(bre(n))l=function(){return $w(n(),function(){})};else{var c=$w(n,function(){});l=function(){return c}}function m(v,p){v===void 0&&(v=l());var g=Qw([o[p.type]],s.filter(function(y){var S=y.matcher;return S(p)}).map(function(y){var S=y.reducer;return S}));return g.filter(function(y){return!!y}).length===0&&(g=[a]),g.reduce(function(y,S){if(S)if(Cu(y)){var M=y,x=S(M,p);return typeof x=="undefined"?y:x}else{if(Pu(y))return $w(y,function(_){return S(_,p)});var x=S(y,p);if(typeof x=="undefined"){if(y===null)return y;throw Error("A case reducer on a non-draftable value must not return undefined")}return x}return y},v)}return m.getInitialState=l,m}function Ere(n,e){return n+"/"+e}function iie(n){var e=n.name;if(!e)throw new Error("`name` is a required option for createSlice");var t=typeof n.initialState=="function"?n.initialState:$w(n.initialState,function(){}),r=n.reducers||{},i=Object.keys(r),o={},s={},a={};i.forEach(function(m){var v=r[m],p=Ere(e,m),g,y;"reducer"in v?(g=v.reducer,y=v.prepare):g=v,o[m]=g,s[p]=g,a[m]=y?uy(p,y):uy(p)});function l(){var m=typeof n.extraReducers=="function"?r4(n.extraReducers):[n.extraReducers],v=m[0],p=v===void 0?{}:v,g=m[1],y=g===void 0?[]:g,S=m[2],M=S===void 0?void 0:S,x=Lu(Lu({},p),s);return Mre(t,x,y,M)}var c;return{name:e,reducer:function(m,v){return c||(c=l()),c(m,v)},actions:a,caseReducers:o,getInitialState:function(){return c||(c=l()),c.getInitialState()}}}var Tre="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Are=function(n){n===void 0&&(n=21);for(var e="",t=n;t--;)e+=Tre[Math.random()*64|0];return e},Cre=["name","message","stack","code"],UC=function(){function n(e,t){this.payload=e,this.meta=t}return n}(),i4=function(){function n(e,t){this.payload=e,this.meta=t}return n}(),Pre=function(n){if(typeof n=="object"&&n!==null){for(var e={},t=0,r=Cre;t<r.length;t++){var i=r[t];typeof n[i]=="string"&&(e[i]=n[i])}return e}return{message:String(n)}};function oie(n,e,t){var r=uy(n+"/fulfilled",function(l,c,m,v){return{payload:l,meta:zC(Lu({},v||{}),{arg:m,requestId:c,requestStatus:"fulfilled"})}}),i=uy(n+"/pending",function(l,c,m){return{payload:void 0,meta:zC(Lu({},m||{}),{arg:c,requestId:l,requestStatus:"pending"})}}),o=uy(n+"/rejected",function(l,c,m,v,p){return{payload:v,error:(t&&t.serializeError||Pre)(l||"Rejected"),meta:zC(Lu({},p||{}),{arg:m,requestId:c,rejectedWithValue:!!v,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"})}}),s=typeof AbortController!="undefined"?AbortController:function(){function l(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){}}}return l.prototype.abort=function(){},l}();function a(l){return function(c,m,v){var p=(t==null?void 0:t.idGenerator)?t.idGenerator(l):Are(),g=new s,y,S=new Promise(function(T,E){return g.signal.addEventListener("abort",function(){return E({name:"AbortError",message:y||"Aborted"})})}),M=!1;function x(T){M&&(y=T,g.abort())}var _=function(){return mre(this,null,function(){var T,E,C,I,R,D;return ure(this,function(k){switch(k.label){case 0:return k.trys.push([0,4,,5]),I=(T=t==null?void 0:t.condition)==null?void 0:T.call(t,l,{getState:m,extra:v}),Lre(I)?[4,I]:[3,2];case 1:I=k.sent(),k.label=2;case 2:if(I===!1)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return M=!0,c(i(p,l,(E=t==null?void 0:t.getPendingMeta)==null?void 0:E.call(t,{requestId:p,arg:l},{getState:m,extra:v}))),[4,Promise.race([S,Promise.resolve(e(l,{dispatch:c,getState:m,extra:v,requestId:p,signal:g.signal,rejectWithValue:function(U,B){return new UC(U,B)},fulfillWithValue:function(U,B){return new i4(U,B)}})).then(function(U){if(U instanceof UC)throw U;return U instanceof i4?r(U.payload,p,l,U.meta):r(U,p,l)})])];case 3:return C=k.sent(),[3,5];case 4:return R=k.sent(),C=R instanceof UC?o(null,p,l,R.payload,R.meta):o(R,p,l),[3,5];case 5:return D=t&&!t.dispatchConditionRejection&&o.match(C)&&C.meta.condition,D||c(C),[2,C]}})})}();return Object.assign(_,{abort:x,requestId:p,arg:l,unwrap:function(){return _.then(Rre)}})}}return Object.assign(a,{pending:i,rejected:o,fulfilled:r,typePrefix:n})}function Rre(n){if(n.meta&&n.meta.rejectedWithValue)throw n.payload;if(n.error)throw n.error;return n.payload}function Lre(n){return n!==null&&typeof n=="object"&&typeof n.then=="function"}Jne();export{qre as A,kre as B,$re as C,Hx as D,zre as F,nie as G,Zre as H,VA as L,Nre as N,Qre as O,Hre as P,J1 as R,Kre as S,tie as T,Wre as a,Bre as b,bz as c,eie as d,Jre as e,Xre as f,Vre as g,f3 as h,Ore as i,c3 as j,ZG as k,iie as l,oie as m,rie as n,Dre as o,Fre as p,$G as q,se as r,jre as s,Zte as t,Gre as u,Ure as v};
